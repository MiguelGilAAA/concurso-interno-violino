(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=t(a);fetch(a.href,l)}})();function uC(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Rm={exports:{}},Ru={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cE;function cC(){if(cE)return Ru;cE=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:n,type:i,key:c,ref:a!==void 0?a:null,props:l}}return Ru.Fragment=e,Ru.jsx=t,Ru.jsxs=t,Ru}var hE;function hC(){return hE||(hE=1,Rm.exports=cC()),Rm.exports}var T=hC(),Cm={exports:{}},Ne={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fE;function fC(){if(fE)return Ne;fE=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.iterator;function S(L){return L===null||typeof L!="object"?null:(L=b&&L[b]||L["@@iterator"],typeof L=="function"?L:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,M={};function P(L,re,ue){this.props=L,this.context=re,this.refs=M,this.updater=ue||O}P.prototype.isReactComponent={},P.prototype.setState=function(L,re){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,re,"setState")},P.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function B(){}B.prototype=P.prototype;function F(L,re,ue){this.props=L,this.context=re,this.refs=M,this.updater=ue||O}var j=F.prototype=new B;j.constructor=F,C(j,P.prototype),j.isPureReactComponent=!0;var G=Array.isArray,X={H:null,A:null,T:null,S:null,V:null},J=Object.prototype.hasOwnProperty;function x(L,re,ue,le,ge,be){return ue=be.ref,{$$typeof:n,type:L,key:re,ref:ue!==void 0?ue:null,props:be}}function R(L,re){return x(L.type,re,void 0,void 0,void 0,L.props)}function I(L){return typeof L=="object"&&L!==null&&L.$$typeof===n}function N(L){var re={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(ue){return re[ue]})}var V=/\/+/g;function U(L,re){return typeof L=="object"&&L!==null&&L.key!=null?N(""+L.key):re.toString(36)}function D(){}function ve(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(D,D):(L.status="pending",L.then(function(re){L.status==="pending"&&(L.status="fulfilled",L.value=re)},function(re){L.status==="pending"&&(L.status="rejected",L.reason=re)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function Ue(L,re,ue,le,ge){var be=typeof L;(be==="undefined"||be==="boolean")&&(L=null);var ye=!1;if(L===null)ye=!0;else switch(be){case"bigint":case"string":case"number":ye=!0;break;case"object":switch(L.$$typeof){case n:case e:ye=!0;break;case v:return ye=L._init,Ue(ye(L._payload),re,ue,le,ge)}}if(ye)return ge=ge(L),ye=le===""?"."+U(L,0):le,G(ge)?(ue="",ye!=null&&(ue=ye.replace(V,"$&/")+"/"),Ue(ge,re,ue,"",function(Ft){return Ft})):ge!=null&&(I(ge)&&(ge=R(ge,ue+(ge.key==null||L&&L.key===ge.key?"":(""+ge.key).replace(V,"$&/")+"/")+ye)),re.push(ge)),1;ye=0;var at=le===""?".":le+":";if(G(L))for(var De=0;De<L.length;De++)le=L[De],be=at+U(le,De),ye+=Ue(le,re,ue,be,ge);else if(De=S(L),typeof De=="function")for(L=De.call(L),De=0;!(le=L.next()).done;)le=le.value,be=at+U(le,De++),ye+=Ue(le,re,ue,be,ge);else if(be==="object"){if(typeof L.then=="function")return Ue(ve(L),re,ue,le,ge);throw re=String(L),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.")}return ye}function Z(L,re,ue){if(L==null)return L;var le=[],ge=0;return Ue(L,le,"","",function(be){return re.call(ue,be,ge++)}),le}function oe(L){if(L._status===-1){var re=L._result;re=re(),re.then(function(ue){(L._status===0||L._status===-1)&&(L._status=1,L._result=ue)},function(ue){(L._status===0||L._status===-1)&&(L._status=2,L._result=ue)}),L._status===-1&&(L._status=0,L._result=re)}if(L._status===1)return L._result.default;throw L._result}var fe=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var re=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(re))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)};function Oe(){}return Ne.Children={map:Z,forEach:function(L,re,ue){Z(L,function(){re.apply(this,arguments)},ue)},count:function(L){var re=0;return Z(L,function(){re++}),re},toArray:function(L){return Z(L,function(re){return re})||[]},only:function(L){if(!I(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},Ne.Component=P,Ne.Fragment=t,Ne.Profiler=a,Ne.PureComponent=F,Ne.StrictMode=i,Ne.Suspense=p,Ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=X,Ne.__COMPILER_RUNTIME={__proto__:null,c:function(L){return X.H.useMemoCache(L)}},Ne.cache=function(L){return function(){return L.apply(null,arguments)}},Ne.cloneElement=function(L,re,ue){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var le=C({},L.props),ge=L.key,be=void 0;if(re!=null)for(ye in re.ref!==void 0&&(be=void 0),re.key!==void 0&&(ge=""+re.key),re)!J.call(re,ye)||ye==="key"||ye==="__self"||ye==="__source"||ye==="ref"&&re.ref===void 0||(le[ye]=re[ye]);var ye=arguments.length-2;if(ye===1)le.children=ue;else if(1<ye){for(var at=Array(ye),De=0;De<ye;De++)at[De]=arguments[De+2];le.children=at}return x(L.type,ge,void 0,void 0,be,le)},Ne.createContext=function(L){return L={$$typeof:c,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:l,_context:L},L},Ne.createElement=function(L,re,ue){var le,ge={},be=null;if(re!=null)for(le in re.key!==void 0&&(be=""+re.key),re)J.call(re,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(ge[le]=re[le]);var ye=arguments.length-2;if(ye===1)ge.children=ue;else if(1<ye){for(var at=Array(ye),De=0;De<ye;De++)at[De]=arguments[De+2];ge.children=at}if(L&&L.defaultProps)for(le in ye=L.defaultProps,ye)ge[le]===void 0&&(ge[le]=ye[le]);return x(L,be,void 0,void 0,null,ge)},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(L){return{$$typeof:d,render:L}},Ne.isValidElement=I,Ne.lazy=function(L){return{$$typeof:v,_payload:{_status:-1,_result:L},_init:oe}},Ne.memo=function(L,re){return{$$typeof:g,type:L,compare:re===void 0?null:re}},Ne.startTransition=function(L){var re=X.T,ue={};X.T=ue;try{var le=L(),ge=X.S;ge!==null&&ge(ue,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(Oe,fe)}catch(be){fe(be)}finally{X.T=re}},Ne.unstable_useCacheRefresh=function(){return X.H.useCacheRefresh()},Ne.use=function(L){return X.H.use(L)},Ne.useActionState=function(L,re,ue){return X.H.useActionState(L,re,ue)},Ne.useCallback=function(L,re){return X.H.useCallback(L,re)},Ne.useContext=function(L){return X.H.useContext(L)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(L,re){return X.H.useDeferredValue(L,re)},Ne.useEffect=function(L,re,ue){var le=X.H;if(typeof ue=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return le.useEffect(L,re)},Ne.useId=function(){return X.H.useId()},Ne.useImperativeHandle=function(L,re,ue){return X.H.useImperativeHandle(L,re,ue)},Ne.useInsertionEffect=function(L,re){return X.H.useInsertionEffect(L,re)},Ne.useLayoutEffect=function(L,re){return X.H.useLayoutEffect(L,re)},Ne.useMemo=function(L,re){return X.H.useMemo(L,re)},Ne.useOptimistic=function(L,re){return X.H.useOptimistic(L,re)},Ne.useReducer=function(L,re,ue){return X.H.useReducer(L,re,ue)},Ne.useRef=function(L){return X.H.useRef(L)},Ne.useState=function(L){return X.H.useState(L)},Ne.useSyncExternalStore=function(L,re,ue){return X.H.useSyncExternalStore(L,re,ue)},Ne.useTransition=function(){return X.H.useTransition()},Ne.version="19.1.0",Ne}var dE;function xg(){return dE||(dE=1,Cm.exports=fC()),Cm.exports}var H=xg();const he=uC(H);var Im={exports:{}},Cu={},xm={exports:{}},Om={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pE;function dC(){return pE||(pE=1,function(n){function e(Z,oe){var fe=Z.length;Z.push(oe);e:for(;0<fe;){var Oe=fe-1>>>1,L=Z[Oe];if(0<a(L,oe))Z[Oe]=oe,Z[fe]=L,fe=Oe;else break e}}function t(Z){return Z.length===0?null:Z[0]}function i(Z){if(Z.length===0)return null;var oe=Z[0],fe=Z.pop();if(fe!==oe){Z[0]=fe;e:for(var Oe=0,L=Z.length,re=L>>>1;Oe<re;){var ue=2*(Oe+1)-1,le=Z[ue],ge=ue+1,be=Z[ge];if(0>a(le,fe))ge<L&&0>a(be,le)?(Z[Oe]=be,Z[ge]=fe,Oe=ge):(Z[Oe]=le,Z[ue]=fe,Oe=ue);else if(ge<L&&0>a(be,fe))Z[Oe]=be,Z[ge]=fe,Oe=ge;else break e}}return oe}function a(Z,oe){var fe=Z.sortIndex-oe.sortIndex;return fe!==0?fe:Z.id-oe.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();n.unstable_now=function(){return c.now()-d}}var p=[],g=[],v=1,b=null,S=3,O=!1,C=!1,M=!1,P=!1,B=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;function G(Z){for(var oe=t(g);oe!==null;){if(oe.callback===null)i(g);else if(oe.startTime<=Z)i(g),oe.sortIndex=oe.expirationTime,e(p,oe);else break;oe=t(g)}}function X(Z){if(M=!1,G(Z),!C)if(t(p)!==null)C=!0,J||(J=!0,U());else{var oe=t(g);oe!==null&&Ue(X,oe.startTime-Z)}}var J=!1,x=-1,R=5,I=-1;function N(){return P?!0:!(n.unstable_now()-I<R)}function V(){if(P=!1,J){var Z=n.unstable_now();I=Z;var oe=!0;try{e:{C=!1,M&&(M=!1,F(x),x=-1),O=!0;var fe=S;try{t:{for(G(Z),b=t(p);b!==null&&!(b.expirationTime>Z&&N());){var Oe=b.callback;if(typeof Oe=="function"){b.callback=null,S=b.priorityLevel;var L=Oe(b.expirationTime<=Z);if(Z=n.unstable_now(),typeof L=="function"){b.callback=L,G(Z),oe=!0;break t}b===t(p)&&i(p),G(Z)}else i(p);b=t(p)}if(b!==null)oe=!0;else{var re=t(g);re!==null&&Ue(X,re.startTime-Z),oe=!1}}break e}finally{b=null,S=fe,O=!1}oe=void 0}}finally{oe?U():J=!1}}}var U;if(typeof j=="function")U=function(){j(V)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,ve=D.port2;D.port1.onmessage=V,U=function(){ve.postMessage(null)}}else U=function(){B(V,0)};function Ue(Z,oe){x=B(function(){Z(n.unstable_now())},oe)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Z){Z.callback=null},n.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<Z?Math.floor(1e3/Z):5},n.unstable_getCurrentPriorityLevel=function(){return S},n.unstable_next=function(Z){switch(S){case 1:case 2:case 3:var oe=3;break;default:oe=S}var fe=S;S=oe;try{return Z()}finally{S=fe}},n.unstable_requestPaint=function(){P=!0},n.unstable_runWithPriority=function(Z,oe){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var fe=S;S=Z;try{return oe()}finally{S=fe}},n.unstable_scheduleCallback=function(Z,oe,fe){var Oe=n.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?Oe+fe:Oe):fe=Oe,Z){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=fe+L,Z={id:v++,callback:oe,priorityLevel:Z,startTime:fe,expirationTime:L,sortIndex:-1},fe>Oe?(Z.sortIndex=fe,e(g,Z),t(p)===null&&Z===t(g)&&(M?(F(x),x=-1):M=!0,Ue(X,fe-Oe))):(Z.sortIndex=L,e(p,Z),C||O||(C=!0,J||(J=!0,U()))),Z},n.unstable_shouldYield=N,n.unstable_wrapCallback=function(Z){var oe=S;return function(){var fe=S;S=oe;try{return Z.apply(this,arguments)}finally{S=fe}}}}(Om)),Om}var mE;function pC(){return mE||(mE=1,xm.exports=dC()),xm.exports}var Nm={exports:{}},mn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gE;function mC(){if(gE)return mn;gE=1;var n=xg();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(p,g,v){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:b==null?null:""+b,children:p,containerInfo:g,implementation:v}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return mn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,mn.createPortal=function(p,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(p,g,null,v)},mn.flushSync=function(p){var g=c.T,v=i.p;try{if(c.T=null,i.p=2,p)return p()}finally{c.T=g,i.p=v,i.d.f()}},mn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,i.d.C(p,g))},mn.prefetchDNS=function(p){typeof p=="string"&&i.d.D(p)},mn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var v=g.as,b=d(v,g.crossOrigin),S=typeof g.integrity=="string"?g.integrity:void 0,O=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?i.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:S,fetchPriority:O}):v==="script"&&i.d.X(p,{crossOrigin:b,integrity:S,fetchPriority:O,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},mn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=d(g.as,g.crossOrigin);i.d.M(p,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&i.d.M(p)},mn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,b=d(v,g.crossOrigin);i.d.L(p,v,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},mn.preloadModule=function(p,g){if(typeof p=="string")if(g){var v=d(g.as,g.crossOrigin);i.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else i.d.m(p)},mn.requestFormReset=function(p){i.d.r(p)},mn.unstable_batchedUpdates=function(p,g){return p(g)},mn.useFormState=function(p,g,v){return c.H.useFormState(p,g,v)},mn.useFormStatus=function(){return c.H.useHostTransitionStatus()},mn.version="19.1.0",mn}var vE;function gC(){if(vE)return Nm.exports;vE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Nm.exports=mC(),Nm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yE;function vC(){if(yE)return Cu;yE=1;var n=pC(),e=xg(),t=gC();function i(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function l(r){var s=r,o=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(o=s.return),r=s.return;while(r)}return s.tag===3?o:null}function c(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function d(r){if(l(r)!==r)throw Error(i(188))}function p(r){var s=r.alternate;if(!s){if(s=l(r),s===null)throw Error(i(188));return s!==r?null:r}for(var o=r,u=s;;){var f=o.return;if(f===null)break;var m=f.alternate;if(m===null){if(u=f.return,u!==null){o=u;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===o)return d(f),r;if(m===u)return d(f),s;m=m.sibling}throw Error(i(188))}if(o.return!==u.return)o=f,u=m;else{for(var E=!1,A=f.child;A;){if(A===o){E=!0,o=f,u=m;break}if(A===u){E=!0,u=f,o=m;break}A=A.sibling}if(!E){for(A=m.child;A;){if(A===o){E=!0,o=m,u=f;break}if(A===u){E=!0,u=m,o=f;break}A=A.sibling}if(!E)throw Error(i(189))}}if(o.alternate!==u)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?r:s}function g(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=g(r),s!==null)return s;r=r.sibling}return null}var v=Object.assign,b=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),O=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),B=Symbol.for("react.provider"),F=Symbol.for("react.consumer"),j=Symbol.for("react.context"),G=Symbol.for("react.forward_ref"),X=Symbol.for("react.suspense"),J=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function U(r){return r===null||typeof r!="object"?null:(r=V&&r[V]||r["@@iterator"],typeof r=="function"?r:null)}var D=Symbol.for("react.client.reference");function ve(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===D?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case C:return"Fragment";case P:return"Profiler";case M:return"StrictMode";case X:return"Suspense";case J:return"SuspenseList";case I:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case O:return"Portal";case j:return(r.displayName||"Context")+".Provider";case F:return(r._context.displayName||"Context")+".Consumer";case G:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case x:return s=r.displayName||null,s!==null?s:ve(r.type)||"Memo";case R:s=r._payload,r=r._init;try{return ve(r(s))}catch{}}return null}var Ue=Array.isArray,Z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},Oe=[],L=-1;function re(r){return{current:r}}function ue(r){0>L||(r.current=Oe[L],Oe[L]=null,L--)}function le(r,s){L++,Oe[L]=r.current,r.current=s}var ge=re(null),be=re(null),ye=re(null),at=re(null);function De(r,s){switch(le(ye,s),le(be,r),le(ge,null),s.nodeType){case 9:case 11:r=(r=s.documentElement)&&(r=r.namespaceURI)?U0(r):0;break;default:if(r=s.tagName,s=s.namespaceURI)s=U0(s),r=j0(s,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}ue(ge),le(ge,r)}function Ft(){ue(ge),ue(be),ue(ye)}function Un(r){r.memoizedState!==null&&le(at,r);var s=ge.current,o=j0(s,r.type);s!==o&&(le(be,r),le(ge,o))}function un(r){be.current===r&&(ue(ge),ue(be)),at.current===r&&(ue(at),bu._currentValue=fe)}var vr=Object.prototype.hasOwnProperty,Wn=n.unstable_scheduleCallback,Ht=n.unstable_cancelCallback,cn=n.unstable_shouldYield,ut=n.unstable_requestPaint,Ce=n.unstable_now,hn=n.unstable_getCurrentPriorityLevel,Cn=n.unstable_ImmediatePriority,tt=n.unstable_UserBlockingPriority,Rt=n.unstable_NormalPriority,In=n.unstable_LowPriority,Zt=n.unstable_IdlePriority,jn=n.log,yr=n.unstable_setDisableYieldValue,ct=null,Ge=null;function fn(r){if(typeof jn=="function"&&yr(r),Ge&&typeof Ge.setStrictMode=="function")try{Ge.setStrictMode(ct,r)}catch{}}var dn=Math.clz32?Math.clz32:Fs,xc=Math.log,Id=Math.LN2;function Fs(r){return r>>>=0,r===0?32:31-(xc(r)/Id|0)|0}var Hs=256,Gs=4194304;function _r(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Ga(r,s,o){var u=r.pendingLanes;if(u===0)return 0;var f=0,m=r.suspendedLanes,E=r.pingedLanes;r=r.warmLanes;var A=u&134217727;return A!==0?(u=A&~m,u!==0?f=_r(u):(E&=A,E!==0?f=_r(E):o||(o=A&~r,o!==0&&(f=_r(o))))):(A=u&~m,A!==0?f=_r(A):E!==0?f=_r(E):o||(o=u&~r,o!==0&&(f=_r(o)))),f===0?0:s!==0&&s!==f&&(s&m)===0&&(m=f&-f,o=s&-s,m>=o||m===32&&(o&4194048)!==0)?s:f}function $s(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function bl(r,s){switch(r){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Tl(){var r=Hs;return Hs<<=1,(Hs&4194048)===0&&(Hs=256),r}function Al(){var r=Gs;return Gs<<=1,(Gs&62914560)===0&&(Gs=4194304),r}function ci(r){for(var s=[],o=0;31>o;o++)s.push(r);return s}function hi(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Sl(r,s,o,u,f,m){var E=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var A=r.entanglements,k=r.expirationTimes,Y=r.hiddenUpdates;for(o=E&~o;0<o;){var te=31-dn(o),ie=1<<te;A[te]=0,k[te]=-1;var Q=Y[te];if(Q!==null)for(Y[te]=null,te=0;te<Q.length;te++){var W=Q[te];W!==null&&(W.lane&=-536870913)}o&=~ie}u!==0&&Dr(r,u,0),m!==0&&f===0&&r.tag!==0&&(r.suspendedLanes|=m&~(E&~s))}function Dr(r,s,o){r.pendingLanes|=s,r.suspendedLanes&=~s;var u=31-dn(s);r.entangledLanes|=s,r.entanglements[u]=r.entanglements[u]|1073741824|o&4194090}function wl(r,s){var o=r.entangledLanes|=s;for(r=r.entanglements;o;){var u=31-dn(o),f=1<<u;f&s|r[u]&s&&(r[u]|=s),o&=~f}}function $i(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function $a(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Ki(){var r=oe.p;return r!==0?r:(r=window.event,r===void 0?32:iE(r.type))}function Oc(r,s){var o=oe.p;try{return oe.p=r,s()}finally{oe.p=o}}var dt=Math.random().toString(36).slice(2),kt="__reactFiber$"+dt,Ct="__reactProps$"+dt,Zn="__reactContainer$"+dt,Rl="__reactEvents$"+dt,xd="__reactListeners$"+dt,Yi="__reactHandles$"+dt,Nc="__reactResources$"+dt,Ks="__reactMarker$"+dt;function Qi(r){delete r[kt],delete r[Ct],delete r[Rl],delete r[xd],delete r[Yi]}function fi(r){var s=r[kt];if(s)return s;for(var o=r.parentNode;o;){if(s=o[Zn]||o[kt]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(r=F0(r);r!==null;){if(o=r[kt])return o;r=F0(r)}return s}r=o,o=r.parentNode}return null}function Pr(r){if(r=r[kt]||r[Zn]){var s=r.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return r}return null}function kr(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(i(33))}function Tn(r){var s=r[Nc];return s||(s=r[Nc]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function bt(r){r[Ks]=!0}var Cl=new Set,Ka={};function Er(r,s){di(r,s),di(r+"Capture",s)}function di(r,s){for(Ka[r]=s,r=0;r<s.length;r++)Cl.add(s[r])}var Dc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Pc={},Ys={};function kc(r){return vr.call(Ys,r)?!0:vr.call(Pc,r)?!1:Dc.test(r)?Ys[r]=!0:(Pc[r]=!0,!1)}function Xi(r,s,o){if(kc(s))if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+o)}}function Mr(r,s,o){if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+o)}}function Jt(r,s,o,u){if(u===null)r.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(s,o,""+u)}}var Qs,Mc;function pi(r){if(Qs===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);Qs=s&&s[1]||"",Mc=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Qs+r+Mc}var Ya=!1;function Qa(r,s){if(!r||Ya)return"";Ya=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var ie=function(){throw Error()};if(Object.defineProperty(ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ie,[])}catch(W){var Q=W}Reflect.construct(r,[],ie)}else{try{ie.call()}catch(W){Q=W}r.call(ie.prototype)}}else{try{throw Error()}catch(W){Q=W}(ie=r())&&typeof ie.catch=="function"&&ie.catch(function(){})}}catch(W){if(W&&Q&&typeof W.stack=="string")return[W.stack,Q.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=u.DetermineComponentFrameRoot(),E=m[0],A=m[1];if(E&&A){var k=E.split(`
`),Y=A.split(`
`);for(f=u=0;u<k.length&&!k[u].includes("DetermineComponentFrameRoot");)u++;for(;f<Y.length&&!Y[f].includes("DetermineComponentFrameRoot");)f++;if(u===k.length||f===Y.length)for(u=k.length-1,f=Y.length-1;1<=u&&0<=f&&k[u]!==Y[f];)f--;for(;1<=u&&0<=f;u--,f--)if(k[u]!==Y[f]){if(u!==1||f!==1)do if(u--,f--,0>f||k[u]!==Y[f]){var te=`
`+k[u].replace(" at new "," at ");return r.displayName&&te.includes("<anonymous>")&&(te=te.replace("<anonymous>",r.displayName)),te}while(1<=u&&0<=f);break}}}finally{Ya=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?pi(o):""}function Il(r){switch(r.tag){case 26:case 27:case 5:return pi(r.type);case 16:return pi("Lazy");case 13:return pi("Suspense");case 19:return pi("SuspenseList");case 0:case 15:return Qa(r.type,!1);case 11:return Qa(r.type.render,!1);case 1:return Qa(r.type,!0);case 31:return pi("Activity");default:return""}}function Xa(r){try{var s="";do s+=Il(r),r=r.return;while(r);return s}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function An(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function xl(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Od(r){var s=xl(r)?"checked":"value",o=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),u=""+r[s];if(!r.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,m=o.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return f.call(this)},set:function(E){u=""+E,m.call(this,E)}}),Object.defineProperty(r,s,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(E){u=""+E},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function Wa(r){r._valueTracker||(r._valueTracker=Od(r))}function Ol(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var o=s.getValue(),u="";return r&&(u=xl(r)?r.checked?"true":"false":r.value),r=u,r!==o?(s.setValue(r),!0):!1}function Xs(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var Nd=/[\n"\\]/g;function It(r){return r.replace(Nd,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function zn(r,s,o,u,f,m,E,A){r.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?r.type=E:r.removeAttribute("type"),s!=null?E==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+An(s)):r.value!==""+An(s)&&(r.value=""+An(s)):E!=="submit"&&E!=="reset"||r.removeAttribute("value"),s!=null?Wi(r,E,An(s)):o!=null?Wi(r,E,An(o)):u!=null&&r.removeAttribute("value"),f==null&&m!=null&&(r.defaultChecked=!!m),f!=null&&(r.checked=f&&typeof f!="function"&&typeof f!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?r.name=""+An(A):r.removeAttribute("name")}function Ws(r,s,o,u,f,m,E,A){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(r.type=m),s!=null||o!=null){if(!(m!=="submit"&&m!=="reset"||s!=null))return;o=o!=null?""+An(o):"",s=s!=null?""+An(s):o,A||s===r.value||(r.value=s),r.defaultValue=s}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,r.checked=A?r.checked:!!u,r.defaultChecked=!!u,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(r.name=E)}function Wi(r,s,o){s==="number"&&Xs(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function mi(r,s,o,u){if(r=r.options,s){s={};for(var f=0;f<o.length;f++)s["$"+o[f]]=!0;for(o=0;o<r.length;o++)f=s.hasOwnProperty("$"+r[o].value),r[o].selected!==f&&(r[o].selected=f),f&&u&&(r[o].defaultSelected=!0)}else{for(o=""+An(o),s=null,f=0;f<r.length;f++){if(r[f].value===o){r[f].selected=!0,u&&(r[f].defaultSelected=!0);return}s!==null||r[f].disabled||(s=r[f])}s!==null&&(s.selected=!0)}}function nt(r,s,o){if(s!=null&&(s=""+An(s),s!==r.value&&(r.value=s),o==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=o!=null?""+An(o):""}function Zs(r,s,o,u){if(s==null){if(u!=null){if(o!=null)throw Error(i(92));if(Ue(u)){if(1<u.length)throw Error(i(93));u=u[0]}o=u}o==null&&(o=""),s=o}o=An(s),r.defaultValue=o,u=r.textContent,u===o&&u!==""&&u!==null&&(r.value=u)}function Jn(r,s){if(s){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=s;return}}r.textContent=s}var Js=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Vc(r,s,o){var u=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":u?r.setProperty(s,o):typeof o!="number"||o===0||Js.has(s)?s==="float"?r.cssFloat=o:r[s]=(""+o).trim():r[s]=o+"px"}function Nl(r,s,o){if(s!=null&&typeof s!="object")throw Error(i(62));if(r=r.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?r.setProperty(u,""):u==="float"?r.cssFloat="":r[u]="");for(var f in s)u=s[f],s.hasOwnProperty(f)&&o[f]!==u&&Vc(r,f,u)}else for(var m in s)s.hasOwnProperty(m)&&Vc(r,m,s[m])}function Dl(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Dd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Pd=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Za(r){return Pd.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var gi=null;function er(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var vi=null,yi=null;function Pl(r){var s=Pr(r);if(s&&(r=s.stateNode)){var o=r[Ct]||null;e:switch(r=s.stateNode,s.type){case"input":if(zn(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+It(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var u=o[s];if(u!==r&&u.form===r.form){var f=u[Ct]||null;if(!f)throw Error(i(90));zn(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<o.length;s++)u=o[s],u.form===r.form&&Ol(u)}break e;case"textarea":nt(r,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&mi(r,!!o.multiple,s,!1)}}}var Vr=!1;function Lc(r,s,o){if(Vr)return r(s,o);Vr=!0;try{var u=r(s);return u}finally{if(Vr=!1,(vi!==null||yi!==null)&&(Oh(),vi&&(s=vi,r=yi,yi=vi=null,Pl(s),r)))for(s=0;s<r.length;s++)Pl(r[s])}}function ea(r,s){var o=r.stateNode;if(o===null)return null;var u=o[Ct]||null;if(u===null)return null;o=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(r=r.type,u=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!u;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(i(231,s,typeof o));return o}var br=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),tr=!1;if(br)try{var ta={};Object.defineProperty(ta,"passive",{get:function(){tr=!0}}),window.addEventListener("test",ta,ta),window.removeEventListener("test",ta,ta)}catch{tr=!1}var Lr=null,Zi=null,_i=null;function kl(){if(_i)return _i;var r,s=Zi,o=s.length,u,f="value"in Lr?Lr.value:Lr.textContent,m=f.length;for(r=0;r<o&&s[r]===f[r];r++);var E=o-r;for(u=1;u<=E&&s[o-u]===f[m-u];u++);return _i=f.slice(r,1<u?1-u:void 0)}function Ur(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function jr(){return!0}function Ml(){return!1}function Gt(r){function s(o,u,f,m,E){this._reactName=o,this._targetInst=f,this.type=u,this.nativeEvent=m,this.target=E,this.currentTarget=null;for(var A in r)r.hasOwnProperty(A)&&(o=r[A],this[A]=o?o(m):m[A]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?jr:Ml,this.isPropagationStopped=Ml,this}return v(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=jr)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=jr)},persist:function(){},isPersistent:jr}),s}var Xe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ja=Gt(Xe),na=v({},Xe,{view:0,detail:0}),Uc=Gt(na),eo,to,zr,ra=v({},na,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:aa,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==zr&&(zr&&r.type==="mousemove"?(eo=r.screenX-zr.screenX,to=r.screenY-zr.screenY):to=eo=0,zr=r),eo)},movementY:function(r){return"movementY"in r?r.movementY:to}}),nr=Gt(ra),jc=v({},ra,{dataTransfer:0}),kd=Gt(jc),ia=v({},na,{relatedTarget:0}),no=Gt(ia),Vl=v({},Xe,{animationName:0,elapsedTime:0,pseudoElement:0}),ro=Gt(Vl),zc=v({},Xe,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),io=Gt(zc),Md=v({},Xe,{data:0}),Ll=Gt(Md),sa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ul(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=qc[r])?!!s[r]:!1}function aa(){return Ul}var Fc=v({},na,{key:function(r){if(r.key){var s=sa[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Ur(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Bc[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:aa,charCode:function(r){return r.type==="keypress"?Ur(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Ur(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),so=Gt(Fc),Hc=v({},ra,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),jl=Gt(Hc),Ei=v({},na,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:aa}),Gc=Gt(Ei),$c=v({},Xe,{propertyName:0,elapsedTime:0,pseudoElement:0}),Kc=Gt($c),Yc=v({},ra,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),ao=Gt(Yc),Sn=v({},Xe,{newState:0,oldState:0}),Qc=Gt(Sn),Xc=[9,13,27,32],Br=br&&"CompositionEvent"in window,h=null;br&&"documentMode"in document&&(h=document.documentMode);var y=br&&"TextEvent"in window&&!h,_=br&&(!Br||h&&8<h&&11>=h),w=" ",$=!1;function ee(r,s){switch(r){case"keyup":return Xc.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ce(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Be=!1;function Mt(r,s){switch(r){case"compositionend":return ce(s);case"keypress":return s.which!==32?null:($=!0,w);case"textInput":return r=s.data,r===w&&$?null:r;default:return null}}function qe(r,s){if(Be)return r==="compositionend"||!Br&&ee(r,s)?(r=kl(),_i=Zi=Lr=null,Be=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return _&&s.locale!=="ko"?null:s.data;default:return null}}var $t={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vt(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!$t[r.type]:s==="textarea"}function bi(r,s,o,u){vi?yi?yi.push(u):yi=[u]:vi=u,s=Vh(s,"onChange"),0<s.length&&(o=new Ja("onChange","change",null,o,u),r.push({event:o,listeners:s}))}var en=null,qr=null;function zl(r){P0(r,0)}function Wc(r){var s=kr(r);if(Ol(s))return r}function ey(r,s){if(r==="change")return s}var ty=!1;if(br){var Vd;if(br){var Ld="oninput"in document;if(!Ld){var ny=document.createElement("div");ny.setAttribute("oninput","return;"),Ld=typeof ny.oninput=="function"}Vd=Ld}else Vd=!1;ty=Vd&&(!document.documentMode||9<document.documentMode)}function ry(){en&&(en.detachEvent("onpropertychange",iy),qr=en=null)}function iy(r){if(r.propertyName==="value"&&Wc(qr)){var s=[];bi(s,qr,r,er(r)),Lc(zl,s)}}function jR(r,s,o){r==="focusin"?(ry(),en=s,qr=o,en.attachEvent("onpropertychange",iy)):r==="focusout"&&ry()}function zR(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Wc(qr)}function BR(r,s){if(r==="click")return Wc(s)}function qR(r,s){if(r==="input"||r==="change")return Wc(s)}function FR(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Bn=typeof Object.is=="function"?Object.is:FR;function Bl(r,s){if(Bn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var o=Object.keys(r),u=Object.keys(s);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var f=o[u];if(!vr.call(s,f)||!Bn(r[f],s[f]))return!1}return!0}function sy(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function ay(r,s){var o=sy(r);r=0;for(var u;o;){if(o.nodeType===3){if(u=r+o.textContent.length,r<=s&&u>=s)return{node:o,offset:s-r};r=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=sy(o)}}function oy(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?oy(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function ly(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=Xs(r.document);s instanceof r.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)r=s.contentWindow;else break;s=Xs(r.document)}return s}function Ud(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}var HR=br&&"documentMode"in document&&11>=document.documentMode,oo=null,jd=null,ql=null,zd=!1;function uy(r,s,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;zd||oo==null||oo!==Xs(u)||(u=oo,"selectionStart"in u&&Ud(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),ql&&Bl(ql,u)||(ql=u,u=Vh(jd,"onSelect"),0<u.length&&(s=new Ja("onSelect","select",null,s,o),r.push({event:s,listeners:u}),s.target=oo)))}function oa(r,s){var o={};return o[r.toLowerCase()]=s.toLowerCase(),o["Webkit"+r]="webkit"+s,o["Moz"+r]="moz"+s,o}var lo={animationend:oa("Animation","AnimationEnd"),animationiteration:oa("Animation","AnimationIteration"),animationstart:oa("Animation","AnimationStart"),transitionrun:oa("Transition","TransitionRun"),transitionstart:oa("Transition","TransitionStart"),transitioncancel:oa("Transition","TransitionCancel"),transitionend:oa("Transition","TransitionEnd")},Bd={},cy={};br&&(cy=document.createElement("div").style,"AnimationEvent"in window||(delete lo.animationend.animation,delete lo.animationiteration.animation,delete lo.animationstart.animation),"TransitionEvent"in window||delete lo.transitionend.transition);function la(r){if(Bd[r])return Bd[r];if(!lo[r])return r;var s=lo[r],o;for(o in s)if(s.hasOwnProperty(o)&&o in cy)return Bd[r]=s[o];return r}var hy=la("animationend"),fy=la("animationiteration"),dy=la("animationstart"),GR=la("transitionrun"),$R=la("transitionstart"),KR=la("transitioncancel"),py=la("transitionend"),my=new Map,qd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");qd.push("scrollEnd");function Tr(r,s){my.set(r,s),Er(s,[r])}var gy=new WeakMap;function rr(r,s){if(typeof r=="object"&&r!==null){var o=gy.get(r);return o!==void 0?o:(s={value:r,source:s,stack:Xa(s)},gy.set(r,s),s)}return{value:r,source:s,stack:Xa(s)}}var ir=[],uo=0,Fd=0;function Zc(){for(var r=uo,s=Fd=uo=0;s<r;){var o=ir[s];ir[s++]=null;var u=ir[s];ir[s++]=null;var f=ir[s];ir[s++]=null;var m=ir[s];if(ir[s++]=null,u!==null&&f!==null){var E=u.pending;E===null?f.next=f:(f.next=E.next,E.next=f),u.pending=f}m!==0&&vy(o,f,m)}}function Jc(r,s,o,u){ir[uo++]=r,ir[uo++]=s,ir[uo++]=o,ir[uo++]=u,Fd|=u,r.lanes|=u,r=r.alternate,r!==null&&(r.lanes|=u)}function Hd(r,s,o,u){return Jc(r,s,o,u),eh(r)}function co(r,s){return Jc(r,null,null,s),eh(r)}function vy(r,s,o){r.lanes|=o;var u=r.alternate;u!==null&&(u.lanes|=o);for(var f=!1,m=r.return;m!==null;)m.childLanes|=o,u=m.alternate,u!==null&&(u.childLanes|=o),m.tag===22&&(r=m.stateNode,r===null||r._visibility&1||(f=!0)),r=m,m=m.return;return r.tag===3?(m=r.stateNode,f&&s!==null&&(f=31-dn(o),r=m.hiddenUpdates,u=r[f],u===null?r[f]=[s]:u.push(s),s.lane=o|536870912),m):null}function eh(r){if(50<du)throw du=0,Xp=null,Error(i(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var ho={};function YR(r,s,o,u){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qn(r,s,o,u){return new YR(r,s,o,u)}function Gd(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Ti(r,s){var o=r.alternate;return o===null?(o=qn(r.tag,s,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=s,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&65011712,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,s=r.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function yy(r,s){r.flags&=65011714;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,s=o.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function th(r,s,o,u,f,m){var E=0;if(u=r,typeof r=="function")Gd(r)&&(E=1);else if(typeof r=="string")E=X1(r,o,ge.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case I:return r=qn(31,o,s,f),r.elementType=I,r.lanes=m,r;case C:return ua(o.children,f,m,s);case M:E=8,f|=24;break;case P:return r=qn(12,o,s,f|2),r.elementType=P,r.lanes=m,r;case X:return r=qn(13,o,s,f),r.elementType=X,r.lanes=m,r;case J:return r=qn(19,o,s,f),r.elementType=J,r.lanes=m,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case B:case j:E=10;break e;case F:E=9;break e;case G:E=11;break e;case x:E=14;break e;case R:E=16,u=null;break e}E=29,o=Error(i(130,r===null?"null":typeof r,"")),u=null}return s=qn(E,o,s,f),s.elementType=r,s.type=u,s.lanes=m,s}function ua(r,s,o,u){return r=qn(7,r,u,s),r.lanes=o,r}function $d(r,s,o){return r=qn(6,r,null,s),r.lanes=o,r}function Kd(r,s,o){return s=qn(4,r.children!==null?r.children:[],r.key,s),s.lanes=o,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}var fo=[],po=0,nh=null,rh=0,sr=[],ar=0,ca=null,Ai=1,Si="";function ha(r,s){fo[po++]=rh,fo[po++]=nh,nh=r,rh=s}function _y(r,s,o){sr[ar++]=Ai,sr[ar++]=Si,sr[ar++]=ca,ca=r;var u=Ai;r=Si;var f=32-dn(u)-1;u&=~(1<<f),o+=1;var m=32-dn(s)+f;if(30<m){var E=f-f%5;m=(u&(1<<E)-1).toString(32),u>>=E,f-=E,Ai=1<<32-dn(s)+f|o<<f|u,Si=m+r}else Ai=1<<m|o<<f|u,Si=r}function Yd(r){r.return!==null&&(ha(r,1),_y(r,1,0))}function Qd(r){for(;r===nh;)nh=fo[--po],fo[po]=null,rh=fo[--po],fo[po]=null;for(;r===ca;)ca=sr[--ar],sr[ar]=null,Si=sr[--ar],sr[ar]=null,Ai=sr[--ar],sr[ar]=null}var wn=null,_t=null,Ke=!1,fa=null,Fr=!1,Xd=Error(i(519));function da(r){var s=Error(i(418,""));throw Gl(rr(s,r)),Xd}function Ey(r){var s=r.stateNode,o=r.type,u=r.memoizedProps;switch(s[kt]=r,s[Ct]=u,o){case"dialog":Le("cancel",s),Le("close",s);break;case"iframe":case"object":case"embed":Le("load",s);break;case"video":case"audio":for(o=0;o<mu.length;o++)Le(mu[o],s);break;case"source":Le("error",s);break;case"img":case"image":case"link":Le("error",s),Le("load",s);break;case"details":Le("toggle",s);break;case"input":Le("invalid",s),Ws(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Wa(s);break;case"select":Le("invalid",s);break;case"textarea":Le("invalid",s),Zs(s,u.value,u.defaultValue,u.children),Wa(s)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||u.suppressHydrationWarning===!0||L0(s.textContent,o)?(u.popover!=null&&(Le("beforetoggle",s),Le("toggle",s)),u.onScroll!=null&&Le("scroll",s),u.onScrollEnd!=null&&Le("scrollend",s),u.onClick!=null&&(s.onclick=Lh),s=!0):s=!1,s||da(r)}function by(r){for(wn=r.return;wn;)switch(wn.tag){case 5:case 13:Fr=!1;return;case 27:case 3:Fr=!0;return;default:wn=wn.return}}function Fl(r){if(r!==wn)return!1;if(!Ke)return by(r),Ke=!0,!1;var s=r.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||fm(r.type,r.memoizedProps)),o=!o),o&&_t&&da(r),by(r),s===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8)if(o=r.data,o==="/$"){if(s===0){_t=Sr(r.nextSibling);break e}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++;r=r.nextSibling}_t=null}}else s===27?(s=_t,ps(r.type)?(r=gm,gm=null,_t=r):_t=s):_t=wn?Sr(r.stateNode.nextSibling):null;return!0}function Hl(){_t=wn=null,Ke=!1}function Ty(){var r=fa;return r!==null&&(Nn===null?Nn=r:Nn.push.apply(Nn,r),fa=null),r}function Gl(r){fa===null?fa=[r]:fa.push(r)}var Wd=re(null),pa=null,wi=null;function Ji(r,s,o){le(Wd,s._currentValue),s._currentValue=o}function Ri(r){r._currentValue=Wd.current,ue(Wd)}function Zd(r,s,o){for(;r!==null;){var u=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),r===o)break;r=r.return}}function Jd(r,s,o,u){var f=r.child;for(f!==null&&(f.return=r);f!==null;){var m=f.dependencies;if(m!==null){var E=f.child;m=m.firstContext;e:for(;m!==null;){var A=m;m=f;for(var k=0;k<s.length;k++)if(A.context===s[k]){m.lanes|=o,A=m.alternate,A!==null&&(A.lanes|=o),Zd(m.return,o,r),u||(E=null);break e}m=A.next}}else if(f.tag===18){if(E=f.return,E===null)throw Error(i(341));E.lanes|=o,m=E.alternate,m!==null&&(m.lanes|=o),Zd(E,o,r),E=null}else E=f.child;if(E!==null)E.return=f;else for(E=f;E!==null;){if(E===r){E=null;break}if(f=E.sibling,f!==null){f.return=E.return,E=f;break}E=E.return}f=E}}function $l(r,s,o,u){r=null;for(var f=s,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var E=f.alternate;if(E===null)throw Error(i(387));if(E=E.memoizedProps,E!==null){var A=f.type;Bn(f.pendingProps.value,E.value)||(r!==null?r.push(A):r=[A])}}else if(f===at.current){if(E=f.alternate,E===null)throw Error(i(387));E.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(r!==null?r.push(bu):r=[bu])}f=f.return}r!==null&&Jd(s,r,o,u),s.flags|=262144}function ih(r){for(r=r.firstContext;r!==null;){if(!Bn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function ma(r){pa=r,wi=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function pn(r){return Ay(pa,r)}function sh(r,s){return pa===null&&ma(r),Ay(r,s)}function Ay(r,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},wi===null){if(r===null)throw Error(i(308));wi=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else wi=wi.next=s;return o}var QR=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(o,u){r.push(u)}};this.abort=function(){s.aborted=!0,r.forEach(function(o){return o()})}},XR=n.unstable_scheduleCallback,WR=n.unstable_NormalPriority,Lt={$$typeof:j,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ep(){return{controller:new QR,data:new Map,refCount:0}}function Kl(r){r.refCount--,r.refCount===0&&XR(WR,function(){r.controller.abort()})}var Yl=null,tp=0,mo=0,go=null;function ZR(r,s){if(Yl===null){var o=Yl=[];tp=0,mo=rm(),go={status:"pending",value:void 0,then:function(u){o.push(u)}}}return tp++,s.then(Sy,Sy),s}function Sy(){if(--tp===0&&Yl!==null){go!==null&&(go.status="fulfilled");var r=Yl;Yl=null,mo=0,go=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function JR(r,s){var o=[],u={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return r.then(function(){u.status="fulfilled",u.value=s;for(var f=0;f<o.length;f++)(0,o[f])(s)},function(f){for(u.status="rejected",u.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),u}var wy=Z.S;Z.S=function(r,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&ZR(r,s),wy!==null&&wy(r,s)};var ga=re(null);function np(){var r=ga.current;return r!==null?r:lt.pooledCache}function ah(r,s){s===null?le(ga,ga.current):le(ga,s.pool)}function Ry(){var r=np();return r===null?null:{parent:Lt._currentValue,pool:r}}var Ql=Error(i(460)),Cy=Error(i(474)),oh=Error(i(542)),rp={then:function(){}};function Iy(r){return r=r.status,r==="fulfilled"||r==="rejected"}function lh(){}function xy(r,s,o){switch(o=r[o],o===void 0?r.push(s):o!==s&&(s.then(lh,lh),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,Ny(r),r;default:if(typeof s.status=="string")s.then(lh,lh);else{if(r=lt,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=s,r.status="pending",r.then(function(u){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=u}},function(u){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,Ny(r),r}throw Xl=s,Ql}}var Xl=null;function Oy(){if(Xl===null)throw Error(i(459));var r=Xl;return Xl=null,r}function Ny(r){if(r===Ql||r===oh)throw Error(i(483))}var es=!1;function ip(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function sp(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function ts(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function ns(r,s,o){var u=r.updateQueue;if(u===null)return null;if(u=u.shared,(Je&2)!==0){var f=u.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),u.pending=s,s=eh(r),vy(r,null,o),s}return Jc(r,u,s,o),eh(r)}function Wl(r,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var u=s.lanes;u&=r.pendingLanes,o|=u,s.lanes=o,wl(r,o)}}function ap(r,s){var o=r.updateQueue,u=r.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var f=null,m=null;if(o=o.firstBaseUpdate,o!==null){do{var E={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};m===null?f=m=E:m=m.next=E,o=o.next}while(o!==null);m===null?f=m=s:m=m.next=s}else f=m=s;o={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:u.shared,callbacks:u.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=s:r.next=s,o.lastBaseUpdate=s}var op=!1;function Zl(){if(op){var r=go;if(r!==null)throw r}}function Jl(r,s,o,u){op=!1;var f=r.updateQueue;es=!1;var m=f.firstBaseUpdate,E=f.lastBaseUpdate,A=f.shared.pending;if(A!==null){f.shared.pending=null;var k=A,Y=k.next;k.next=null,E===null?m=Y:E.next=Y,E=k;var te=r.alternate;te!==null&&(te=te.updateQueue,A=te.lastBaseUpdate,A!==E&&(A===null?te.firstBaseUpdate=Y:A.next=Y,te.lastBaseUpdate=k))}if(m!==null){var ie=f.baseState;E=0,te=Y=k=null,A=m;do{var Q=A.lane&-536870913,W=Q!==A.lane;if(W?(Fe&Q)===Q:(u&Q)===Q){Q!==0&&Q===mo&&(op=!0),te!==null&&(te=te.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var Re=r,Te=A;Q=s;var st=o;switch(Te.tag){case 1:if(Re=Te.payload,typeof Re=="function"){ie=Re.call(st,ie,Q);break e}ie=Re;break e;case 3:Re.flags=Re.flags&-65537|128;case 0:if(Re=Te.payload,Q=typeof Re=="function"?Re.call(st,ie,Q):Re,Q==null)break e;ie=v({},ie,Q);break e;case 2:es=!0}}Q=A.callback,Q!==null&&(r.flags|=64,W&&(r.flags|=8192),W=f.callbacks,W===null?f.callbacks=[Q]:W.push(Q))}else W={lane:Q,tag:A.tag,payload:A.payload,callback:A.callback,next:null},te===null?(Y=te=W,k=ie):te=te.next=W,E|=Q;if(A=A.next,A===null){if(A=f.shared.pending,A===null)break;W=A,A=W.next,W.next=null,f.lastBaseUpdate=W,f.shared.pending=null}}while(!0);te===null&&(k=ie),f.baseState=k,f.firstBaseUpdate=Y,f.lastBaseUpdate=te,m===null&&(f.shared.lanes=0),cs|=E,r.lanes=E,r.memoizedState=ie}}function Dy(r,s){if(typeof r!="function")throw Error(i(191,r));r.call(s)}function Py(r,s){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)Dy(o[r],s)}var vo=re(null),uh=re(0);function ky(r,s){r=Pi,le(uh,r),le(vo,s),Pi=r|s.baseLanes}function lp(){le(uh,Pi),le(vo,vo.current)}function up(){Pi=uh.current,ue(vo),ue(uh)}var rs=0,Pe=null,rt=null,xt=null,ch=!1,yo=!1,va=!1,hh=0,eu=0,_o=null,e1=0;function Tt(){throw Error(i(321))}function cp(r,s){if(s===null)return!1;for(var o=0;o<s.length&&o<r.length;o++)if(!Bn(r[o],s[o]))return!1;return!0}function hp(r,s,o,u,f,m){return rs=m,Pe=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Z.H=r===null||r.memoizedState===null?v_:y_,va=!1,m=o(u,f),va=!1,yo&&(m=Vy(s,o,u,f)),My(r),m}function My(r){Z.H=vh;var s=rt!==null&&rt.next!==null;if(rs=0,xt=rt=Pe=null,ch=!1,eu=0,_o=null,s)throw Error(i(300));r===null||Kt||(r=r.dependencies,r!==null&&ih(r)&&(Kt=!0))}function Vy(r,s,o,u){Pe=r;var f=0;do{if(yo&&(_o=null),eu=0,yo=!1,25<=f)throw Error(i(301));if(f+=1,xt=rt=null,r.updateQueue!=null){var m=r.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}Z.H=o1,m=s(o,u)}while(yo);return m}function t1(){var r=Z.H,s=r.useState()[0];return s=typeof s.then=="function"?tu(s):s,r=r.useState()[0],(rt!==null?rt.memoizedState:null)!==r&&(Pe.flags|=1024),s}function fp(){var r=hh!==0;return hh=0,r}function dp(r,s,o){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~o}function pp(r){if(ch){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}ch=!1}rs=0,xt=rt=Pe=null,yo=!1,eu=hh=0,_o=null}function xn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xt===null?Pe.memoizedState=xt=r:xt=xt.next=r,xt}function Ot(){if(rt===null){var r=Pe.alternate;r=r!==null?r.memoizedState:null}else r=rt.next;var s=xt===null?Pe.memoizedState:xt.next;if(s!==null)xt=s,rt=r;else{if(r===null)throw Pe.alternate===null?Error(i(467)):Error(i(310));rt=r,r={memoizedState:rt.memoizedState,baseState:rt.baseState,baseQueue:rt.baseQueue,queue:rt.queue,next:null},xt===null?Pe.memoizedState=xt=r:xt=xt.next=r}return xt}function mp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function tu(r){var s=eu;return eu+=1,_o===null&&(_o=[]),r=xy(_o,r,s),s=Pe,(xt===null?s.memoizedState:xt.next)===null&&(s=s.alternate,Z.H=s===null||s.memoizedState===null?v_:y_),r}function fh(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return tu(r);if(r.$$typeof===j)return pn(r)}throw Error(i(438,String(r)))}function gp(r){var s=null,o=Pe.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var u=Pe.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=mp(),Pe.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(r),u=0;u<r;u++)o[u]=N;return s.index++,o}function Ci(r,s){return typeof s=="function"?s(r):s}function dh(r){var s=Ot();return vp(s,rt,r)}function vp(r,s,o){var u=r.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=o;var f=r.baseQueue,m=u.pending;if(m!==null){if(f!==null){var E=f.next;f.next=m.next,m.next=E}s.baseQueue=f=m,u.pending=null}if(m=r.baseState,f===null)r.memoizedState=m;else{s=f.next;var A=E=null,k=null,Y=s,te=!1;do{var ie=Y.lane&-536870913;if(ie!==Y.lane?(Fe&ie)===ie:(rs&ie)===ie){var Q=Y.revertLane;if(Q===0)k!==null&&(k=k.next={lane:0,revertLane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),ie===mo&&(te=!0);else if((rs&Q)===Q){Y=Y.next,Q===mo&&(te=!0);continue}else ie={lane:0,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},k===null?(A=k=ie,E=m):k=k.next=ie,Pe.lanes|=Q,cs|=Q;ie=Y.action,va&&o(m,ie),m=Y.hasEagerState?Y.eagerState:o(m,ie)}else Q={lane:ie,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},k===null?(A=k=Q,E=m):k=k.next=Q,Pe.lanes|=ie,cs|=ie;Y=Y.next}while(Y!==null&&Y!==s);if(k===null?E=m:k.next=A,!Bn(m,r.memoizedState)&&(Kt=!0,te&&(o=go,o!==null)))throw o;r.memoizedState=m,r.baseState=E,r.baseQueue=k,u.lastRenderedState=m}return f===null&&(u.lanes=0),[r.memoizedState,u.dispatch]}function yp(r){var s=Ot(),o=s.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=r;var u=o.dispatch,f=o.pending,m=s.memoizedState;if(f!==null){o.pending=null;var E=f=f.next;do m=r(m,E.action),E=E.next;while(E!==f);Bn(m,s.memoizedState)||(Kt=!0),s.memoizedState=m,s.baseQueue===null&&(s.baseState=m),o.lastRenderedState=m}return[m,u]}function Ly(r,s,o){var u=Pe,f=Ot(),m=Ke;if(m){if(o===void 0)throw Error(i(407));o=o()}else o=s();var E=!Bn((rt||f).memoizedState,o);E&&(f.memoizedState=o,Kt=!0),f=f.queue;var A=zy.bind(null,u,f,r);if(nu(2048,8,A,[r]),f.getSnapshot!==s||E||xt!==null&&xt.memoizedState.tag&1){if(u.flags|=2048,Eo(9,ph(),jy.bind(null,u,f,o,s),null),lt===null)throw Error(i(349));m||(rs&124)!==0||Uy(u,s,o)}return o}function Uy(r,s,o){r.flags|=16384,r={getSnapshot:s,value:o},s=Pe.updateQueue,s===null?(s=mp(),Pe.updateQueue=s,s.stores=[r]):(o=s.stores,o===null?s.stores=[r]:o.push(r))}function jy(r,s,o,u){s.value=o,s.getSnapshot=u,By(s)&&qy(r)}function zy(r,s,o){return o(function(){By(s)&&qy(r)})}function By(r){var s=r.getSnapshot;r=r.value;try{var o=s();return!Bn(r,o)}catch{return!0}}function qy(r){var s=co(r,2);s!==null&&Kn(s,r,2)}function _p(r){var s=xn();if(typeof r=="function"){var o=r;if(r=o(),va){fn(!0);try{o()}finally{fn(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:r},s}function Fy(r,s,o,u){return r.baseState=o,vp(r,rt,typeof u=="function"?u:Ci)}function n1(r,s,o,u,f){if(gh(r))throw Error(i(485));if(r=s.action,r!==null){var m={payload:f,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){m.listeners.push(E)}};Z.T!==null?o(!0):m.isTransition=!1,u(m),o=s.pending,o===null?(m.next=s.pending=m,Hy(s,m)):(m.next=o.next,s.pending=o.next=m)}}function Hy(r,s){var o=s.action,u=s.payload,f=r.state;if(s.isTransition){var m=Z.T,E={};Z.T=E;try{var A=o(f,u),k=Z.S;k!==null&&k(E,A),Gy(r,s,A)}catch(Y){Ep(r,s,Y)}finally{Z.T=m}}else try{m=o(f,u),Gy(r,s,m)}catch(Y){Ep(r,s,Y)}}function Gy(r,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){$y(r,s,u)},function(u){return Ep(r,s,u)}):$y(r,s,o)}function $y(r,s,o){s.status="fulfilled",s.value=o,Ky(s),r.state=o,s=r.pending,s!==null&&(o=s.next,o===s?r.pending=null:(o=o.next,s.next=o,Hy(r,o)))}function Ep(r,s,o){var u=r.pending;if(r.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=o,Ky(s),s=s.next;while(s!==u)}r.action=null}function Ky(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function Yy(r,s){return s}function Qy(r,s){if(Ke){var o=lt.formState;if(o!==null){e:{var u=Pe;if(Ke){if(_t){t:{for(var f=_t,m=Fr;f.nodeType!==8;){if(!m){f=null;break t}if(f=Sr(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){_t=Sr(f.nextSibling),u=f.data==="F!";break e}}da(u)}u=!1}u&&(s=o[0])}}return o=xn(),o.memoizedState=o.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yy,lastRenderedState:s},o.queue=u,o=p_.bind(null,Pe,u),u.dispatch=o,u=_p(!1),m=wp.bind(null,Pe,!1,u.queue),u=xn(),f={state:s,dispatch:null,action:r,pending:null},u.queue=f,o=n1.bind(null,Pe,f,m,o),f.dispatch=o,u.memoizedState=r,[s,o,!1]}function Xy(r){var s=Ot();return Wy(s,rt,r)}function Wy(r,s,o){if(s=vp(r,s,Yy)[0],r=dh(Ci)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=tu(s)}catch(E){throw E===Ql?oh:E}else u=s;s=Ot();var f=s.queue,m=f.dispatch;return o!==s.memoizedState&&(Pe.flags|=2048,Eo(9,ph(),r1.bind(null,f,o),null)),[u,m,r]}function r1(r,s){r.action=s}function Zy(r){var s=Ot(),o=rt;if(o!==null)return Wy(s,o,r);Ot(),s=s.memoizedState,o=Ot();var u=o.queue.dispatch;return o.memoizedState=r,[s,u,!1]}function Eo(r,s,o,u){return r={tag:r,create:o,deps:u,inst:s,next:null},s=Pe.updateQueue,s===null&&(s=mp(),Pe.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=r.next=r:(u=o.next,o.next=r,r.next=u,s.lastEffect=r),r}function ph(){return{destroy:void 0,resource:void 0}}function Jy(){return Ot().memoizedState}function mh(r,s,o,u){var f=xn();u=u===void 0?null:u,Pe.flags|=r,f.memoizedState=Eo(1|s,ph(),o,u)}function nu(r,s,o,u){var f=Ot();u=u===void 0?null:u;var m=f.memoizedState.inst;rt!==null&&u!==null&&cp(u,rt.memoizedState.deps)?f.memoizedState=Eo(s,m,o,u):(Pe.flags|=r,f.memoizedState=Eo(1|s,m,o,u))}function e_(r,s){mh(8390656,8,r,s)}function t_(r,s){nu(2048,8,r,s)}function n_(r,s){return nu(4,2,r,s)}function r_(r,s){return nu(4,4,r,s)}function i_(r,s){if(typeof s=="function"){r=r();var o=s(r);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function s_(r,s,o){o=o!=null?o.concat([r]):null,nu(4,4,i_.bind(null,s,r),o)}function bp(){}function a_(r,s){var o=Ot();s=s===void 0?null:s;var u=o.memoizedState;return s!==null&&cp(s,u[1])?u[0]:(o.memoizedState=[r,s],r)}function o_(r,s){var o=Ot();s=s===void 0?null:s;var u=o.memoizedState;if(s!==null&&cp(s,u[1]))return u[0];if(u=r(),va){fn(!0);try{r()}finally{fn(!1)}}return o.memoizedState=[u,s],u}function Tp(r,s,o){return o===void 0||(rs&1073741824)!==0?r.memoizedState=s:(r.memoizedState=o,r=c0(),Pe.lanes|=r,cs|=r,o)}function l_(r,s,o,u){return Bn(o,s)?o:vo.current!==null?(r=Tp(r,o,u),Bn(r,s)||(Kt=!0),r):(rs&42)===0?(Kt=!0,r.memoizedState=o):(r=c0(),Pe.lanes|=r,cs|=r,s)}function u_(r,s,o,u,f){var m=oe.p;oe.p=m!==0&&8>m?m:8;var E=Z.T,A={};Z.T=A,wp(r,!1,s,o);try{var k=f(),Y=Z.S;if(Y!==null&&Y(A,k),k!==null&&typeof k=="object"&&typeof k.then=="function"){var te=JR(k,u);ru(r,s,te,$n(r))}else ru(r,s,u,$n(r))}catch(ie){ru(r,s,{then:function(){},status:"rejected",reason:ie},$n())}finally{oe.p=m,Z.T=E}}function i1(){}function Ap(r,s,o,u){if(r.tag!==5)throw Error(i(476));var f=c_(r).queue;u_(r,f,s,fe,o===null?i1:function(){return h_(r),o(u)})}function c_(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:fe},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:o},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function h_(r){var s=c_(r).next.queue;ru(r,s,{},$n())}function Sp(){return pn(bu)}function f_(){return Ot().memoizedState}function d_(){return Ot().memoizedState}function s1(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var o=$n();r=ts(o);var u=ns(s,r,o);u!==null&&(Kn(u,s,o),Wl(u,s,o)),s={cache:ep()},r.payload=s;return}s=s.return}}function a1(r,s,o){var u=$n();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},gh(r)?m_(s,o):(o=Hd(r,s,o,u),o!==null&&(Kn(o,r,u),g_(o,s,u)))}function p_(r,s,o){var u=$n();ru(r,s,o,u)}function ru(r,s,o,u){var f={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(gh(r))m_(s,f);else{var m=r.alternate;if(r.lanes===0&&(m===null||m.lanes===0)&&(m=s.lastRenderedReducer,m!==null))try{var E=s.lastRenderedState,A=m(E,o);if(f.hasEagerState=!0,f.eagerState=A,Bn(A,E))return Jc(r,s,f,0),lt===null&&Zc(),!1}catch{}finally{}if(o=Hd(r,s,f,u),o!==null)return Kn(o,r,u),g_(o,s,u),!0}return!1}function wp(r,s,o,u){if(u={lane:2,revertLane:rm(),action:u,hasEagerState:!1,eagerState:null,next:null},gh(r)){if(s)throw Error(i(479))}else s=Hd(r,o,u,2),s!==null&&Kn(s,r,2)}function gh(r){var s=r.alternate;return r===Pe||s!==null&&s===Pe}function m_(r,s){yo=ch=!0;var o=r.pending;o===null?s.next=s:(s.next=o.next,o.next=s),r.pending=s}function g_(r,s,o){if((o&4194048)!==0){var u=s.lanes;u&=r.pendingLanes,o|=u,s.lanes=o,wl(r,o)}}var vh={readContext:pn,use:fh,useCallback:Tt,useContext:Tt,useEffect:Tt,useImperativeHandle:Tt,useLayoutEffect:Tt,useInsertionEffect:Tt,useMemo:Tt,useReducer:Tt,useRef:Tt,useState:Tt,useDebugValue:Tt,useDeferredValue:Tt,useTransition:Tt,useSyncExternalStore:Tt,useId:Tt,useHostTransitionStatus:Tt,useFormState:Tt,useActionState:Tt,useOptimistic:Tt,useMemoCache:Tt,useCacheRefresh:Tt},v_={readContext:pn,use:fh,useCallback:function(r,s){return xn().memoizedState=[r,s===void 0?null:s],r},useContext:pn,useEffect:e_,useImperativeHandle:function(r,s,o){o=o!=null?o.concat([r]):null,mh(4194308,4,i_.bind(null,s,r),o)},useLayoutEffect:function(r,s){return mh(4194308,4,r,s)},useInsertionEffect:function(r,s){mh(4,2,r,s)},useMemo:function(r,s){var o=xn();s=s===void 0?null:s;var u=r();if(va){fn(!0);try{r()}finally{fn(!1)}}return o.memoizedState=[u,s],u},useReducer:function(r,s,o){var u=xn();if(o!==void 0){var f=o(s);if(va){fn(!0);try{o(s)}finally{fn(!1)}}}else f=s;return u.memoizedState=u.baseState=f,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:f},u.queue=r,r=r.dispatch=a1.bind(null,Pe,r),[u.memoizedState,r]},useRef:function(r){var s=xn();return r={current:r},s.memoizedState=r},useState:function(r){r=_p(r);var s=r.queue,o=p_.bind(null,Pe,s);return s.dispatch=o,[r.memoizedState,o]},useDebugValue:bp,useDeferredValue:function(r,s){var o=xn();return Tp(o,r,s)},useTransition:function(){var r=_p(!1);return r=u_.bind(null,Pe,r.queue,!0,!1),xn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,o){var u=Pe,f=xn();if(Ke){if(o===void 0)throw Error(i(407));o=o()}else{if(o=s(),lt===null)throw Error(i(349));(Fe&124)!==0||Uy(u,s,o)}f.memoizedState=o;var m={value:o,getSnapshot:s};return f.queue=m,e_(zy.bind(null,u,m,r),[r]),u.flags|=2048,Eo(9,ph(),jy.bind(null,u,m,o,s),null),o},useId:function(){var r=xn(),s=lt.identifierPrefix;if(Ke){var o=Si,u=Ai;o=(u&~(1<<32-dn(u)-1)).toString(32)+o,s="«"+s+"R"+o,o=hh++,0<o&&(s+="H"+o.toString(32)),s+="»"}else o=e1++,s="«"+s+"r"+o.toString(32)+"»";return r.memoizedState=s},useHostTransitionStatus:Sp,useFormState:Qy,useActionState:Qy,useOptimistic:function(r){var s=xn();s.memoizedState=s.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=wp.bind(null,Pe,!0,o),o.dispatch=s,[r,s]},useMemoCache:gp,useCacheRefresh:function(){return xn().memoizedState=s1.bind(null,Pe)}},y_={readContext:pn,use:fh,useCallback:a_,useContext:pn,useEffect:t_,useImperativeHandle:s_,useInsertionEffect:n_,useLayoutEffect:r_,useMemo:o_,useReducer:dh,useRef:Jy,useState:function(){return dh(Ci)},useDebugValue:bp,useDeferredValue:function(r,s){var o=Ot();return l_(o,rt.memoizedState,r,s)},useTransition:function(){var r=dh(Ci)[0],s=Ot().memoizedState;return[typeof r=="boolean"?r:tu(r),s]},useSyncExternalStore:Ly,useId:f_,useHostTransitionStatus:Sp,useFormState:Xy,useActionState:Xy,useOptimistic:function(r,s){var o=Ot();return Fy(o,rt,r,s)},useMemoCache:gp,useCacheRefresh:d_},o1={readContext:pn,use:fh,useCallback:a_,useContext:pn,useEffect:t_,useImperativeHandle:s_,useInsertionEffect:n_,useLayoutEffect:r_,useMemo:o_,useReducer:yp,useRef:Jy,useState:function(){return yp(Ci)},useDebugValue:bp,useDeferredValue:function(r,s){var o=Ot();return rt===null?Tp(o,r,s):l_(o,rt.memoizedState,r,s)},useTransition:function(){var r=yp(Ci)[0],s=Ot().memoizedState;return[typeof r=="boolean"?r:tu(r),s]},useSyncExternalStore:Ly,useId:f_,useHostTransitionStatus:Sp,useFormState:Zy,useActionState:Zy,useOptimistic:function(r,s){var o=Ot();return rt!==null?Fy(o,rt,r,s):(o.baseState=r,[r,o.queue.dispatch])},useMemoCache:gp,useCacheRefresh:d_},bo=null,iu=0;function yh(r){var s=iu;return iu+=1,bo===null&&(bo=[]),xy(bo,r,s)}function su(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function _h(r,s){throw s.$$typeof===b?Error(i(525)):(r=Object.prototype.toString.call(s),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function __(r){var s=r._init;return s(r._payload)}function E_(r){function s(q,z){if(r){var K=q.deletions;K===null?(q.deletions=[z],q.flags|=16):K.push(z)}}function o(q,z){if(!r)return null;for(;z!==null;)s(q,z),z=z.sibling;return null}function u(q){for(var z=new Map;q!==null;)q.key!==null?z.set(q.key,q):z.set(q.index,q),q=q.sibling;return z}function f(q,z){return q=Ti(q,z),q.index=0,q.sibling=null,q}function m(q,z,K){return q.index=K,r?(K=q.alternate,K!==null?(K=K.index,K<z?(q.flags|=67108866,z):K):(q.flags|=67108866,z)):(q.flags|=1048576,z)}function E(q){return r&&q.alternate===null&&(q.flags|=67108866),q}function A(q,z,K,ne){return z===null||z.tag!==6?(z=$d(K,q.mode,ne),z.return=q,z):(z=f(z,K),z.return=q,z)}function k(q,z,K,ne){var me=K.type;return me===C?te(q,z,K.props.children,ne,K.key):z!==null&&(z.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===R&&__(me)===z.type)?(z=f(z,K.props),su(z,K),z.return=q,z):(z=th(K.type,K.key,K.props,null,q.mode,ne),su(z,K),z.return=q,z)}function Y(q,z,K,ne){return z===null||z.tag!==4||z.stateNode.containerInfo!==K.containerInfo||z.stateNode.implementation!==K.implementation?(z=Kd(K,q.mode,ne),z.return=q,z):(z=f(z,K.children||[]),z.return=q,z)}function te(q,z,K,ne,me){return z===null||z.tag!==7?(z=ua(K,q.mode,ne,me),z.return=q,z):(z=f(z,K),z.return=q,z)}function ie(q,z,K){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=$d(""+z,q.mode,K),z.return=q,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case S:return K=th(z.type,z.key,z.props,null,q.mode,K),su(K,z),K.return=q,K;case O:return z=Kd(z,q.mode,K),z.return=q,z;case R:var ne=z._init;return z=ne(z._payload),ie(q,z,K)}if(Ue(z)||U(z))return z=ua(z,q.mode,K,null),z.return=q,z;if(typeof z.then=="function")return ie(q,yh(z),K);if(z.$$typeof===j)return ie(q,sh(q,z),K);_h(q,z)}return null}function Q(q,z,K,ne){var me=z!==null?z.key:null;if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return me!==null?null:A(q,z,""+K,ne);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case S:return K.key===me?k(q,z,K,ne):null;case O:return K.key===me?Y(q,z,K,ne):null;case R:return me=K._init,K=me(K._payload),Q(q,z,K,ne)}if(Ue(K)||U(K))return me!==null?null:te(q,z,K,ne,null);if(typeof K.then=="function")return Q(q,z,yh(K),ne);if(K.$$typeof===j)return Q(q,z,sh(q,K),ne);_h(q,K)}return null}function W(q,z,K,ne,me){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return q=q.get(K)||null,A(z,q,""+ne,me);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case S:return q=q.get(ne.key===null?K:ne.key)||null,k(z,q,ne,me);case O:return q=q.get(ne.key===null?K:ne.key)||null,Y(z,q,ne,me);case R:var Me=ne._init;return ne=Me(ne._payload),W(q,z,K,ne,me)}if(Ue(ne)||U(ne))return q=q.get(K)||null,te(z,q,ne,me,null);if(typeof ne.then=="function")return W(q,z,K,yh(ne),me);if(ne.$$typeof===j)return W(q,z,K,sh(z,ne),me);_h(z,ne)}return null}function Re(q,z,K,ne){for(var me=null,Me=null,_e=z,Ae=z=0,Qt=null;_e!==null&&Ae<K.length;Ae++){_e.index>Ae?(Qt=_e,_e=null):Qt=_e.sibling;var $e=Q(q,_e,K[Ae],ne);if($e===null){_e===null&&(_e=Qt);break}r&&_e&&$e.alternate===null&&s(q,_e),z=m($e,z,Ae),Me===null?me=$e:Me.sibling=$e,Me=$e,_e=Qt}if(Ae===K.length)return o(q,_e),Ke&&ha(q,Ae),me;if(_e===null){for(;Ae<K.length;Ae++)_e=ie(q,K[Ae],ne),_e!==null&&(z=m(_e,z,Ae),Me===null?me=_e:Me.sibling=_e,Me=_e);return Ke&&ha(q,Ae),me}for(_e=u(_e);Ae<K.length;Ae++)Qt=W(_e,q,Ae,K[Ae],ne),Qt!==null&&(r&&Qt.alternate!==null&&_e.delete(Qt.key===null?Ae:Qt.key),z=m(Qt,z,Ae),Me===null?me=Qt:Me.sibling=Qt,Me=Qt);return r&&_e.forEach(function(_s){return s(q,_s)}),Ke&&ha(q,Ae),me}function Te(q,z,K,ne){if(K==null)throw Error(i(151));for(var me=null,Me=null,_e=z,Ae=z=0,Qt=null,$e=K.next();_e!==null&&!$e.done;Ae++,$e=K.next()){_e.index>Ae?(Qt=_e,_e=null):Qt=_e.sibling;var _s=Q(q,_e,$e.value,ne);if(_s===null){_e===null&&(_e=Qt);break}r&&_e&&_s.alternate===null&&s(q,_e),z=m(_s,z,Ae),Me===null?me=_s:Me.sibling=_s,Me=_s,_e=Qt}if($e.done)return o(q,_e),Ke&&ha(q,Ae),me;if(_e===null){for(;!$e.done;Ae++,$e=K.next())$e=ie(q,$e.value,ne),$e!==null&&(z=m($e,z,Ae),Me===null?me=$e:Me.sibling=$e,Me=$e);return Ke&&ha(q,Ae),me}for(_e=u(_e);!$e.done;Ae++,$e=K.next())$e=W(_e,q,Ae,$e.value,ne),$e!==null&&(r&&$e.alternate!==null&&_e.delete($e.key===null?Ae:$e.key),z=m($e,z,Ae),Me===null?me=$e:Me.sibling=$e,Me=$e);return r&&_e.forEach(function(lC){return s(q,lC)}),Ke&&ha(q,Ae),me}function st(q,z,K,ne){if(typeof K=="object"&&K!==null&&K.type===C&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case S:e:{for(var me=K.key;z!==null;){if(z.key===me){if(me=K.type,me===C){if(z.tag===7){o(q,z.sibling),ne=f(z,K.props.children),ne.return=q,q=ne;break e}}else if(z.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===R&&__(me)===z.type){o(q,z.sibling),ne=f(z,K.props),su(ne,K),ne.return=q,q=ne;break e}o(q,z);break}else s(q,z);z=z.sibling}K.type===C?(ne=ua(K.props.children,q.mode,ne,K.key),ne.return=q,q=ne):(ne=th(K.type,K.key,K.props,null,q.mode,ne),su(ne,K),ne.return=q,q=ne)}return E(q);case O:e:{for(me=K.key;z!==null;){if(z.key===me)if(z.tag===4&&z.stateNode.containerInfo===K.containerInfo&&z.stateNode.implementation===K.implementation){o(q,z.sibling),ne=f(z,K.children||[]),ne.return=q,q=ne;break e}else{o(q,z);break}else s(q,z);z=z.sibling}ne=Kd(K,q.mode,ne),ne.return=q,q=ne}return E(q);case R:return me=K._init,K=me(K._payload),st(q,z,K,ne)}if(Ue(K))return Re(q,z,K,ne);if(U(K)){if(me=U(K),typeof me!="function")throw Error(i(150));return K=me.call(K),Te(q,z,K,ne)}if(typeof K.then=="function")return st(q,z,yh(K),ne);if(K.$$typeof===j)return st(q,z,sh(q,K),ne);_h(q,K)}return typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint"?(K=""+K,z!==null&&z.tag===6?(o(q,z.sibling),ne=f(z,K),ne.return=q,q=ne):(o(q,z),ne=$d(K,q.mode,ne),ne.return=q,q=ne),E(q)):o(q,z)}return function(q,z,K,ne){try{iu=0;var me=st(q,z,K,ne);return bo=null,me}catch(_e){if(_e===Ql||_e===oh)throw _e;var Me=qn(29,_e,null,q.mode);return Me.lanes=ne,Me.return=q,Me}finally{}}}var To=E_(!0),b_=E_(!1),or=re(null),Hr=null;function is(r){var s=r.alternate;le(Ut,Ut.current&1),le(or,r),Hr===null&&(s===null||vo.current!==null||s.memoizedState!==null)&&(Hr=r)}function T_(r){if(r.tag===22){if(le(Ut,Ut.current),le(or,r),Hr===null){var s=r.alternate;s!==null&&s.memoizedState!==null&&(Hr=r)}}else ss()}function ss(){le(Ut,Ut.current),le(or,or.current)}function Ii(r){ue(or),Hr===r&&(Hr=null),ue(Ut)}var Ut=re(0);function Eh(r){for(var s=r;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||mm(o)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function Rp(r,s,o,u){s=r.memoizedState,o=o(u,s),o=o==null?s:v({},s,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var Cp={enqueueSetState:function(r,s,o){r=r._reactInternals;var u=$n(),f=ts(u);f.payload=s,o!=null&&(f.callback=o),s=ns(r,f,u),s!==null&&(Kn(s,r,u),Wl(s,r,u))},enqueueReplaceState:function(r,s,o){r=r._reactInternals;var u=$n(),f=ts(u);f.tag=1,f.payload=s,o!=null&&(f.callback=o),s=ns(r,f,u),s!==null&&(Kn(s,r,u),Wl(s,r,u))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var o=$n(),u=ts(o);u.tag=2,s!=null&&(u.callback=s),s=ns(r,u,o),s!==null&&(Kn(s,r,o),Wl(s,r,o))}};function A_(r,s,o,u,f,m,E){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(u,m,E):s.prototype&&s.prototype.isPureReactComponent?!Bl(o,u)||!Bl(f,m):!0}function S_(r,s,o,u){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,u),s.state!==r&&Cp.enqueueReplaceState(s,s.state,null)}function ya(r,s){var o=s;if("ref"in s){o={};for(var u in s)u!=="ref"&&(o[u]=s[u])}if(r=r.defaultProps){o===s&&(o=v({},o));for(var f in r)o[f]===void 0&&(o[f]=r[f])}return o}var bh=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function w_(r){bh(r)}function R_(r){console.error(r)}function C_(r){bh(r)}function Th(r,s){try{var o=r.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function I_(r,s,o){try{var u=r.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Ip(r,s,o){return o=ts(o),o.tag=3,o.payload={element:null},o.callback=function(){Th(r,s)},o}function x_(r){return r=ts(r),r.tag=3,r}function O_(r,s,o,u){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var m=u.value;r.payload=function(){return f(m)},r.callback=function(){I_(s,o,u)}}var E=o.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(r.callback=function(){I_(s,o,u),typeof f!="function"&&(hs===null?hs=new Set([this]):hs.add(this));var A=u.stack;this.componentDidCatch(u.value,{componentStack:A!==null?A:""})})}function l1(r,s,o,u,f){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=o.alternate,s!==null&&$l(s,o,f,!0),o=or.current,o!==null){switch(o.tag){case 13:return Hr===null?Zp():o.alternate===null&&Et===0&&(Et=3),o.flags&=-257,o.flags|=65536,o.lanes=f,u===rp?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([u]):s.add(u),em(r,u,f)),!1;case 22:return o.flags|=65536,u===rp?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([u]):o.add(u)),em(r,u,f)),!1}throw Error(i(435,o.tag))}return em(r,u,f),Zp(),!1}if(Ke)return s=or.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,u!==Xd&&(r=Error(i(422),{cause:u}),Gl(rr(r,o)))):(u!==Xd&&(s=Error(i(423),{cause:u}),Gl(rr(s,o))),r=r.current.alternate,r.flags|=65536,f&=-f,r.lanes|=f,u=rr(u,o),f=Ip(r.stateNode,u,f),ap(r,f),Et!==4&&(Et=2)),!1;var m=Error(i(520),{cause:u});if(m=rr(m,o),fu===null?fu=[m]:fu.push(m),Et!==4&&(Et=2),s===null)return!0;u=rr(u,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,r=f&-f,o.lanes|=r,r=Ip(o.stateNode,u,r),ap(o,r),!1;case 1:if(s=o.type,m=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(hs===null||!hs.has(m))))return o.flags|=65536,f&=-f,o.lanes|=f,f=x_(f),O_(f,r,o,u),ap(o,f),!1}o=o.return}while(o!==null);return!1}var N_=Error(i(461)),Kt=!1;function tn(r,s,o,u){s.child=r===null?b_(s,null,o,u):To(s,r.child,o,u)}function D_(r,s,o,u,f){o=o.render;var m=s.ref;if("ref"in u){var E={};for(var A in u)A!=="ref"&&(E[A]=u[A])}else E=u;return ma(s),u=hp(r,s,o,E,m,f),A=fp(),r!==null&&!Kt?(dp(r,s,f),xi(r,s,f)):(Ke&&A&&Yd(s),s.flags|=1,tn(r,s,u,f),s.child)}function P_(r,s,o,u,f){if(r===null){var m=o.type;return typeof m=="function"&&!Gd(m)&&m.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=m,k_(r,s,m,u,f)):(r=th(o.type,null,u,s,s.mode,f),r.ref=s.ref,r.return=s,s.child=r)}if(m=r.child,!Vp(r,f)){var E=m.memoizedProps;if(o=o.compare,o=o!==null?o:Bl,o(E,u)&&r.ref===s.ref)return xi(r,s,f)}return s.flags|=1,r=Ti(m,u),r.ref=s.ref,r.return=s,s.child=r}function k_(r,s,o,u,f){if(r!==null){var m=r.memoizedProps;if(Bl(m,u)&&r.ref===s.ref)if(Kt=!1,s.pendingProps=u=m,Vp(r,f))(r.flags&131072)!==0&&(Kt=!0);else return s.lanes=r.lanes,xi(r,s,f)}return xp(r,s,o,u,f)}function M_(r,s,o){var u=s.pendingProps,f=u.children,m=r!==null?r.memoizedState:null;if(u.mode==="hidden"){if((s.flags&128)!==0){if(u=m!==null?m.baseLanes|o:o,r!==null){for(f=s.child=r.child,m=0;f!==null;)m=m|f.lanes|f.childLanes,f=f.sibling;s.childLanes=m&~u}else s.childLanes=0,s.child=null;return V_(r,s,u,o)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&ah(s,m!==null?m.cachePool:null),m!==null?ky(s,m):lp(),T_(s);else return s.lanes=s.childLanes=536870912,V_(r,s,m!==null?m.baseLanes|o:o,o)}else m!==null?(ah(s,m.cachePool),ky(s,m),ss(),s.memoizedState=null):(r!==null&&ah(s,null),lp(),ss());return tn(r,s,f,o),s.child}function V_(r,s,o,u){var f=np();return f=f===null?null:{parent:Lt._currentValue,pool:f},s.memoizedState={baseLanes:o,cachePool:f},r!==null&&ah(s,null),lp(),T_(s),r!==null&&$l(r,s,u,!0),null}function Ah(r,s){var o=s.ref;if(o===null)r!==null&&r.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(r===null||r.ref!==o)&&(s.flags|=4194816)}}function xp(r,s,o,u,f){return ma(s),o=hp(r,s,o,u,void 0,f),u=fp(),r!==null&&!Kt?(dp(r,s,f),xi(r,s,f)):(Ke&&u&&Yd(s),s.flags|=1,tn(r,s,o,f),s.child)}function L_(r,s,o,u,f,m){return ma(s),s.updateQueue=null,o=Vy(s,u,o,f),My(r),u=fp(),r!==null&&!Kt?(dp(r,s,m),xi(r,s,m)):(Ke&&u&&Yd(s),s.flags|=1,tn(r,s,o,m),s.child)}function U_(r,s,o,u,f){if(ma(s),s.stateNode===null){var m=ho,E=o.contextType;typeof E=="object"&&E!==null&&(m=pn(E)),m=new o(u,m),s.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Cp,s.stateNode=m,m._reactInternals=s,m=s.stateNode,m.props=u,m.state=s.memoizedState,m.refs={},ip(s),E=o.contextType,m.context=typeof E=="object"&&E!==null?pn(E):ho,m.state=s.memoizedState,E=o.getDerivedStateFromProps,typeof E=="function"&&(Rp(s,o,E,u),m.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(E=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),E!==m.state&&Cp.enqueueReplaceState(m,m.state,null),Jl(s,u,m,f),Zl(),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(r===null){m=s.stateNode;var A=s.memoizedProps,k=ya(o,A);m.props=k;var Y=m.context,te=o.contextType;E=ho,typeof te=="object"&&te!==null&&(E=pn(te));var ie=o.getDerivedStateFromProps;te=typeof ie=="function"||typeof m.getSnapshotBeforeUpdate=="function",A=s.pendingProps!==A,te||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(A||Y!==E)&&S_(s,m,u,E),es=!1;var Q=s.memoizedState;m.state=Q,Jl(s,u,m,f),Zl(),Y=s.memoizedState,A||Q!==Y||es?(typeof ie=="function"&&(Rp(s,o,ie,u),Y=s.memoizedState),(k=es||A_(s,o,k,u,Q,Y,E))?(te||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(s.flags|=4194308)):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=Y),m.props=u,m.state=Y,m.context=E,u=k):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{m=s.stateNode,sp(r,s),E=s.memoizedProps,te=ya(o,E),m.props=te,ie=s.pendingProps,Q=m.context,Y=o.contextType,k=ho,typeof Y=="object"&&Y!==null&&(k=pn(Y)),A=o.getDerivedStateFromProps,(Y=typeof A=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(E!==ie||Q!==k)&&S_(s,m,u,k),es=!1,Q=s.memoizedState,m.state=Q,Jl(s,u,m,f),Zl();var W=s.memoizedState;E!==ie||Q!==W||es||r!==null&&r.dependencies!==null&&ih(r.dependencies)?(typeof A=="function"&&(Rp(s,o,A,u),W=s.memoizedState),(te=es||A_(s,o,te,u,Q,W,k)||r!==null&&r.dependencies!==null&&ih(r.dependencies))?(Y||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(u,W,k),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(u,W,k)),typeof m.componentDidUpdate=="function"&&(s.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof m.componentDidUpdate!="function"||E===r.memoizedProps&&Q===r.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||E===r.memoizedProps&&Q===r.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=W),m.props=u,m.state=W,m.context=k,u=te):(typeof m.componentDidUpdate!="function"||E===r.memoizedProps&&Q===r.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||E===r.memoizedProps&&Q===r.memoizedState||(s.flags|=1024),u=!1)}return m=u,Ah(r,s),u=(s.flags&128)!==0,m||u?(m=s.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:m.render(),s.flags|=1,r!==null&&u?(s.child=To(s,r.child,null,f),s.child=To(s,null,o,f)):tn(r,s,o,f),s.memoizedState=m.state,r=s.child):r=xi(r,s,f),r}function j_(r,s,o,u){return Hl(),s.flags|=256,tn(r,s,o,u),s.child}var Op={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Np(r){return{baseLanes:r,cachePool:Ry()}}function Dp(r,s,o){return r=r!==null?r.childLanes&~o:0,s&&(r|=lr),r}function z_(r,s,o){var u=s.pendingProps,f=!1,m=(s.flags&128)!==0,E;if((E=m)||(E=r!==null&&r.memoizedState===null?!1:(Ut.current&2)!==0),E&&(f=!0,s.flags&=-129),E=(s.flags&32)!==0,s.flags&=-33,r===null){if(Ke){if(f?is(s):ss(),Ke){var A=_t,k;if(k=A){e:{for(k=A,A=Fr;k.nodeType!==8;){if(!A){A=null;break e}if(k=Sr(k.nextSibling),k===null){A=null;break e}}A=k}A!==null?(s.memoizedState={dehydrated:A,treeContext:ca!==null?{id:Ai,overflow:Si}:null,retryLane:536870912,hydrationErrors:null},k=qn(18,null,null,0),k.stateNode=A,k.return=s,s.child=k,wn=s,_t=null,k=!0):k=!1}k||da(s)}if(A=s.memoizedState,A!==null&&(A=A.dehydrated,A!==null))return mm(A)?s.lanes=32:s.lanes=536870912,null;Ii(s)}return A=u.children,u=u.fallback,f?(ss(),f=s.mode,A=Sh({mode:"hidden",children:A},f),u=ua(u,f,o,null),A.return=s,u.return=s,A.sibling=u,s.child=A,f=s.child,f.memoizedState=Np(o),f.childLanes=Dp(r,E,o),s.memoizedState=Op,u):(is(s),Pp(s,A))}if(k=r.memoizedState,k!==null&&(A=k.dehydrated,A!==null)){if(m)s.flags&256?(is(s),s.flags&=-257,s=kp(r,s,o)):s.memoizedState!==null?(ss(),s.child=r.child,s.flags|=128,s=null):(ss(),f=u.fallback,A=s.mode,u=Sh({mode:"visible",children:u.children},A),f=ua(f,A,o,null),f.flags|=2,u.return=s,f.return=s,u.sibling=f,s.child=u,To(s,r.child,null,o),u=s.child,u.memoizedState=Np(o),u.childLanes=Dp(r,E,o),s.memoizedState=Op,s=f);else if(is(s),mm(A)){if(E=A.nextSibling&&A.nextSibling.dataset,E)var Y=E.dgst;E=Y,u=Error(i(419)),u.stack="",u.digest=E,Gl({value:u,source:null,stack:null}),s=kp(r,s,o)}else if(Kt||$l(r,s,o,!1),E=(o&r.childLanes)!==0,Kt||E){if(E=lt,E!==null&&(u=o&-o,u=(u&42)!==0?1:$i(u),u=(u&(E.suspendedLanes|o))!==0?0:u,u!==0&&u!==k.retryLane))throw k.retryLane=u,co(r,u),Kn(E,r,u),N_;A.data==="$?"||Zp(),s=kp(r,s,o)}else A.data==="$?"?(s.flags|=192,s.child=r.child,s=null):(r=k.treeContext,_t=Sr(A.nextSibling),wn=s,Ke=!0,fa=null,Fr=!1,r!==null&&(sr[ar++]=Ai,sr[ar++]=Si,sr[ar++]=ca,Ai=r.id,Si=r.overflow,ca=s),s=Pp(s,u.children),s.flags|=4096);return s}return f?(ss(),f=u.fallback,A=s.mode,k=r.child,Y=k.sibling,u=Ti(k,{mode:"hidden",children:u.children}),u.subtreeFlags=k.subtreeFlags&65011712,Y!==null?f=Ti(Y,f):(f=ua(f,A,o,null),f.flags|=2),f.return=s,u.return=s,u.sibling=f,s.child=u,u=f,f=s.child,A=r.child.memoizedState,A===null?A=Np(o):(k=A.cachePool,k!==null?(Y=Lt._currentValue,k=k.parent!==Y?{parent:Y,pool:Y}:k):k=Ry(),A={baseLanes:A.baseLanes|o,cachePool:k}),f.memoizedState=A,f.childLanes=Dp(r,E,o),s.memoizedState=Op,u):(is(s),o=r.child,r=o.sibling,o=Ti(o,{mode:"visible",children:u.children}),o.return=s,o.sibling=null,r!==null&&(E=s.deletions,E===null?(s.deletions=[r],s.flags|=16):E.push(r)),s.child=o,s.memoizedState=null,o)}function Pp(r,s){return s=Sh({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function Sh(r,s){return r=qn(22,r,null,s),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function kp(r,s,o){return To(s,r.child,null,o),r=Pp(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function B_(r,s,o){r.lanes|=s;var u=r.alternate;u!==null&&(u.lanes|=s),Zd(r.return,s,o)}function Mp(r,s,o,u,f){var m=r.memoizedState;m===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:f}:(m.isBackwards=s,m.rendering=null,m.renderingStartTime=0,m.last=u,m.tail=o,m.tailMode=f)}function q_(r,s,o){var u=s.pendingProps,f=u.revealOrder,m=u.tail;if(tn(r,s,u.children,o),u=Ut.current,(u&2)!==0)u=u&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&B_(r,o,s);else if(r.tag===19)B_(r,o,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}u&=1}switch(le(Ut,u),f){case"forwards":for(o=s.child,f=null;o!==null;)r=o.alternate,r!==null&&Eh(r)===null&&(f=o),o=o.sibling;o=f,o===null?(f=s.child,s.child=null):(f=o.sibling,o.sibling=null),Mp(s,!1,f,o,m);break;case"backwards":for(o=null,f=s.child,s.child=null;f!==null;){if(r=f.alternate,r!==null&&Eh(r)===null){s.child=f;break}r=f.sibling,f.sibling=o,o=f,f=r}Mp(s,!0,o,null,m);break;case"together":Mp(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function xi(r,s,o){if(r!==null&&(s.dependencies=r.dependencies),cs|=s.lanes,(o&s.childLanes)===0)if(r!==null){if($l(r,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(i(153));if(s.child!==null){for(r=s.child,o=Ti(r,r.pendingProps),s.child=o,o.return=s;r.sibling!==null;)r=r.sibling,o=o.sibling=Ti(r,r.pendingProps),o.return=s;o.sibling=null}return s.child}function Vp(r,s){return(r.lanes&s)!==0?!0:(r=r.dependencies,!!(r!==null&&ih(r)))}function u1(r,s,o){switch(s.tag){case 3:De(s,s.stateNode.containerInfo),Ji(s,Lt,r.memoizedState.cache),Hl();break;case 27:case 5:Un(s);break;case 4:De(s,s.stateNode.containerInfo);break;case 10:Ji(s,s.type,s.memoizedProps.value);break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(is(s),s.flags|=128,null):(o&s.child.childLanes)!==0?z_(r,s,o):(is(s),r=xi(r,s,o),r!==null?r.sibling:null);is(s);break;case 19:var f=(r.flags&128)!==0;if(u=(o&s.childLanes)!==0,u||($l(r,s,o,!1),u=(o&s.childLanes)!==0),f){if(u)return q_(r,s,o);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),le(Ut,Ut.current),u)break;return null;case 22:case 23:return s.lanes=0,M_(r,s,o);case 24:Ji(s,Lt,r.memoizedState.cache)}return xi(r,s,o)}function F_(r,s,o){if(r!==null)if(r.memoizedProps!==s.pendingProps)Kt=!0;else{if(!Vp(r,o)&&(s.flags&128)===0)return Kt=!1,u1(r,s,o);Kt=(r.flags&131072)!==0}else Kt=!1,Ke&&(s.flags&1048576)!==0&&_y(s,rh,s.index);switch(s.lanes=0,s.tag){case 16:e:{r=s.pendingProps;var u=s.elementType,f=u._init;if(u=f(u._payload),s.type=u,typeof u=="function")Gd(u)?(r=ya(u,r),s.tag=1,s=U_(null,s,u,r,o)):(s.tag=0,s=xp(null,s,u,r,o));else{if(u!=null){if(f=u.$$typeof,f===G){s.tag=11,s=D_(null,s,u,r,o);break e}else if(f===x){s.tag=14,s=P_(null,s,u,r,o);break e}}throw s=ve(u)||u,Error(i(306,s,""))}}return s;case 0:return xp(r,s,s.type,s.pendingProps,o);case 1:return u=s.type,f=ya(u,s.pendingProps),U_(r,s,u,f,o);case 3:e:{if(De(s,s.stateNode.containerInfo),r===null)throw Error(i(387));u=s.pendingProps;var m=s.memoizedState;f=m.element,sp(r,s),Jl(s,u,null,o);var E=s.memoizedState;if(u=E.cache,Ji(s,Lt,u),u!==m.cache&&Jd(s,[Lt],o,!0),Zl(),u=E.element,m.isDehydrated)if(m={element:u,isDehydrated:!1,cache:E.cache},s.updateQueue.baseState=m,s.memoizedState=m,s.flags&256){s=j_(r,s,u,o);break e}else if(u!==f){f=rr(Error(i(424)),s),Gl(f),s=j_(r,s,u,o);break e}else{switch(r=s.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(_t=Sr(r.firstChild),wn=s,Ke=!0,fa=null,Fr=!0,o=b_(s,null,u,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Hl(),u===f){s=xi(r,s,o);break e}tn(r,s,u,o)}s=s.child}return s;case 26:return Ah(r,s),r===null?(o=K0(s.type,null,s.pendingProps,null))?s.memoizedState=o:Ke||(o=s.type,r=s.pendingProps,u=Uh(ye.current).createElement(o),u[kt]=s,u[Ct]=r,rn(u,o,r),bt(u),s.stateNode=u):s.memoizedState=K0(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return Un(s),r===null&&Ke&&(u=s.stateNode=H0(s.type,s.pendingProps,ye.current),wn=s,Fr=!0,f=_t,ps(s.type)?(gm=f,_t=Sr(u.firstChild)):_t=f),tn(r,s,s.pendingProps.children,o),Ah(r,s),r===null&&(s.flags|=4194304),s.child;case 5:return r===null&&Ke&&((f=u=_t)&&(u=L1(u,s.type,s.pendingProps,Fr),u!==null?(s.stateNode=u,wn=s,_t=Sr(u.firstChild),Fr=!1,f=!0):f=!1),f||da(s)),Un(s),f=s.type,m=s.pendingProps,E=r!==null?r.memoizedProps:null,u=m.children,fm(f,m)?u=null:E!==null&&fm(f,E)&&(s.flags|=32),s.memoizedState!==null&&(f=hp(r,s,t1,null,null,o),bu._currentValue=f),Ah(r,s),tn(r,s,u,o),s.child;case 6:return r===null&&Ke&&((r=o=_t)&&(o=U1(o,s.pendingProps,Fr),o!==null?(s.stateNode=o,wn=s,_t=null,r=!0):r=!1),r||da(s)),null;case 13:return z_(r,s,o);case 4:return De(s,s.stateNode.containerInfo),u=s.pendingProps,r===null?s.child=To(s,null,u,o):tn(r,s,u,o),s.child;case 11:return D_(r,s,s.type,s.pendingProps,o);case 7:return tn(r,s,s.pendingProps,o),s.child;case 8:return tn(r,s,s.pendingProps.children,o),s.child;case 12:return tn(r,s,s.pendingProps.children,o),s.child;case 10:return u=s.pendingProps,Ji(s,s.type,u.value),tn(r,s,u.children,o),s.child;case 9:return f=s.type._context,u=s.pendingProps.children,ma(s),f=pn(f),u=u(f),s.flags|=1,tn(r,s,u,o),s.child;case 14:return P_(r,s,s.type,s.pendingProps,o);case 15:return k_(r,s,s.type,s.pendingProps,o);case 19:return q_(r,s,o);case 31:return u=s.pendingProps,o=s.mode,u={mode:u.mode,children:u.children},r===null?(o=Sh(u,o),o.ref=s.ref,s.child=o,o.return=s,s=o):(o=Ti(r.child,u),o.ref=s.ref,s.child=o,o.return=s,s=o),s;case 22:return M_(r,s,o);case 24:return ma(s),u=pn(Lt),r===null?(f=np(),f===null&&(f=lt,m=ep(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=o),f=m),s.memoizedState={parent:u,cache:f},ip(s),Ji(s,Lt,f)):((r.lanes&o)!==0&&(sp(r,s),Jl(s,null,null,o),Zl()),f=r.memoizedState,m=s.memoizedState,f.parent!==u?(f={parent:u,cache:u},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),Ji(s,Lt,u)):(u=m.cache,Ji(s,Lt,u),u!==f.cache&&Jd(s,[Lt],o,!0))),tn(r,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function Oi(r){r.flags|=4}function H_(r,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!Z0(s)){if(s=or.current,s!==null&&((Fe&4194048)===Fe?Hr!==null:(Fe&62914560)!==Fe&&(Fe&536870912)===0||s!==Hr))throw Xl=rp,Cy;r.flags|=8192}}function wh(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?Al():536870912,r.lanes|=s,Ro|=s)}function au(r,s){if(!Ke)switch(r.tailMode){case"hidden":s=r.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:u.sibling=null}}function gt(r){var s=r.alternate!==null&&r.alternate.child===r.child,o=0,u=0;if(s)for(var f=r.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=r,f=f.sibling;else for(f=r.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=r,f=f.sibling;return r.subtreeFlags|=u,r.childLanes=o,s}function c1(r,s,o){var u=s.pendingProps;switch(Qd(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gt(s),null;case 1:return gt(s),null;case 3:return o=s.stateNode,u=null,r!==null&&(u=r.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),Ri(Lt),Ft(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(Fl(s)?Oi(s):r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Ty())),gt(s),null;case 26:return o=s.memoizedState,r===null?(Oi(s),o!==null?(gt(s),H_(s,o)):(gt(s),s.flags&=-16777217)):o?o!==r.memoizedState?(Oi(s),gt(s),H_(s,o)):(gt(s),s.flags&=-16777217):(r.memoizedProps!==u&&Oi(s),gt(s),s.flags&=-16777217),null;case 27:un(s),o=ye.current;var f=s.type;if(r!==null&&s.stateNode!=null)r.memoizedProps!==u&&Oi(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return gt(s),null}r=ge.current,Fl(s)?Ey(s):(r=H0(f,u,o),s.stateNode=r,Oi(s))}return gt(s),null;case 5:if(un(s),o=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==u&&Oi(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return gt(s),null}if(r=ge.current,Fl(s))Ey(s);else{switch(f=Uh(ye.current),r){case 1:r=f.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:r=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":r=f.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":r=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":r=f.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof u.is=="string"?f.createElement("select",{is:u.is}):f.createElement("select"),u.multiple?r.multiple=!0:u.size&&(r.size=u.size);break;default:r=typeof u.is=="string"?f.createElement(o,{is:u.is}):f.createElement(o)}}r[kt]=s,r[Ct]=u;e:for(f=s.child;f!==null;){if(f.tag===5||f.tag===6)r.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===s)break e;for(;f.sibling===null;){if(f.return===null||f.return===s)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}s.stateNode=r;e:switch(rn(r,o,u),o){case"button":case"input":case"select":case"textarea":r=!!u.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Oi(s)}}return gt(s),s.flags&=-16777217,null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==u&&Oi(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(i(166));if(r=ye.current,Fl(s)){if(r=s.stateNode,o=s.memoizedProps,u=null,f=wn,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}r[kt]=s,r=!!(r.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||L0(r.nodeValue,o)),r||da(s)}else r=Uh(r).createTextNode(u),r[kt]=s,s.stateNode=r}return gt(s),null;case 13:if(u=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(f=Fl(s),u!==null&&u.dehydrated!==null){if(r===null){if(!f)throw Error(i(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(i(317));f[kt]=s}else Hl(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;gt(s),f=!1}else f=Ty(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=f),f=!0;if(!f)return s.flags&256?(Ii(s),s):(Ii(s),null)}if(Ii(s),(s.flags&128)!==0)return s.lanes=o,s;if(o=u!==null,r=r!==null&&r.memoizedState!==null,o){u=s.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool);var m=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(m=u.memoizedState.cachePool.pool),m!==f&&(u.flags|=2048)}return o!==r&&o&&(s.child.flags|=8192),wh(s,s.updateQueue),gt(s),null;case 4:return Ft(),r===null&&om(s.stateNode.containerInfo),gt(s),null;case 10:return Ri(s.type),gt(s),null;case 19:if(ue(Ut),f=s.memoizedState,f===null)return gt(s),null;if(u=(s.flags&128)!==0,m=f.rendering,m===null)if(u)au(f,!1);else{if(Et!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(m=Eh(r),m!==null){for(s.flags|=128,au(f,!1),r=m.updateQueue,s.updateQueue=r,wh(s,r),s.subtreeFlags=0,r=o,o=s.child;o!==null;)yy(o,r),o=o.sibling;return le(Ut,Ut.current&1|2),s.child}r=r.sibling}f.tail!==null&&Ce()>Ih&&(s.flags|=128,u=!0,au(f,!1),s.lanes=4194304)}else{if(!u)if(r=Eh(m),r!==null){if(s.flags|=128,u=!0,r=r.updateQueue,s.updateQueue=r,wh(s,r),au(f,!0),f.tail===null&&f.tailMode==="hidden"&&!m.alternate&&!Ke)return gt(s),null}else 2*Ce()-f.renderingStartTime>Ih&&o!==536870912&&(s.flags|=128,u=!0,au(f,!1),s.lanes=4194304);f.isBackwards?(m.sibling=s.child,s.child=m):(r=f.last,r!==null?r.sibling=m:s.child=m,f.last=m)}return f.tail!==null?(s=f.tail,f.rendering=s,f.tail=s.sibling,f.renderingStartTime=Ce(),s.sibling=null,r=Ut.current,le(Ut,u?r&1|2:r&1),s):(gt(s),null);case 22:case 23:return Ii(s),up(),u=s.memoizedState!==null,r!==null?r.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(o&536870912)!==0&&(s.flags&128)===0&&(gt(s),s.subtreeFlags&6&&(s.flags|=8192)):gt(s),o=s.updateQueue,o!==null&&wh(s,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048),r!==null&&ue(ga),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),Ri(Lt),gt(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function h1(r,s){switch(Qd(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return Ri(Lt),Ft(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return un(s),null;case 13:if(Ii(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(i(340));Hl()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return ue(Ut),null;case 4:return Ft(),null;case 10:return Ri(s.type),null;case 22:case 23:return Ii(s),up(),r!==null&&ue(ga),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return Ri(Lt),null;case 25:return null;default:return null}}function G_(r,s){switch(Qd(s),s.tag){case 3:Ri(Lt),Ft();break;case 26:case 27:case 5:un(s);break;case 4:Ft();break;case 13:Ii(s);break;case 19:ue(Ut);break;case 10:Ri(s.type);break;case 22:case 23:Ii(s),up(),r!==null&&ue(ga);break;case 24:Ri(Lt)}}function ou(r,s){try{var o=s.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var f=u.next;o=f;do{if((o.tag&r)===r){u=void 0;var m=o.create,E=o.inst;u=m(),E.destroy=u}o=o.next}while(o!==f)}}catch(A){ot(s,s.return,A)}}function as(r,s,o){try{var u=s.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var m=f.next;u=m;do{if((u.tag&r)===r){var E=u.inst,A=E.destroy;if(A!==void 0){E.destroy=void 0,f=s;var k=o,Y=A;try{Y()}catch(te){ot(f,k,te)}}}u=u.next}while(u!==m)}}catch(te){ot(s,s.return,te)}}function $_(r){var s=r.updateQueue;if(s!==null){var o=r.stateNode;try{Py(s,o)}catch(u){ot(r,r.return,u)}}}function K_(r,s,o){o.props=ya(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(u){ot(r,s,u)}}function lu(r,s){try{var o=r.ref;if(o!==null){switch(r.tag){case 26:case 27:case 5:var u=r.stateNode;break;case 30:u=r.stateNode;break;default:u=r.stateNode}typeof o=="function"?r.refCleanup=o(u):o.current=u}}catch(f){ot(r,s,f)}}function Gr(r,s){var o=r.ref,u=r.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(f){ot(r,s,f)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){ot(r,s,f)}else o.current=null}function Y_(r){var s=r.type,o=r.memoizedProps,u=r.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(f){ot(r,r.return,f)}}function Lp(r,s,o){try{var u=r.stateNode;D1(u,r.type,o,s),u[Ct]=s}catch(f){ot(r,r.return,f)}}function Q_(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&ps(r.type)||r.tag===4}function Up(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Q_(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&ps(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function jp(r,s,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(r,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(r),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=Lh));else if(u!==4&&(u===27&&ps(r.type)&&(o=r.stateNode,s=null),r=r.child,r!==null))for(jp(r,s,o),r=r.sibling;r!==null;)jp(r,s,o),r=r.sibling}function Rh(r,s,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,s?o.insertBefore(r,s):o.appendChild(r);else if(u!==4&&(u===27&&ps(r.type)&&(o=r.stateNode),r=r.child,r!==null))for(Rh(r,s,o),r=r.sibling;r!==null;)Rh(r,s,o),r=r.sibling}function X_(r){var s=r.stateNode,o=r.memoizedProps;try{for(var u=r.type,f=s.attributes;f.length;)s.removeAttributeNode(f[0]);rn(s,u,o),s[kt]=r,s[Ct]=o}catch(m){ot(r,r.return,m)}}var Ni=!1,At=!1,zp=!1,W_=typeof WeakSet=="function"?WeakSet:Set,Yt=null;function f1(r,s){if(r=r.containerInfo,cm=Hh,r=ly(r),Ud(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var f=u.anchorOffset,m=u.focusNode;u=u.focusOffset;try{o.nodeType,m.nodeType}catch{o=null;break e}var E=0,A=-1,k=-1,Y=0,te=0,ie=r,Q=null;t:for(;;){for(var W;ie!==o||f!==0&&ie.nodeType!==3||(A=E+f),ie!==m||u!==0&&ie.nodeType!==3||(k=E+u),ie.nodeType===3&&(E+=ie.nodeValue.length),(W=ie.firstChild)!==null;)Q=ie,ie=W;for(;;){if(ie===r)break t;if(Q===o&&++Y===f&&(A=E),Q===m&&++te===u&&(k=E),(W=ie.nextSibling)!==null)break;ie=Q,Q=ie.parentNode}ie=W}o=A===-1||k===-1?null:{start:A,end:k}}else o=null}o=o||{start:0,end:0}}else o=null;for(hm={focusedElem:r,selectionRange:o},Hh=!1,Yt=s;Yt!==null;)if(s=Yt,r=s.child,(s.subtreeFlags&1024)!==0&&r!==null)r.return=s,Yt=r;else for(;Yt!==null;){switch(s=Yt,m=s.alternate,r=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&m!==null){r=void 0,o=s,f=m.memoizedProps,m=m.memoizedState,u=o.stateNode;try{var Re=ya(o.type,f,o.elementType===o.type);r=u.getSnapshotBeforeUpdate(Re,m),u.__reactInternalSnapshotBeforeUpdate=r}catch(Te){ot(o,o.return,Te)}}break;case 3:if((r&1024)!==0){if(r=s.stateNode.containerInfo,o=r.nodeType,o===9)pm(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":pm(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=s.sibling,r!==null){r.return=s.return,Yt=r;break}Yt=s.return}}function Z_(r,s,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:os(r,o),u&4&&ou(5,o);break;case 1:if(os(r,o),u&4)if(r=o.stateNode,s===null)try{r.componentDidMount()}catch(E){ot(o,o.return,E)}else{var f=ya(o.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(f,s,r.__reactInternalSnapshotBeforeUpdate)}catch(E){ot(o,o.return,E)}}u&64&&$_(o),u&512&&lu(o,o.return);break;case 3:if(os(r,o),u&64&&(r=o.updateQueue,r!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{Py(r,s)}catch(E){ot(o,o.return,E)}}break;case 27:s===null&&u&4&&X_(o);case 26:case 5:os(r,o),s===null&&u&4&&Y_(o),u&512&&lu(o,o.return);break;case 12:os(r,o);break;case 13:os(r,o),u&4&&t0(r,o),u&64&&(r=o.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(o=b1.bind(null,o),j1(r,o))));break;case 22:if(u=o.memoizedState!==null||Ni,!u){s=s!==null&&s.memoizedState!==null||At,f=Ni;var m=At;Ni=u,(At=s)&&!m?ls(r,o,(o.subtreeFlags&8772)!==0):os(r,o),Ni=f,At=m}break;case 30:break;default:os(r,o)}}function J_(r){var s=r.alternate;s!==null&&(r.alternate=null,J_(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&Qi(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var pt=null,On=!1;function Di(r,s,o){for(o=o.child;o!==null;)e0(r,s,o),o=o.sibling}function e0(r,s,o){if(Ge&&typeof Ge.onCommitFiberUnmount=="function")try{Ge.onCommitFiberUnmount(ct,o)}catch{}switch(o.tag){case 26:At||Gr(o,s),Di(r,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:At||Gr(o,s);var u=pt,f=On;ps(o.type)&&(pt=o.stateNode,On=!1),Di(r,s,o),vu(o.stateNode),pt=u,On=f;break;case 5:At||Gr(o,s);case 6:if(u=pt,f=On,pt=null,Di(r,s,o),pt=u,On=f,pt!==null)if(On)try{(pt.nodeType===9?pt.body:pt.nodeName==="HTML"?pt.ownerDocument.body:pt).removeChild(o.stateNode)}catch(m){ot(o,s,m)}else try{pt.removeChild(o.stateNode)}catch(m){ot(o,s,m)}break;case 18:pt!==null&&(On?(r=pt,q0(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,o.stateNode),wu(r)):q0(pt,o.stateNode));break;case 4:u=pt,f=On,pt=o.stateNode.containerInfo,On=!0,Di(r,s,o),pt=u,On=f;break;case 0:case 11:case 14:case 15:At||as(2,o,s),At||as(4,o,s),Di(r,s,o);break;case 1:At||(Gr(o,s),u=o.stateNode,typeof u.componentWillUnmount=="function"&&K_(o,s,u)),Di(r,s,o);break;case 21:Di(r,s,o);break;case 22:At=(u=At)||o.memoizedState!==null,Di(r,s,o),At=u;break;default:Di(r,s,o)}}function t0(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{wu(r)}catch(o){ot(s,s.return,o)}}function d1(r){switch(r.tag){case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new W_),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new W_),s;default:throw Error(i(435,r.tag))}}function Bp(r,s){var o=d1(r);s.forEach(function(u){var f=T1.bind(null,r,u);o.has(u)||(o.add(u),u.then(f,f))})}function Fn(r,s){var o=s.deletions;if(o!==null)for(var u=0;u<o.length;u++){var f=o[u],m=r,E=s,A=E;e:for(;A!==null;){switch(A.tag){case 27:if(ps(A.type)){pt=A.stateNode,On=!1;break e}break;case 5:pt=A.stateNode,On=!1;break e;case 3:case 4:pt=A.stateNode.containerInfo,On=!0;break e}A=A.return}if(pt===null)throw Error(i(160));e0(m,E,f),pt=null,On=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)n0(s,r),s=s.sibling}var Ar=null;function n0(r,s){var o=r.alternate,u=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Fn(s,r),Hn(r),u&4&&(as(3,r,r.return),ou(3,r),as(5,r,r.return));break;case 1:Fn(s,r),Hn(r),u&512&&(At||o===null||Gr(o,o.return)),u&64&&Ni&&(r=r.updateQueue,r!==null&&(u=r.callbacks,u!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var f=Ar;if(Fn(s,r),Hn(r),u&512&&(At||o===null||Gr(o,o.return)),u&4){var m=o!==null?o.memoizedState:null;if(u=r.memoizedState,o===null)if(u===null)if(r.stateNode===null){e:{u=r.type,o=r.memoizedProps,f=f.ownerDocument||f;t:switch(u){case"title":m=f.getElementsByTagName("title")[0],(!m||m[Ks]||m[kt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(u),f.head.insertBefore(m,f.querySelector("head > title"))),rn(m,u,o),m[kt]=r,bt(m),u=m;break e;case"link":var E=X0("link","href",f).get(u+(o.href||""));if(E){for(var A=0;A<E.length;A++)if(m=E[A],m.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&m.getAttribute("rel")===(o.rel==null?null:o.rel)&&m.getAttribute("title")===(o.title==null?null:o.title)&&m.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){E.splice(A,1);break t}}m=f.createElement(u),rn(m,u,o),f.head.appendChild(m);break;case"meta":if(E=X0("meta","content",f).get(u+(o.content||""))){for(A=0;A<E.length;A++)if(m=E[A],m.getAttribute("content")===(o.content==null?null:""+o.content)&&m.getAttribute("name")===(o.name==null?null:o.name)&&m.getAttribute("property")===(o.property==null?null:o.property)&&m.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&m.getAttribute("charset")===(o.charSet==null?null:o.charSet)){E.splice(A,1);break t}}m=f.createElement(u),rn(m,u,o),f.head.appendChild(m);break;default:throw Error(i(468,u))}m[kt]=r,bt(m),u=m}r.stateNode=u}else W0(f,r.type,r.stateNode);else r.stateNode=Q0(f,u,r.memoizedProps);else m!==u?(m===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):m.count--,u===null?W0(f,r.type,r.stateNode):Q0(f,u,r.memoizedProps)):u===null&&r.stateNode!==null&&Lp(r,r.memoizedProps,o.memoizedProps)}break;case 27:Fn(s,r),Hn(r),u&512&&(At||o===null||Gr(o,o.return)),o!==null&&u&4&&Lp(r,r.memoizedProps,o.memoizedProps);break;case 5:if(Fn(s,r),Hn(r),u&512&&(At||o===null||Gr(o,o.return)),r.flags&32){f=r.stateNode;try{Jn(f,"")}catch(W){ot(r,r.return,W)}}u&4&&r.stateNode!=null&&(f=r.memoizedProps,Lp(r,f,o!==null?o.memoizedProps:f)),u&1024&&(zp=!0);break;case 6:if(Fn(s,r),Hn(r),u&4){if(r.stateNode===null)throw Error(i(162));u=r.memoizedProps,o=r.stateNode;try{o.nodeValue=u}catch(W){ot(r,r.return,W)}}break;case 3:if(Bh=null,f=Ar,Ar=jh(s.containerInfo),Fn(s,r),Ar=f,Hn(r),u&4&&o!==null&&o.memoizedState.isDehydrated)try{wu(s.containerInfo)}catch(W){ot(r,r.return,W)}zp&&(zp=!1,r0(r));break;case 4:u=Ar,Ar=jh(r.stateNode.containerInfo),Fn(s,r),Hn(r),Ar=u;break;case 12:Fn(s,r),Hn(r);break;case 13:Fn(s,r),Hn(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Kp=Ce()),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,Bp(r,u)));break;case 22:f=r.memoizedState!==null;var k=o!==null&&o.memoizedState!==null,Y=Ni,te=At;if(Ni=Y||f,At=te||k,Fn(s,r),At=te,Ni=Y,Hn(r),u&8192)e:for(s=r.stateNode,s._visibility=f?s._visibility&-2:s._visibility|1,f&&(o===null||k||Ni||At||_a(r)),o=null,s=r;;){if(s.tag===5||s.tag===26){if(o===null){k=o=s;try{if(m=k.stateNode,f)E=m.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{A=k.stateNode;var ie=k.memoizedProps.style,Q=ie!=null&&ie.hasOwnProperty("display")?ie.display:null;A.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(W){ot(k,k.return,W)}}}else if(s.tag===6){if(o===null){k=s;try{k.stateNode.nodeValue=f?"":k.memoizedProps}catch(W){ot(k,k.return,W)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=r.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Bp(r,o))));break;case 19:Fn(s,r),Hn(r),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,Bp(r,u)));break;case 30:break;case 21:break;default:Fn(s,r),Hn(r)}}function Hn(r){var s=r.flags;if(s&2){try{for(var o,u=r.return;u!==null;){if(Q_(u)){o=u;break}u=u.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var f=o.stateNode,m=Up(r);Rh(r,m,f);break;case 5:var E=o.stateNode;o.flags&32&&(Jn(E,""),o.flags&=-33);var A=Up(r);Rh(r,A,E);break;case 3:case 4:var k=o.stateNode.containerInfo,Y=Up(r);jp(r,Y,k);break;default:throw Error(i(161))}}catch(te){ot(r,r.return,te)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function r0(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;r0(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function os(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Z_(r,s.alternate,s),s=s.sibling}function _a(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:as(4,s,s.return),_a(s);break;case 1:Gr(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&K_(s,s.return,o),_a(s);break;case 27:vu(s.stateNode);case 26:case 5:Gr(s,s.return),_a(s);break;case 22:s.memoizedState===null&&_a(s);break;case 30:_a(s);break;default:_a(s)}r=r.sibling}}function ls(r,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,f=r,m=s,E=m.flags;switch(m.tag){case 0:case 11:case 15:ls(f,m,o),ou(4,m);break;case 1:if(ls(f,m,o),u=m,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(Y){ot(u,u.return,Y)}if(u=m,f=u.updateQueue,f!==null){var A=u.stateNode;try{var k=f.shared.hiddenCallbacks;if(k!==null)for(f.shared.hiddenCallbacks=null,f=0;f<k.length;f++)Dy(k[f],A)}catch(Y){ot(u,u.return,Y)}}o&&E&64&&$_(m),lu(m,m.return);break;case 27:X_(m);case 26:case 5:ls(f,m,o),o&&u===null&&E&4&&Y_(m),lu(m,m.return);break;case 12:ls(f,m,o);break;case 13:ls(f,m,o),o&&E&4&&t0(f,m);break;case 22:m.memoizedState===null&&ls(f,m,o),lu(m,m.return);break;case 30:break;default:ls(f,m,o)}s=s.sibling}}function qp(r,s){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&Kl(o))}function Fp(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&Kl(r))}function $r(r,s,o,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)i0(r,s,o,u),s=s.sibling}function i0(r,s,o,u){var f=s.flags;switch(s.tag){case 0:case 11:case 15:$r(r,s,o,u),f&2048&&ou(9,s);break;case 1:$r(r,s,o,u);break;case 3:$r(r,s,o,u),f&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&Kl(r)));break;case 12:if(f&2048){$r(r,s,o,u),r=s.stateNode;try{var m=s.memoizedProps,E=m.id,A=m.onPostCommit;typeof A=="function"&&A(E,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(k){ot(s,s.return,k)}}else $r(r,s,o,u);break;case 13:$r(r,s,o,u);break;case 23:break;case 22:m=s.stateNode,E=s.alternate,s.memoizedState!==null?m._visibility&2?$r(r,s,o,u):uu(r,s):m._visibility&2?$r(r,s,o,u):(m._visibility|=2,Ao(r,s,o,u,(s.subtreeFlags&10256)!==0)),f&2048&&qp(E,s);break;case 24:$r(r,s,o,u),f&2048&&Fp(s.alternate,s);break;default:$r(r,s,o,u)}}function Ao(r,s,o,u,f){for(f=f&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var m=r,E=s,A=o,k=u,Y=E.flags;switch(E.tag){case 0:case 11:case 15:Ao(m,E,A,k,f),ou(8,E);break;case 23:break;case 22:var te=E.stateNode;E.memoizedState!==null?te._visibility&2?Ao(m,E,A,k,f):uu(m,E):(te._visibility|=2,Ao(m,E,A,k,f)),f&&Y&2048&&qp(E.alternate,E);break;case 24:Ao(m,E,A,k,f),f&&Y&2048&&Fp(E.alternate,E);break;default:Ao(m,E,A,k,f)}s=s.sibling}}function uu(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=r,u=s,f=u.flags;switch(u.tag){case 22:uu(o,u),f&2048&&qp(u.alternate,u);break;case 24:uu(o,u),f&2048&&Fp(u.alternate,u);break;default:uu(o,u)}s=s.sibling}}var cu=8192;function So(r){if(r.subtreeFlags&cu)for(r=r.child;r!==null;)s0(r),r=r.sibling}function s0(r){switch(r.tag){case 26:So(r),r.flags&cu&&r.memoizedState!==null&&Z1(Ar,r.memoizedState,r.memoizedProps);break;case 5:So(r);break;case 3:case 4:var s=Ar;Ar=jh(r.stateNode.containerInfo),So(r),Ar=s;break;case 22:r.memoizedState===null&&(s=r.alternate,s!==null&&s.memoizedState!==null?(s=cu,cu=16777216,So(r),cu=s):So(r));break;default:So(r)}}function a0(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function hu(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];Yt=u,l0(u,r)}a0(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)o0(r),r=r.sibling}function o0(r){switch(r.tag){case 0:case 11:case 15:hu(r),r.flags&2048&&as(9,r,r.return);break;case 3:hu(r);break;case 12:hu(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&2&&(r.return===null||r.return.tag!==13)?(s._visibility&=-3,Ch(r)):hu(r);break;default:hu(r)}}function Ch(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];Yt=u,l0(u,r)}a0(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:as(8,s,s.return),Ch(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,Ch(s));break;default:Ch(s)}r=r.sibling}}function l0(r,s){for(;Yt!==null;){var o=Yt;switch(o.tag){case 0:case 11:case 15:as(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Kl(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Yt=u;else e:for(o=r;Yt!==null;){u=Yt;var f=u.sibling,m=u.return;if(J_(u),u===o){Yt=null;break e}if(f!==null){f.return=m,Yt=f;break e}Yt=m}}}var p1={getCacheForType:function(r){var s=pn(Lt),o=s.data.get(r);return o===void 0&&(o=r(),s.data.set(r,o)),o}},m1=typeof WeakMap=="function"?WeakMap:Map,Je=0,lt=null,Ve=null,Fe=0,et=0,Gn=null,us=!1,wo=!1,Hp=!1,Pi=0,Et=0,cs=0,Ea=0,Gp=0,lr=0,Ro=0,fu=null,Nn=null,$p=!1,Kp=0,Ih=1/0,xh=null,hs=null,nn=0,fs=null,Co=null,Io=0,Yp=0,Qp=null,u0=null,du=0,Xp=null;function $n(){if((Je&2)!==0&&Fe!==0)return Fe&-Fe;if(Z.T!==null){var r=mo;return r!==0?r:rm()}return Ki()}function c0(){lr===0&&(lr=(Fe&536870912)===0||Ke?Tl():536870912);var r=or.current;return r!==null&&(r.flags|=32),lr}function Kn(r,s,o){(r===lt&&(et===2||et===9)||r.cancelPendingCommit!==null)&&(xo(r,0),ds(r,Fe,lr,!1)),hi(r,o),((Je&2)===0||r!==lt)&&(r===lt&&((Je&2)===0&&(Ea|=o),Et===4&&ds(r,Fe,lr,!1)),Kr(r))}function h0(r,s,o){if((Je&6)!==0)throw Error(i(327));var u=!o&&(s&124)===0&&(s&r.expiredLanes)===0||$s(r,s),f=u?y1(r,s):Jp(r,s,!0),m=u;do{if(f===0){wo&&!u&&ds(r,s,0,!1);break}else{if(o=r.current.alternate,m&&!g1(o)){f=Jp(r,s,!1),m=!1;continue}if(f===2){if(m=s,r.errorRecoveryDisabledLanes&m)var E=0;else E=r.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){s=E;e:{var A=r;f=fu;var k=A.current.memoizedState.isDehydrated;if(k&&(xo(A,E).flags|=256),E=Jp(A,E,!1),E!==2){if(Hp&&!k){A.errorRecoveryDisabledLanes|=m,Ea|=m,f=4;break e}m=Nn,Nn=f,m!==null&&(Nn===null?Nn=m:Nn.push.apply(Nn,m))}f=E}if(m=!1,f!==2)continue}}if(f===1){xo(r,0),ds(r,s,0,!0);break}e:{switch(u=r,m=f,m){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:ds(u,s,lr,!us);break e;case 2:Nn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(f=Kp+300-Ce(),10<f)){if(ds(u,s,lr,!us),Ga(u,0,!0)!==0)break e;u.timeoutHandle=z0(f0.bind(null,u,o,Nn,xh,$p,s,lr,Ea,Ro,us,m,2,-0,0),f);break e}f0(u,o,Nn,xh,$p,s,lr,Ea,Ro,us,m,0,-0,0)}}break}while(!0);Kr(r)}function f0(r,s,o,u,f,m,E,A,k,Y,te,ie,Q,W){if(r.timeoutHandle=-1,ie=s.subtreeFlags,(ie&8192||(ie&16785408)===16785408)&&(Eu={stylesheets:null,count:0,unsuspend:W1},s0(s),ie=J1(),ie!==null)){r.cancelPendingCommit=ie(_0.bind(null,r,s,m,o,u,f,E,A,k,te,1,Q,W)),ds(r,m,E,!Y);return}_0(r,s,m,o,u,f,E,A,k)}function g1(r){for(var s=r;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var f=o[u],m=f.getSnapshot;f=f.value;try{if(!Bn(m(),f))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ds(r,s,o,u){s&=~Gp,s&=~Ea,r.suspendedLanes|=s,r.pingedLanes&=~s,u&&(r.warmLanes|=s),u=r.expirationTimes;for(var f=s;0<f;){var m=31-dn(f),E=1<<m;u[m]=-1,f&=~E}o!==0&&Dr(r,o,s)}function Oh(){return(Je&6)===0?(pu(0),!1):!0}function Wp(){if(Ve!==null){if(et===0)var r=Ve.return;else r=Ve,wi=pa=null,pp(r),bo=null,iu=0,r=Ve;for(;r!==null;)G_(r.alternate,r),r=r.return;Ve=null}}function xo(r,s){var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,k1(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),Wp(),lt=r,Ve=o=Ti(r.current,null),Fe=s,et=0,Gn=null,us=!1,wo=$s(r,s),Hp=!1,Ro=lr=Gp=Ea=cs=Et=0,Nn=fu=null,$p=!1,(s&8)!==0&&(s|=s&32);var u=r.entangledLanes;if(u!==0)for(r=r.entanglements,u&=s;0<u;){var f=31-dn(u),m=1<<f;s|=r[f],u&=~m}return Pi=s,Zc(),o}function d0(r,s){Pe=null,Z.H=vh,s===Ql||s===oh?(s=Oy(),et=3):s===Cy?(s=Oy(),et=4):et=s===N_?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Gn=s,Ve===null&&(Et=1,Th(r,rr(s,r.current)))}function p0(){var r=Z.H;return Z.H=vh,r===null?vh:r}function m0(){var r=Z.A;return Z.A=p1,r}function Zp(){Et=4,us||(Fe&4194048)!==Fe&&or.current!==null||(wo=!0),(cs&134217727)===0&&(Ea&134217727)===0||lt===null||ds(lt,Fe,lr,!1)}function Jp(r,s,o){var u=Je;Je|=2;var f=p0(),m=m0();(lt!==r||Fe!==s)&&(xh=null,xo(r,s)),s=!1;var E=Et;e:do try{if(et!==0&&Ve!==null){var A=Ve,k=Gn;switch(et){case 8:Wp(),E=6;break e;case 3:case 2:case 9:case 6:or.current===null&&(s=!0);var Y=et;if(et=0,Gn=null,Oo(r,A,k,Y),o&&wo){E=0;break e}break;default:Y=et,et=0,Gn=null,Oo(r,A,k,Y)}}v1(),E=Et;break}catch(te){d0(r,te)}while(!0);return s&&r.shellSuspendCounter++,wi=pa=null,Je=u,Z.H=f,Z.A=m,Ve===null&&(lt=null,Fe=0,Zc()),E}function v1(){for(;Ve!==null;)g0(Ve)}function y1(r,s){var o=Je;Je|=2;var u=p0(),f=m0();lt!==r||Fe!==s?(xh=null,Ih=Ce()+500,xo(r,s)):wo=$s(r,s);e:do try{if(et!==0&&Ve!==null){s=Ve;var m=Gn;t:switch(et){case 1:et=0,Gn=null,Oo(r,s,m,1);break;case 2:case 9:if(Iy(m)){et=0,Gn=null,v0(s);break}s=function(){et!==2&&et!==9||lt!==r||(et=7),Kr(r)},m.then(s,s);break e;case 3:et=7;break e;case 4:et=5;break e;case 7:Iy(m)?(et=0,Gn=null,v0(s)):(et=0,Gn=null,Oo(r,s,m,7));break;case 5:var E=null;switch(Ve.tag){case 26:E=Ve.memoizedState;case 5:case 27:var A=Ve;if(!E||Z0(E)){et=0,Gn=null;var k=A.sibling;if(k!==null)Ve=k;else{var Y=A.return;Y!==null?(Ve=Y,Nh(Y)):Ve=null}break t}}et=0,Gn=null,Oo(r,s,m,5);break;case 6:et=0,Gn=null,Oo(r,s,m,6);break;case 8:Wp(),Et=6;break e;default:throw Error(i(462))}}_1();break}catch(te){d0(r,te)}while(!0);return wi=pa=null,Z.H=u,Z.A=f,Je=o,Ve!==null?0:(lt=null,Fe=0,Zc(),Et)}function _1(){for(;Ve!==null&&!cn();)g0(Ve)}function g0(r){var s=F_(r.alternate,r,Pi);r.memoizedProps=r.pendingProps,s===null?Nh(r):Ve=s}function v0(r){var s=r,o=s.alternate;switch(s.tag){case 15:case 0:s=L_(o,s,s.pendingProps,s.type,void 0,Fe);break;case 11:s=L_(o,s,s.pendingProps,s.type.render,s.ref,Fe);break;case 5:pp(s);default:G_(o,s),s=Ve=yy(s,Pi),s=F_(o,s,Pi)}r.memoizedProps=r.pendingProps,s===null?Nh(r):Ve=s}function Oo(r,s,o,u){wi=pa=null,pp(s),bo=null,iu=0;var f=s.return;try{if(l1(r,f,s,o,Fe)){Et=1,Th(r,rr(o,r.current)),Ve=null;return}}catch(m){if(f!==null)throw Ve=f,m;Et=1,Th(r,rr(o,r.current)),Ve=null;return}s.flags&32768?(Ke||u===1?r=!0:wo||(Fe&536870912)!==0?r=!1:(us=r=!0,(u===2||u===9||u===3||u===6)&&(u=or.current,u!==null&&u.tag===13&&(u.flags|=16384))),y0(s,r)):Nh(s)}function Nh(r){var s=r;do{if((s.flags&32768)!==0){y0(s,us);return}r=s.return;var o=c1(s.alternate,s,Pi);if(o!==null){Ve=o;return}if(s=s.sibling,s!==null){Ve=s;return}Ve=s=r}while(s!==null);Et===0&&(Et=5)}function y0(r,s){do{var o=h1(r.alternate,r);if(o!==null){o.flags&=32767,Ve=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(r=r.sibling,r!==null)){Ve=r;return}Ve=r=o}while(r!==null);Et=6,Ve=null}function _0(r,s,o,u,f,m,E,A,k){r.cancelPendingCommit=null;do Dh();while(nn!==0);if((Je&6)!==0)throw Error(i(327));if(s!==null){if(s===r.current)throw Error(i(177));if(m=s.lanes|s.childLanes,m|=Fd,Sl(r,o,m,E,A,k),r===lt&&(Ve=lt=null,Fe=0),Co=s,fs=r,Io=o,Yp=m,Qp=f,u0=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,A1(Rt,function(){return S0(),null})):(r.callbackNode=null,r.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=Z.T,Z.T=null,f=oe.p,oe.p=2,E=Je,Je|=4;try{f1(r,s,o)}finally{Je=E,oe.p=f,Z.T=u}}nn=1,E0(),b0(),T0()}}function E0(){if(nn===1){nn=0;var r=fs,s=Co,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=Z.T,Z.T=null;var u=oe.p;oe.p=2;var f=Je;Je|=4;try{n0(s,r);var m=hm,E=ly(r.containerInfo),A=m.focusedElem,k=m.selectionRange;if(E!==A&&A&&A.ownerDocument&&oy(A.ownerDocument.documentElement,A)){if(k!==null&&Ud(A)){var Y=k.start,te=k.end;if(te===void 0&&(te=Y),"selectionStart"in A)A.selectionStart=Y,A.selectionEnd=Math.min(te,A.value.length);else{var ie=A.ownerDocument||document,Q=ie&&ie.defaultView||window;if(Q.getSelection){var W=Q.getSelection(),Re=A.textContent.length,Te=Math.min(k.start,Re),st=k.end===void 0?Te:Math.min(k.end,Re);!W.extend&&Te>st&&(E=st,st=Te,Te=E);var q=ay(A,Te),z=ay(A,st);if(q&&z&&(W.rangeCount!==1||W.anchorNode!==q.node||W.anchorOffset!==q.offset||W.focusNode!==z.node||W.focusOffset!==z.offset)){var K=ie.createRange();K.setStart(q.node,q.offset),W.removeAllRanges(),Te>st?(W.addRange(K),W.extend(z.node,z.offset)):(K.setEnd(z.node,z.offset),W.addRange(K))}}}}for(ie=[],W=A;W=W.parentNode;)W.nodeType===1&&ie.push({element:W,left:W.scrollLeft,top:W.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<ie.length;A++){var ne=ie[A];ne.element.scrollLeft=ne.left,ne.element.scrollTop=ne.top}}Hh=!!cm,hm=cm=null}finally{Je=f,oe.p=u,Z.T=o}}r.current=s,nn=2}}function b0(){if(nn===2){nn=0;var r=fs,s=Co,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=Z.T,Z.T=null;var u=oe.p;oe.p=2;var f=Je;Je|=4;try{Z_(r,s.alternate,s)}finally{Je=f,oe.p=u,Z.T=o}}nn=3}}function T0(){if(nn===4||nn===3){nn=0,ut();var r=fs,s=Co,o=Io,u=u0;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?nn=5:(nn=0,Co=fs=null,A0(r,r.pendingLanes));var f=r.pendingLanes;if(f===0&&(hs=null),$a(o),s=s.stateNode,Ge&&typeof Ge.onCommitFiberRoot=="function")try{Ge.onCommitFiberRoot(ct,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=Z.T,f=oe.p,oe.p=2,Z.T=null;try{for(var m=r.onRecoverableError,E=0;E<u.length;E++){var A=u[E];m(A.value,{componentStack:A.stack})}}finally{Z.T=s,oe.p=f}}(Io&3)!==0&&Dh(),Kr(r),f=r.pendingLanes,(o&4194090)!==0&&(f&42)!==0?r===Xp?du++:(du=0,Xp=r):du=0,pu(0)}}function A0(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,Kl(s)))}function Dh(r){return E0(),b0(),T0(),S0()}function S0(){if(nn!==5)return!1;var r=fs,s=Yp;Yp=0;var o=$a(Io),u=Z.T,f=oe.p;try{oe.p=32>o?32:o,Z.T=null,o=Qp,Qp=null;var m=fs,E=Io;if(nn=0,Co=fs=null,Io=0,(Je&6)!==0)throw Error(i(331));var A=Je;if(Je|=4,o0(m.current),i0(m,m.current,E,o),Je=A,pu(0,!1),Ge&&typeof Ge.onPostCommitFiberRoot=="function")try{Ge.onPostCommitFiberRoot(ct,m)}catch{}return!0}finally{oe.p=f,Z.T=u,A0(r,s)}}function w0(r,s,o){s=rr(o,s),s=Ip(r.stateNode,s,2),r=ns(r,s,2),r!==null&&(hi(r,2),Kr(r))}function ot(r,s,o){if(r.tag===3)w0(r,r,o);else for(;s!==null;){if(s.tag===3){w0(s,r,o);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(hs===null||!hs.has(u))){r=rr(o,r),o=x_(2),u=ns(s,o,2),u!==null&&(O_(o,u,s,r),hi(u,2),Kr(u));break}}s=s.return}}function em(r,s,o){var u=r.pingCache;if(u===null){u=r.pingCache=new m1;var f=new Set;u.set(s,f)}else f=u.get(s),f===void 0&&(f=new Set,u.set(s,f));f.has(o)||(Hp=!0,f.add(o),r=E1.bind(null,r,s,o),s.then(r,r))}function E1(r,s,o){var u=r.pingCache;u!==null&&u.delete(s),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,lt===r&&(Fe&o)===o&&(Et===4||Et===3&&(Fe&62914560)===Fe&&300>Ce()-Kp?(Je&2)===0&&xo(r,0):Gp|=o,Ro===Fe&&(Ro=0)),Kr(r)}function R0(r,s){s===0&&(s=Al()),r=co(r,s),r!==null&&(hi(r,s),Kr(r))}function b1(r){var s=r.memoizedState,o=0;s!==null&&(o=s.retryLane),R0(r,o)}function T1(r,s){var o=0;switch(r.tag){case 13:var u=r.stateNode,f=r.memoizedState;f!==null&&(o=f.retryLane);break;case 19:u=r.stateNode;break;case 22:u=r.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(s),R0(r,o)}function A1(r,s){return Wn(r,s)}var Ph=null,No=null,tm=!1,kh=!1,nm=!1,ba=0;function Kr(r){r!==No&&r.next===null&&(No===null?Ph=No=r:No=No.next=r),kh=!0,tm||(tm=!0,w1())}function pu(r,s){if(!nm&&kh){nm=!0;do for(var o=!1,u=Ph;u!==null;){if(r!==0){var f=u.pendingLanes;if(f===0)var m=0;else{var E=u.suspendedLanes,A=u.pingedLanes;m=(1<<31-dn(42|r)+1)-1,m&=f&~(E&~A),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(o=!0,O0(u,m))}else m=Fe,m=Ga(u,u===lt?m:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(m&3)===0||$s(u,m)||(o=!0,O0(u,m));u=u.next}while(o);nm=!1}}function S1(){C0()}function C0(){kh=tm=!1;var r=0;ba!==0&&(P1()&&(r=ba),ba=0);for(var s=Ce(),o=null,u=Ph;u!==null;){var f=u.next,m=I0(u,s);m===0?(u.next=null,o===null?Ph=f:o.next=f,f===null&&(No=o)):(o=u,(r!==0||(m&3)!==0)&&(kh=!0)),u=f}pu(r)}function I0(r,s){for(var o=r.suspendedLanes,u=r.pingedLanes,f=r.expirationTimes,m=r.pendingLanes&-62914561;0<m;){var E=31-dn(m),A=1<<E,k=f[E];k===-1?((A&o)===0||(A&u)!==0)&&(f[E]=bl(A,s)):k<=s&&(r.expiredLanes|=A),m&=~A}if(s=lt,o=Fe,o=Ga(r,r===s?o:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u=r.callbackNode,o===0||r===s&&(et===2||et===9)||r.cancelPendingCommit!==null)return u!==null&&u!==null&&Ht(u),r.callbackNode=null,r.callbackPriority=0;if((o&3)===0||$s(r,o)){if(s=o&-o,s===r.callbackPriority)return s;switch(u!==null&&Ht(u),$a(o)){case 2:case 8:o=tt;break;case 32:o=Rt;break;case 268435456:o=Zt;break;default:o=Rt}return u=x0.bind(null,r),o=Wn(o,u),r.callbackPriority=s,r.callbackNode=o,s}return u!==null&&u!==null&&Ht(u),r.callbackPriority=2,r.callbackNode=null,2}function x0(r,s){if(nn!==0&&nn!==5)return r.callbackNode=null,r.callbackPriority=0,null;var o=r.callbackNode;if(Dh()&&r.callbackNode!==o)return null;var u=Fe;return u=Ga(r,r===lt?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u===0?null:(h0(r,u,s),I0(r,Ce()),r.callbackNode!=null&&r.callbackNode===o?x0.bind(null,r):null)}function O0(r,s){if(Dh())return null;h0(r,s,!0)}function w1(){M1(function(){(Je&6)!==0?Wn(Cn,S1):C0()})}function rm(){return ba===0&&(ba=Tl()),ba}function N0(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Za(""+r)}function D0(r,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,r.id&&o.setAttribute("form",r.id),s.parentNode.insertBefore(o,s),r=new FormData(r),o.parentNode.removeChild(o),r}function R1(r,s,o,u,f){if(s==="submit"&&o&&o.stateNode===f){var m=N0((f[Ct]||null).action),E=u.submitter;E&&(s=(s=E[Ct]||null)?N0(s.formAction):E.getAttribute("formAction"),s!==null&&(m=s,E=null));var A=new Ja("action","action",null,u,f);r.push({event:A,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(ba!==0){var k=E?D0(f,E):new FormData(f);Ap(o,{pending:!0,data:k,method:f.method,action:m},null,k)}}else typeof m=="function"&&(A.preventDefault(),k=E?D0(f,E):new FormData(f),Ap(o,{pending:!0,data:k,method:f.method,action:m},m,k))},currentTarget:f}]})}}for(var im=0;im<qd.length;im++){var sm=qd[im],C1=sm.toLowerCase(),I1=sm[0].toUpperCase()+sm.slice(1);Tr(C1,"on"+I1)}Tr(hy,"onAnimationEnd"),Tr(fy,"onAnimationIteration"),Tr(dy,"onAnimationStart"),Tr("dblclick","onDoubleClick"),Tr("focusin","onFocus"),Tr("focusout","onBlur"),Tr(GR,"onTransitionRun"),Tr($R,"onTransitionStart"),Tr(KR,"onTransitionCancel"),Tr(py,"onTransitionEnd"),di("onMouseEnter",["mouseout","mouseover"]),di("onMouseLeave",["mouseout","mouseover"]),di("onPointerEnter",["pointerout","pointerover"]),di("onPointerLeave",["pointerout","pointerover"]),Er("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Er("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Er("onBeforeInput",["compositionend","keypress","textInput","paste"]),Er("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Er("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Er("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),x1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(mu));function P0(r,s){s=(s&4)!==0;for(var o=0;o<r.length;o++){var u=r[o],f=u.event;u=u.listeners;e:{var m=void 0;if(s)for(var E=u.length-1;0<=E;E--){var A=u[E],k=A.instance,Y=A.currentTarget;if(A=A.listener,k!==m&&f.isPropagationStopped())break e;m=A,f.currentTarget=Y;try{m(f)}catch(te){bh(te)}f.currentTarget=null,m=k}else for(E=0;E<u.length;E++){if(A=u[E],k=A.instance,Y=A.currentTarget,A=A.listener,k!==m&&f.isPropagationStopped())break e;m=A,f.currentTarget=Y;try{m(f)}catch(te){bh(te)}f.currentTarget=null,m=k}}}}function Le(r,s){var o=s[Rl];o===void 0&&(o=s[Rl]=new Set);var u=r+"__bubble";o.has(u)||(k0(s,r,2,!1),o.add(u))}function am(r,s,o){var u=0;s&&(u|=4),k0(o,r,u,s)}var Mh="_reactListening"+Math.random().toString(36).slice(2);function om(r){if(!r[Mh]){r[Mh]=!0,Cl.forEach(function(o){o!=="selectionchange"&&(x1.has(o)||am(o,!1,r),am(o,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[Mh]||(s[Mh]=!0,am("selectionchange",!1,s))}}function k0(r,s,o,u){switch(iE(s)){case 2:var f=nC;break;case 8:f=rC;break;default:f=bm}o=f.bind(null,s,o,r),f=void 0,!tr||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),u?f!==void 0?r.addEventListener(s,o,{capture:!0,passive:f}):r.addEventListener(s,o,!0):f!==void 0?r.addEventListener(s,o,{passive:f}):r.addEventListener(s,o,!1)}function lm(r,s,o,u,f){var m=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var E=u.tag;if(E===3||E===4){var A=u.stateNode.containerInfo;if(A===f)break;if(E===4)for(E=u.return;E!==null;){var k=E.tag;if((k===3||k===4)&&E.stateNode.containerInfo===f)return;E=E.return}for(;A!==null;){if(E=fi(A),E===null)return;if(k=E.tag,k===5||k===6||k===26||k===27){u=m=E;continue e}A=A.parentNode}}u=u.return}Lc(function(){var Y=m,te=er(o),ie=[];e:{var Q=my.get(r);if(Q!==void 0){var W=Ja,Re=r;switch(r){case"keypress":if(Ur(o)===0)break e;case"keydown":case"keyup":W=so;break;case"focusin":Re="focus",W=no;break;case"focusout":Re="blur",W=no;break;case"beforeblur":case"afterblur":W=no;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=nr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=kd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=Gc;break;case hy:case fy:case dy:W=ro;break;case py:W=Kc;break;case"scroll":case"scrollend":W=Uc;break;case"wheel":W=ao;break;case"copy":case"cut":case"paste":W=io;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=jl;break;case"toggle":case"beforetoggle":W=Qc}var Te=(s&4)!==0,st=!Te&&(r==="scroll"||r==="scrollend"),q=Te?Q!==null?Q+"Capture":null:Q;Te=[];for(var z=Y,K;z!==null;){var ne=z;if(K=ne.stateNode,ne=ne.tag,ne!==5&&ne!==26&&ne!==27||K===null||q===null||(ne=ea(z,q),ne!=null&&Te.push(gu(z,ne,K))),st)break;z=z.return}0<Te.length&&(Q=new W(Q,Re,null,o,te),ie.push({event:Q,listeners:Te}))}}if((s&7)===0){e:{if(Q=r==="mouseover"||r==="pointerover",W=r==="mouseout"||r==="pointerout",Q&&o!==gi&&(Re=o.relatedTarget||o.fromElement)&&(fi(Re)||Re[Zn]))break e;if((W||Q)&&(Q=te.window===te?te:(Q=te.ownerDocument)?Q.defaultView||Q.parentWindow:window,W?(Re=o.relatedTarget||o.toElement,W=Y,Re=Re?fi(Re):null,Re!==null&&(st=l(Re),Te=Re.tag,Re!==st||Te!==5&&Te!==27&&Te!==6)&&(Re=null)):(W=null,Re=Y),W!==Re)){if(Te=nr,ne="onMouseLeave",q="onMouseEnter",z="mouse",(r==="pointerout"||r==="pointerover")&&(Te=jl,ne="onPointerLeave",q="onPointerEnter",z="pointer"),st=W==null?Q:kr(W),K=Re==null?Q:kr(Re),Q=new Te(ne,z+"leave",W,o,te),Q.target=st,Q.relatedTarget=K,ne=null,fi(te)===Y&&(Te=new Te(q,z+"enter",Re,o,te),Te.target=K,Te.relatedTarget=st,ne=Te),st=ne,W&&Re)t:{for(Te=W,q=Re,z=0,K=Te;K;K=Do(K))z++;for(K=0,ne=q;ne;ne=Do(ne))K++;for(;0<z-K;)Te=Do(Te),z--;for(;0<K-z;)q=Do(q),K--;for(;z--;){if(Te===q||q!==null&&Te===q.alternate)break t;Te=Do(Te),q=Do(q)}Te=null}else Te=null;W!==null&&M0(ie,Q,W,Te,!1),Re!==null&&st!==null&&M0(ie,st,Re,Te,!0)}}e:{if(Q=Y?kr(Y):window,W=Q.nodeName&&Q.nodeName.toLowerCase(),W==="select"||W==="input"&&Q.type==="file")var me=ey;else if(Vt(Q))if(ty)me=qR;else{me=zR;var Me=jR}else W=Q.nodeName,!W||W.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?Y&&Dl(Y.elementType)&&(me=ey):me=BR;if(me&&(me=me(r,Y))){bi(ie,me,o,te);break e}Me&&Me(r,Q,Y),r==="focusout"&&Y&&Q.type==="number"&&Y.memoizedProps.value!=null&&Wi(Q,"number",Q.value)}switch(Me=Y?kr(Y):window,r){case"focusin":(Vt(Me)||Me.contentEditable==="true")&&(oo=Me,jd=Y,ql=null);break;case"focusout":ql=jd=oo=null;break;case"mousedown":zd=!0;break;case"contextmenu":case"mouseup":case"dragend":zd=!1,uy(ie,o,te);break;case"selectionchange":if(HR)break;case"keydown":case"keyup":uy(ie,o,te)}var _e;if(Br)e:{switch(r){case"compositionstart":var Ae="onCompositionStart";break e;case"compositionend":Ae="onCompositionEnd";break e;case"compositionupdate":Ae="onCompositionUpdate";break e}Ae=void 0}else Be?ee(r,o)&&(Ae="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(Ae="onCompositionStart");Ae&&(_&&o.locale!=="ko"&&(Be||Ae!=="onCompositionStart"?Ae==="onCompositionEnd"&&Be&&(_e=kl()):(Lr=te,Zi="value"in Lr?Lr.value:Lr.textContent,Be=!0)),Me=Vh(Y,Ae),0<Me.length&&(Ae=new Ll(Ae,r,null,o,te),ie.push({event:Ae,listeners:Me}),_e?Ae.data=_e:(_e=ce(o),_e!==null&&(Ae.data=_e)))),(_e=y?Mt(r,o):qe(r,o))&&(Ae=Vh(Y,"onBeforeInput"),0<Ae.length&&(Me=new Ll("onBeforeInput","beforeinput",null,o,te),ie.push({event:Me,listeners:Ae}),Me.data=_e)),R1(ie,r,Y,o,te)}P0(ie,s)})}function gu(r,s,o){return{instance:r,listener:s,currentTarget:o}}function Vh(r,s){for(var o=s+"Capture",u=[];r!==null;){var f=r,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=ea(r,o),f!=null&&u.unshift(gu(r,f,m)),f=ea(r,s),f!=null&&u.push(gu(r,f,m))),r.tag===3)return u;r=r.return}return[]}function Do(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function M0(r,s,o,u,f){for(var m=s._reactName,E=[];o!==null&&o!==u;){var A=o,k=A.alternate,Y=A.stateNode;if(A=A.tag,k!==null&&k===u)break;A!==5&&A!==26&&A!==27||Y===null||(k=Y,f?(Y=ea(o,m),Y!=null&&E.unshift(gu(o,Y,k))):f||(Y=ea(o,m),Y!=null&&E.push(gu(o,Y,k)))),o=o.return}E.length!==0&&r.push({event:s,listeners:E})}var O1=/\r\n?/g,N1=/\u0000|\uFFFD/g;function V0(r){return(typeof r=="string"?r:""+r).replace(O1,`
`).replace(N1,"")}function L0(r,s){return s=V0(s),V0(r)===s}function Lh(){}function it(r,s,o,u,f,m){switch(o){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||Jn(r,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&Jn(r,""+u);break;case"className":Mr(r,"class",u);break;case"tabIndex":Mr(r,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Mr(r,o,u);break;case"style":Nl(r,u,m);break;case"data":if(s!=="object"){Mr(r,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||o!=="href")){r.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=Za(""+u),r.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(o==="formAction"?(s!=="input"&&it(r,s,"name",f.name,f,null),it(r,s,"formEncType",f.formEncType,f,null),it(r,s,"formMethod",f.formMethod,f,null),it(r,s,"formTarget",f.formTarget,f,null)):(it(r,s,"encType",f.encType,f,null),it(r,s,"method",f.method,f,null),it(r,s,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=Za(""+u),r.setAttribute(o,u);break;case"onClick":u!=null&&(r.onclick=Lh);break;case"onScroll":u!=null&&Le("scroll",r);break;case"onScrollEnd":u!=null&&Le("scrollend",r);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"multiple":r.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":r.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){r.removeAttribute("xlink:href");break}o=Za(""+u),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""+u):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":u===!0?r.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,u):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?r.setAttribute(o,u):r.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?r.removeAttribute(o):r.setAttribute(o,u);break;case"popover":Le("beforetoggle",r),Le("toggle",r),Xi(r,"popover",u);break;case"xlinkActuate":Jt(r,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Jt(r,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Jt(r,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Jt(r,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Jt(r,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Jt(r,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Jt(r,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Jt(r,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Jt(r,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Xi(r,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Dd.get(o)||o,Xi(r,o,u))}}function um(r,s,o,u,f,m){switch(o){case"style":Nl(r,u,m);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"children":typeof u=="string"?Jn(r,u):(typeof u=="number"||typeof u=="bigint")&&Jn(r,""+u);break;case"onScroll":u!=null&&Le("scroll",r);break;case"onScrollEnd":u!=null&&Le("scrollend",r);break;case"onClick":u!=null&&(r.onclick=Lh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ka.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),s=o.slice(2,f?o.length-7:void 0),m=r[Ct]||null,m=m!=null?m[o]:null,typeof m=="function"&&r.removeEventListener(s,m,f),typeof u=="function")){typeof m!="function"&&m!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(s,u,f);break e}o in r?r[o]=u:u===!0?r.setAttribute(o,""):Xi(r,o,u)}}}function rn(r,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Le("error",r),Le("load",r);var u=!1,f=!1,m;for(m in o)if(o.hasOwnProperty(m)){var E=o[m];if(E!=null)switch(m){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:it(r,s,m,E,o,null)}}f&&it(r,s,"srcSet",o.srcSet,o,null),u&&it(r,s,"src",o.src,o,null);return;case"input":Le("invalid",r);var A=m=E=f=null,k=null,Y=null;for(u in o)if(o.hasOwnProperty(u)){var te=o[u];if(te!=null)switch(u){case"name":f=te;break;case"type":E=te;break;case"checked":k=te;break;case"defaultChecked":Y=te;break;case"value":m=te;break;case"defaultValue":A=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(i(137,s));break;default:it(r,s,u,te,o,null)}}Ws(r,m,A,k,Y,E,f,!1),Wa(r);return;case"select":Le("invalid",r),u=E=m=null;for(f in o)if(o.hasOwnProperty(f)&&(A=o[f],A!=null))switch(f){case"value":m=A;break;case"defaultValue":E=A;break;case"multiple":u=A;default:it(r,s,f,A,o,null)}s=m,o=E,r.multiple=!!u,s!=null?mi(r,!!u,s,!1):o!=null&&mi(r,!!u,o,!0);return;case"textarea":Le("invalid",r),m=f=u=null;for(E in o)if(o.hasOwnProperty(E)&&(A=o[E],A!=null))switch(E){case"value":u=A;break;case"defaultValue":f=A;break;case"children":m=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(i(91));break;default:it(r,s,E,A,o,null)}Zs(r,u,f,m),Wa(r);return;case"option":for(k in o)if(o.hasOwnProperty(k)&&(u=o[k],u!=null))switch(k){case"selected":r.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:it(r,s,k,u,o,null)}return;case"dialog":Le("beforetoggle",r),Le("toggle",r),Le("cancel",r),Le("close",r);break;case"iframe":case"object":Le("load",r);break;case"video":case"audio":for(u=0;u<mu.length;u++)Le(mu[u],r);break;case"image":Le("error",r),Le("load",r);break;case"details":Le("toggle",r);break;case"embed":case"source":case"link":Le("error",r),Le("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in o)if(o.hasOwnProperty(Y)&&(u=o[Y],u!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:it(r,s,Y,u,o,null)}return;default:if(Dl(s)){for(te in o)o.hasOwnProperty(te)&&(u=o[te],u!==void 0&&um(r,s,te,u,o,void 0));return}}for(A in o)o.hasOwnProperty(A)&&(u=o[A],u!=null&&it(r,s,A,u,o,null))}function D1(r,s,o,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,E=null,A=null,k=null,Y=null,te=null;for(W in o){var ie=o[W];if(o.hasOwnProperty(W)&&ie!=null)switch(W){case"checked":break;case"value":break;case"defaultValue":k=ie;default:u.hasOwnProperty(W)||it(r,s,W,null,u,ie)}}for(var Q in u){var W=u[Q];if(ie=o[Q],u.hasOwnProperty(Q)&&(W!=null||ie!=null))switch(Q){case"type":m=W;break;case"name":f=W;break;case"checked":Y=W;break;case"defaultChecked":te=W;break;case"value":E=W;break;case"defaultValue":A=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(i(137,s));break;default:W!==ie&&it(r,s,Q,W,u,ie)}}zn(r,E,A,k,Y,te,m,f);return;case"select":W=E=A=Q=null;for(m in o)if(k=o[m],o.hasOwnProperty(m)&&k!=null)switch(m){case"value":break;case"multiple":W=k;default:u.hasOwnProperty(m)||it(r,s,m,null,u,k)}for(f in u)if(m=u[f],k=o[f],u.hasOwnProperty(f)&&(m!=null||k!=null))switch(f){case"value":Q=m;break;case"defaultValue":A=m;break;case"multiple":E=m;default:m!==k&&it(r,s,f,m,u,k)}s=A,o=E,u=W,Q!=null?mi(r,!!o,Q,!1):!!u!=!!o&&(s!=null?mi(r,!!o,s,!0):mi(r,!!o,o?[]:"",!1));return;case"textarea":W=Q=null;for(A in o)if(f=o[A],o.hasOwnProperty(A)&&f!=null&&!u.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:it(r,s,A,null,u,f)}for(E in u)if(f=u[E],m=o[E],u.hasOwnProperty(E)&&(f!=null||m!=null))switch(E){case"value":Q=f;break;case"defaultValue":W=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(i(91));break;default:f!==m&&it(r,s,E,f,u,m)}nt(r,Q,W);return;case"option":for(var Re in o)if(Q=o[Re],o.hasOwnProperty(Re)&&Q!=null&&!u.hasOwnProperty(Re))switch(Re){case"selected":r.selected=!1;break;default:it(r,s,Re,null,u,Q)}for(k in u)if(Q=u[k],W=o[k],u.hasOwnProperty(k)&&Q!==W&&(Q!=null||W!=null))switch(k){case"selected":r.selected=Q&&typeof Q!="function"&&typeof Q!="symbol";break;default:it(r,s,k,Q,u,W)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Te in o)Q=o[Te],o.hasOwnProperty(Te)&&Q!=null&&!u.hasOwnProperty(Te)&&it(r,s,Te,null,u,Q);for(Y in u)if(Q=u[Y],W=o[Y],u.hasOwnProperty(Y)&&Q!==W&&(Q!=null||W!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(i(137,s));break;default:it(r,s,Y,Q,u,W)}return;default:if(Dl(s)){for(var st in o)Q=o[st],o.hasOwnProperty(st)&&Q!==void 0&&!u.hasOwnProperty(st)&&um(r,s,st,void 0,u,Q);for(te in u)Q=u[te],W=o[te],!u.hasOwnProperty(te)||Q===W||Q===void 0&&W===void 0||um(r,s,te,Q,u,W);return}}for(var q in o)Q=o[q],o.hasOwnProperty(q)&&Q!=null&&!u.hasOwnProperty(q)&&it(r,s,q,null,u,Q);for(ie in u)Q=u[ie],W=o[ie],!u.hasOwnProperty(ie)||Q===W||Q==null&&W==null||it(r,s,ie,Q,u,W)}var cm=null,hm=null;function Uh(r){return r.nodeType===9?r:r.ownerDocument}function U0(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function j0(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function fm(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var dm=null;function P1(){var r=window.event;return r&&r.type==="popstate"?r===dm?!1:(dm=r,!0):(dm=null,!1)}var z0=typeof setTimeout=="function"?setTimeout:void 0,k1=typeof clearTimeout=="function"?clearTimeout:void 0,B0=typeof Promise=="function"?Promise:void 0,M1=typeof queueMicrotask=="function"?queueMicrotask:typeof B0<"u"?function(r){return B0.resolve(null).then(r).catch(V1)}:z0;function V1(r){setTimeout(function(){throw r})}function ps(r){return r==="head"}function q0(r,s){var o=s,u=0,f=0;do{var m=o.nextSibling;if(r.removeChild(o),m&&m.nodeType===8)if(o=m.data,o==="/$"){if(0<u&&8>u){o=u;var E=r.ownerDocument;if(o&1&&vu(E.documentElement),o&2&&vu(E.body),o&4)for(o=E.head,vu(o),E=o.firstChild;E;){var A=E.nextSibling,k=E.nodeName;E[Ks]||k==="SCRIPT"||k==="STYLE"||k==="LINK"&&E.rel.toLowerCase()==="stylesheet"||o.removeChild(E),E=A}}if(f===0){r.removeChild(m),wu(s);return}f--}else o==="$"||o==="$?"||o==="$!"?f++:u=o.charCodeAt(0)-48;else u=0;o=m}while(o);wu(s)}function pm(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":pm(o),Qi(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function L1(r,s,o,u){for(;r.nodeType===1;){var f=o;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(u){if(!r[Ks])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(m=r.getAttribute("rel"),m==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(m!==f.rel||r.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||r.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||r.getAttribute("title")!==(f.title==null?null:f.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(m=r.getAttribute("src"),(m!==(f.src==null?null:f.src)||r.getAttribute("type")!==(f.type==null?null:f.type)||r.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&r.getAttribute("name")===m)return r}else return r;if(r=Sr(r.nextSibling),r===null)break}return null}function U1(r,s,o){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=Sr(r.nextSibling),r===null))return null;return r}function mm(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function j1(r,s){var o=r.ownerDocument;if(r.data!=="$?"||o.readyState==="complete")s();else{var u=function(){s(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),r._reactRetry=u}}function Sr(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return r}var gm=null;function F0(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return r;s--}else o==="/$"&&s++}r=r.previousSibling}return null}function H0(r,s,o){switch(s=Uh(o),r){case"html":if(r=s.documentElement,!r)throw Error(i(452));return r;case"head":if(r=s.head,!r)throw Error(i(453));return r;case"body":if(r=s.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function vu(r){for(var s=r.attributes;s.length;)r.removeAttributeNode(s[0]);Qi(r)}var ur=new Map,G0=new Set;function jh(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var ki=oe.d;oe.d={f:z1,r:B1,D:q1,C:F1,L:H1,m:G1,X:K1,S:$1,M:Y1};function z1(){var r=ki.f(),s=Oh();return r||s}function B1(r){var s=Pr(r);s!==null&&s.tag===5&&s.type==="form"?h_(s):ki.r(r)}var Po=typeof document>"u"?null:document;function $0(r,s,o){var u=Po;if(u&&typeof s=="string"&&s){var f=It(s);f='link[rel="'+r+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),G0.has(f)||(G0.add(f),r={rel:r,crossOrigin:o,href:s},u.querySelector(f)===null&&(s=u.createElement("link"),rn(s,"link",r),bt(s),u.head.appendChild(s)))}}function q1(r){ki.D(r),$0("dns-prefetch",r,null)}function F1(r,s){ki.C(r,s),$0("preconnect",r,s)}function H1(r,s,o){ki.L(r,s,o);var u=Po;if(u&&r&&s){var f='link[rel="preload"][as="'+It(s)+'"]';s==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+It(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+It(o.imageSizes)+'"]')):f+='[href="'+It(r)+'"]';var m=f;switch(s){case"style":m=ko(r);break;case"script":m=Mo(r)}ur.has(m)||(r=v({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:r,as:s},o),ur.set(m,r),u.querySelector(f)!==null||s==="style"&&u.querySelector(yu(m))||s==="script"&&u.querySelector(_u(m))||(s=u.createElement("link"),rn(s,"link",r),bt(s),u.head.appendChild(s)))}}function G1(r,s){ki.m(r,s);var o=Po;if(o&&r){var u=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+It(u)+'"][href="'+It(r)+'"]',m=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Mo(r)}if(!ur.has(m)&&(r=v({rel:"modulepreload",href:r},s),ur.set(m,r),o.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(_u(m)))return}u=o.createElement("link"),rn(u,"link",r),bt(u),o.head.appendChild(u)}}}function $1(r,s,o){ki.S(r,s,o);var u=Po;if(u&&r){var f=Tn(u).hoistableStyles,m=ko(r);s=s||"default";var E=f.get(m);if(!E){var A={loading:0,preload:null};if(E=u.querySelector(yu(m)))A.loading=5;else{r=v({rel:"stylesheet",href:r,"data-precedence":s},o),(o=ur.get(m))&&vm(r,o);var k=E=u.createElement("link");bt(k),rn(k,"link",r),k._p=new Promise(function(Y,te){k.onload=Y,k.onerror=te}),k.addEventListener("load",function(){A.loading|=1}),k.addEventListener("error",function(){A.loading|=2}),A.loading|=4,zh(E,s,u)}E={type:"stylesheet",instance:E,count:1,state:A},f.set(m,E)}}}function K1(r,s){ki.X(r,s);var o=Po;if(o&&r){var u=Tn(o).hoistableScripts,f=Mo(r),m=u.get(f);m||(m=o.querySelector(_u(f)),m||(r=v({src:r,async:!0},s),(s=ur.get(f))&&ym(r,s),m=o.createElement("script"),bt(m),rn(m,"link",r),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(f,m))}}function Y1(r,s){ki.M(r,s);var o=Po;if(o&&r){var u=Tn(o).hoistableScripts,f=Mo(r),m=u.get(f);m||(m=o.querySelector(_u(f)),m||(r=v({src:r,async:!0,type:"module"},s),(s=ur.get(f))&&ym(r,s),m=o.createElement("script"),bt(m),rn(m,"link",r),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(f,m))}}function K0(r,s,o,u){var f=(f=ye.current)?jh(f):null;if(!f)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=ko(o.href),o=Tn(f).hoistableStyles,u=o.get(s),u||(u={type:"style",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=ko(o.href);var m=Tn(f).hoistableStyles,E=m.get(r);if(E||(f=f.ownerDocument||f,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(r,E),(m=f.querySelector(yu(r)))&&!m._p&&(E.instance=m,E.state.loading=5),ur.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},ur.set(r,o),m||Q1(f,r,o,E.state))),s&&u===null)throw Error(i(528,""));return E}if(s&&u!==null)throw Error(i(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Mo(o),o=Tn(f).hoistableScripts,u=o.get(s),u||(u={type:"script",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function ko(r){return'href="'+It(r)+'"'}function yu(r){return'link[rel="stylesheet"]['+r+"]"}function Y0(r){return v({},r,{"data-precedence":r.precedence,precedence:null})}function Q1(r,s,o,u){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=r.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),rn(s,"link",o),bt(s),r.head.appendChild(s))}function Mo(r){return'[src="'+It(r)+'"]'}function _u(r){return"script[async]"+r}function Q0(r,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var u=r.querySelector('style[data-href~="'+It(o.href)+'"]');if(u)return s.instance=u,bt(u),u;var f=v({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(r.ownerDocument||r).createElement("style"),bt(u),rn(u,"style",f),zh(u,o.precedence,r),s.instance=u;case"stylesheet":f=ko(o.href);var m=r.querySelector(yu(f));if(m)return s.state.loading|=4,s.instance=m,bt(m),m;u=Y0(o),(f=ur.get(f))&&vm(u,f),m=(r.ownerDocument||r).createElement("link"),bt(m);var E=m;return E._p=new Promise(function(A,k){E.onload=A,E.onerror=k}),rn(m,"link",u),s.state.loading|=4,zh(m,o.precedence,r),s.instance=m;case"script":return m=Mo(o.src),(f=r.querySelector(_u(m)))?(s.instance=f,bt(f),f):(u=o,(f=ur.get(m))&&(u=v({},o),ym(u,f)),r=r.ownerDocument||r,f=r.createElement("script"),bt(f),rn(f,"link",u),r.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,zh(u,o.precedence,r));return s.instance}function zh(r,s,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,m=f,E=0;E<u.length;E++){var A=u[E];if(A.dataset.precedence===s)m=A;else if(m!==f)break}m?m.parentNode.insertBefore(r,m.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(r,s.firstChild))}function vm(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function ym(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var Bh=null;function X0(r,s,o){if(Bh===null){var u=new Map,f=Bh=new Map;f.set(o,u)}else f=Bh,u=f.get(o),u||(u=new Map,f.set(o,u));if(u.has(r))return u;for(u.set(r,null),o=o.getElementsByTagName(r),f=0;f<o.length;f++){var m=o[f];if(!(m[Ks]||m[kt]||r==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var E=m.getAttribute(s)||"";E=r+E;var A=u.get(E);A?A.push(m):u.set(E,[m])}}return u}function W0(r,s,o){r=r.ownerDocument||r,r.head.insertBefore(o,s==="title"?r.querySelector("head > title"):null)}function X1(r,s,o){if(o===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return r=s.disabled,typeof s.precedence=="string"&&r==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Z0(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var Eu=null;function W1(){}function Z1(r,s,o){if(Eu===null)throw Error(i(475));var u=Eu;if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var f=ko(o.href),m=r.querySelector(yu(f));if(m){r=m._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(u.count++,u=qh.bind(u),r.then(u,u)),s.state.loading|=4,s.instance=m,bt(m);return}m=r.ownerDocument||r,o=Y0(o),(f=ur.get(f))&&vm(o,f),m=m.createElement("link"),bt(m);var E=m;E._p=new Promise(function(A,k){E.onload=A,E.onerror=k}),rn(m,"link",o),s.instance=m}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(s,r),(r=s.state.preload)&&(s.state.loading&3)===0&&(u.count++,s=qh.bind(u),r.addEventListener("load",s),r.addEventListener("error",s))}}function J1(){if(Eu===null)throw Error(i(475));var r=Eu;return r.stylesheets&&r.count===0&&_m(r,r.stylesheets),0<r.count?function(s){var o=setTimeout(function(){if(r.stylesheets&&_m(r,r.stylesheets),r.unsuspend){var u=r.unsuspend;r.unsuspend=null,u()}},6e4);return r.unsuspend=s,function(){r.unsuspend=null,clearTimeout(o)}}:null}function qh(){if(this.count--,this.count===0){if(this.stylesheets)_m(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Fh=null;function _m(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Fh=new Map,s.forEach(eC,r),Fh=null,qh.call(r))}function eC(r,s){if(!(s.state.loading&4)){var o=Fh.get(r);if(o)var u=o.get(null);else{o=new Map,Fh.set(r,o);for(var f=r.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var E=f[m];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(o.set(E.dataset.precedence,E),u=E)}u&&o.set(null,u)}f=s.instance,E=f.getAttribute("data-precedence"),m=o.get(E)||u,m===u&&o.set(null,f),o.set(E,f),this.count++,u=qh.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),m?m.parentNode.insertBefore(f,m.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(f,r.firstChild)),s.state.loading|=4}}var bu={$$typeof:j,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function tC(r,s,o,u,f,m,E,A){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ci(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ci(0),this.hiddenUpdates=ci(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function J0(r,s,o,u,f,m,E,A,k,Y,te,ie){return r=new tC(r,s,o,E,A,k,Y,ie),s=1,m===!0&&(s|=24),m=qn(3,null,null,s),r.current=m,m.stateNode=r,s=ep(),s.refCount++,r.pooledCache=s,s.refCount++,m.memoizedState={element:u,isDehydrated:o,cache:s},ip(m),r}function eE(r){return r?(r=ho,r):ho}function tE(r,s,o,u,f,m){f=eE(f),u.context===null?u.context=f:u.pendingContext=f,u=ts(s),u.payload={element:o},m=m===void 0?null:m,m!==null&&(u.callback=m),o=ns(r,u,s),o!==null&&(Kn(o,r,s),Wl(o,r,s))}function nE(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<s?o:s}}function Em(r,s){nE(r,s),(r=r.alternate)&&nE(r,s)}function rE(r){if(r.tag===13){var s=co(r,67108864);s!==null&&Kn(s,r,67108864),Em(r,67108864)}}var Hh=!0;function nC(r,s,o,u){var f=Z.T;Z.T=null;var m=oe.p;try{oe.p=2,bm(r,s,o,u)}finally{oe.p=m,Z.T=f}}function rC(r,s,o,u){var f=Z.T;Z.T=null;var m=oe.p;try{oe.p=8,bm(r,s,o,u)}finally{oe.p=m,Z.T=f}}function bm(r,s,o,u){if(Hh){var f=Tm(u);if(f===null)lm(r,s,u,Gh,o),sE(r,u);else if(sC(f,r,s,o,u))u.stopPropagation();else if(sE(r,u),s&4&&-1<iC.indexOf(r)){for(;f!==null;){var m=Pr(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var E=_r(m.pendingLanes);if(E!==0){var A=m;for(A.pendingLanes|=2,A.entangledLanes|=2;E;){var k=1<<31-dn(E);A.entanglements[1]|=k,E&=~k}Kr(m),(Je&6)===0&&(Ih=Ce()+500,pu(0))}}break;case 13:A=co(m,2),A!==null&&Kn(A,m,2),Oh(),Em(m,2)}if(m=Tm(u),m===null&&lm(r,s,u,Gh,o),m===f)break;f=m}f!==null&&u.stopPropagation()}else lm(r,s,u,null,o)}}function Tm(r){return r=er(r),Am(r)}var Gh=null;function Am(r){if(Gh=null,r=fi(r),r!==null){var s=l(r);if(s===null)r=null;else{var o=s.tag;if(o===13){if(r=c(s),r!==null)return r;r=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return Gh=r,null}function iE(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(hn()){case Cn:return 2;case tt:return 8;case Rt:case In:return 32;case Zt:return 268435456;default:return 32}default:return 32}}var Sm=!1,ms=null,gs=null,vs=null,Tu=new Map,Au=new Map,ys=[],iC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function sE(r,s){switch(r){case"focusin":case"focusout":ms=null;break;case"dragenter":case"dragleave":gs=null;break;case"mouseover":case"mouseout":vs=null;break;case"pointerover":case"pointerout":Tu.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Au.delete(s.pointerId)}}function Su(r,s,o,u,f,m){return r===null||r.nativeEvent!==m?(r={blockedOn:s,domEventName:o,eventSystemFlags:u,nativeEvent:m,targetContainers:[f]},s!==null&&(s=Pr(s),s!==null&&rE(s)),r):(r.eventSystemFlags|=u,s=r.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),r)}function sC(r,s,o,u,f){switch(s){case"focusin":return ms=Su(ms,r,s,o,u,f),!0;case"dragenter":return gs=Su(gs,r,s,o,u,f),!0;case"mouseover":return vs=Su(vs,r,s,o,u,f),!0;case"pointerover":var m=f.pointerId;return Tu.set(m,Su(Tu.get(m)||null,r,s,o,u,f)),!0;case"gotpointercapture":return m=f.pointerId,Au.set(m,Su(Au.get(m)||null,r,s,o,u,f)),!0}return!1}function aE(r){var s=fi(r.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=c(o),s!==null){r.blockedOn=s,Oc(r.priority,function(){if(o.tag===13){var u=$n();u=$i(u);var f=co(o,u);f!==null&&Kn(f,o,u),Em(o,u)}});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function $h(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var o=Tm(r.nativeEvent);if(o===null){o=r.nativeEvent;var u=new o.constructor(o.type,o);gi=u,o.target.dispatchEvent(u),gi=null}else return s=Pr(o),s!==null&&rE(s),r.blockedOn=o,!1;s.shift()}return!0}function oE(r,s,o){$h(r)&&o.delete(s)}function aC(){Sm=!1,ms!==null&&$h(ms)&&(ms=null),gs!==null&&$h(gs)&&(gs=null),vs!==null&&$h(vs)&&(vs=null),Tu.forEach(oE),Au.forEach(oE)}function Kh(r,s){r.blockedOn===s&&(r.blockedOn=null,Sm||(Sm=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,aC)))}var Yh=null;function lE(r){Yh!==r&&(Yh=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Yh===r&&(Yh=null);for(var s=0;s<r.length;s+=3){var o=r[s],u=r[s+1],f=r[s+2];if(typeof u!="function"){if(Am(u||o)===null)continue;break}var m=Pr(o);m!==null&&(r.splice(s,3),s-=3,Ap(m,{pending:!0,data:f,method:o.method,action:u},u,f))}}))}function wu(r){function s(k){return Kh(k,r)}ms!==null&&Kh(ms,r),gs!==null&&Kh(gs,r),vs!==null&&Kh(vs,r),Tu.forEach(s),Au.forEach(s);for(var o=0;o<ys.length;o++){var u=ys[o];u.blockedOn===r&&(u.blockedOn=null)}for(;0<ys.length&&(o=ys[0],o.blockedOn===null);)aE(o),o.blockedOn===null&&ys.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var f=o[u],m=o[u+1],E=f[Ct]||null;if(typeof m=="function")E||lE(o);else if(E){var A=null;if(m&&m.hasAttribute("formAction")){if(f=m,E=m[Ct]||null)A=E.formAction;else if(Am(f)!==null)continue}else A=E.action;typeof A=="function"?o[u+1]=A:(o.splice(u,3),u-=3),lE(o)}}}function wm(r){this._internalRoot=r}Qh.prototype.render=wm.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(i(409));var o=s.current,u=$n();tE(o,u,r,s,null,null)},Qh.prototype.unmount=wm.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;tE(r.current,2,null,r,null,null),Oh(),s[Zn]=null}};function Qh(r){this._internalRoot=r}Qh.prototype.unstable_scheduleHydration=function(r){if(r){var s=Ki();r={blockedOn:null,target:r,priority:s};for(var o=0;o<ys.length&&s!==0&&s<ys[o].priority;o++);ys.splice(o,0,r),o===0&&aE(r)}};var uE=e.version;if(uE!=="19.1.0")throw Error(i(527,uE,"19.1.0"));oe.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=p(s),r=r!==null?g(r):null,r=r===null?null:r.stateNode,r};var oC={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Z,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xh.isDisabled&&Xh.supportsFiber)try{ct=Xh.inject(oC),Ge=Xh}catch{}}return Cu.createRoot=function(r,s){if(!a(r))throw Error(i(299));var o=!1,u="",f=w_,m=R_,E=C_,A=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(m=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(A=s.unstable_transitionCallbacks)),s=J0(r,1,!1,null,null,o,u,f,m,E,A,null),r[Zn]=s.current,om(r),new wm(s)},Cu.hydrateRoot=function(r,s,o){if(!a(r))throw Error(i(299));var u=!1,f="",m=w_,E=R_,A=C_,k=null,Y=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(m=o.onUncaughtError),o.onCaughtError!==void 0&&(E=o.onCaughtError),o.onRecoverableError!==void 0&&(A=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(k=o.unstable_transitionCallbacks),o.formState!==void 0&&(Y=o.formState)),s=J0(r,1,!0,s,o??null,u,f,m,E,A,k,Y),s.context=eE(null),o=s.current,u=$n(),u=$i(u),f=ts(u),f.callback=null,ns(o,f,u),o=u,s.current.lanes=o,hi(s,o),Kr(s),r[Zn]=s.current,om(r),new Qh(s)},Cu.version="19.1.0",Cu}var _E;function yC(){if(_E)return Im.exports;_E=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Im.exports=vC(),Im.exports}var _C=yC(),Iu={},EE;function EC(){if(EE)return Iu;EE=1,Object.defineProperty(Iu,"__esModule",{value:!0}),Iu.parse=c,Iu.serialize=g;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,l=(()=>{const S=function(){};return S.prototype=Object.create(null),S})();function c(S,O){const C=new l,M=S.length;if(M<2)return C;const P=(O==null?void 0:O.decode)||v;let B=0;do{const F=S.indexOf("=",B);if(F===-1)break;const j=S.indexOf(";",B),G=j===-1?M:j;if(F>G){B=S.lastIndexOf(";",F-1)+1;continue}const X=d(S,B,F),J=p(S,F,X),x=S.slice(X,J);if(C[x]===void 0){let R=d(S,F+1,G),I=p(S,G,R);const N=P(S.slice(R,I));C[x]=N}B=G+1}while(B<M);return C}function d(S,O,C){do{const M=S.charCodeAt(O);if(M!==32&&M!==9)return O}while(++O<C);return C}function p(S,O,C){for(;O>C;){const M=S.charCodeAt(--O);if(M!==32&&M!==9)return O+1}return C}function g(S,O,C){const M=(C==null?void 0:C.encode)||encodeURIComponent;if(!n.test(S))throw new TypeError(`argument name is invalid: ${S}`);const P=M(O);if(!e.test(P))throw new TypeError(`argument val is invalid: ${O}`);let B=S+"="+P;if(!C)return B;if(C.maxAge!==void 0){if(!Number.isInteger(C.maxAge))throw new TypeError(`option maxAge is invalid: ${C.maxAge}`);B+="; Max-Age="+C.maxAge}if(C.domain){if(!t.test(C.domain))throw new TypeError(`option domain is invalid: ${C.domain}`);B+="; Domain="+C.domain}if(C.path){if(!i.test(C.path))throw new TypeError(`option path is invalid: ${C.path}`);B+="; Path="+C.path}if(C.expires){if(!b(C.expires)||!Number.isFinite(C.expires.valueOf()))throw new TypeError(`option expires is invalid: ${C.expires}`);B+="; Expires="+C.expires.toUTCString()}if(C.httpOnly&&(B+="; HttpOnly"),C.secure&&(B+="; Secure"),C.partitioned&&(B+="; Partitioned"),C.priority)switch(typeof C.priority=="string"?C.priority.toLowerCase():void 0){case"low":B+="; Priority=Low";break;case"medium":B+="; Priority=Medium";break;case"high":B+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${C.priority}`)}if(C.sameSite)switch(typeof C.sameSite=="string"?C.sameSite.toLowerCase():C.sameSite){case!0:case"strict":B+="; SameSite=Strict";break;case"lax":B+="; SameSite=Lax";break;case"none":B+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${C.sameSite}`)}return B}function v(S){if(S.indexOf("%")===-1)return S;try{return decodeURIComponent(S)}catch{return S}}function b(S){return a.call(S)==="[object Date]"}return Iu}EC();var bE="popstate";function bC(n={}){function e(i,a){let{pathname:l,search:c,hash:d}=i.location;return Qm("",{pathname:l,search:c,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(i,a){return typeof a=="string"?a:Yu(a)}return AC(e,t,null,n)}function mt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Cr(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function TC(){return Math.random().toString(36).substring(2,10)}function TE(n,e){return{usr:n.state,key:n.key,idx:e}}function Qm(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?ll(e):e,state:t,key:e&&e.key||i||TC()}}function Yu({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function ll(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function AC(n,e,t,i={}){let{window:a=document.defaultView,v5Compat:l=!1}=i,c=a.history,d="POP",p=null,g=v();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function v(){return(c.state||{idx:null}).idx}function b(){d="POP";let P=v(),B=P==null?null:P-g;g=P,p&&p({action:d,location:M.location,delta:B})}function S(P,B){d="PUSH";let F=Qm(M.location,P,B);g=v()+1;let j=TE(F,g),G=M.createHref(F);try{c.pushState(j,"",G)}catch(X){if(X instanceof DOMException&&X.name==="DataCloneError")throw X;a.location.assign(G)}l&&p&&p({action:d,location:M.location,delta:1})}function O(P,B){d="REPLACE";let F=Qm(M.location,P,B);g=v();let j=TE(F,g),G=M.createHref(F);c.replaceState(j,"",G),l&&p&&p({action:d,location:M.location,delta:0})}function C(P){return SC(P)}let M={get action(){return d},get location(){return n(a,c)},listen(P){if(p)throw new Error("A history only accepts one active listener");return a.addEventListener(bE,b),p=P,()=>{a.removeEventListener(bE,b),p=null}},createHref(P){return e(a,P)},createURL:C,encodeLocation(P){let B=C(P);return{pathname:B.pathname,search:B.search,hash:B.hash}},push:S,replace:O,go(P){return c.go(P)}};return M}function SC(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),mt(t,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:Yu(n);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function QT(n,e,t="/"){return wC(n,e,t,!1)}function wC(n,e,t,i){let a=typeof e=="string"?ll(e):e,l=zi(a.pathname||"/",t);if(l==null)return null;let c=XT(n);RC(c);let d=null;for(let p=0;d==null&&p<c.length;++p){let g=LC(l);d=MC(c[p],g,i)}return d}function XT(n,e=[],t=[],i=""){let a=(l,c,d)=>{let p={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};p.relativePath.startsWith("/")&&(mt(p.relativePath.startsWith(i),`Absolute route path "${p.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(i.length));let g=Li([i,p.relativePath]),v=t.concat(p);l.children&&l.children.length>0&&(mt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),XT(l.children,e,v,g)),!(l.path==null&&!l.index)&&e.push({path:g,score:PC(g,l.index),routesMeta:v})};return n.forEach((l,c)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))a(l,c);else for(let p of WT(l.path))a(l,c,p)}),e}function WT(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,a=t.endsWith("?"),l=t.replace(/\?$/,"");if(i.length===0)return a?[l,""]:[l];let c=WT(i.join("/")),d=[];return d.push(...c.map(p=>p===""?l:[l,p].join("/"))),a&&d.push(...c),d.map(p=>n.startsWith("/")&&p===""?"/":p)}function RC(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:kC(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var CC=/^:[\w-]+$/,IC=3,xC=2,OC=1,NC=10,DC=-2,AE=n=>n==="*";function PC(n,e){let t=n.split("/"),i=t.length;return t.some(AE)&&(i+=DC),e&&(i+=xC),t.filter(a=>!AE(a)).reduce((a,l)=>a+(CC.test(l)?IC:l===""?OC:NC),i)}function kC(n,e){return n.length===e.length&&n.slice(0,-1).every((i,a)=>i===e[a])?n[n.length-1]-e[e.length-1]:0}function MC(n,e,t=!1){let{routesMeta:i}=n,a={},l="/",c=[];for(let d=0;d<i.length;++d){let p=i[d],g=d===i.length-1,v=l==="/"?e:e.slice(l.length)||"/",b=Rf({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},v),S=p.route;if(!b&&g&&t&&!i[i.length-1].route.index&&(b=Rf({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},v)),!b)return null;Object.assign(a,b.params),c.push({params:a,pathname:Li([l,b.pathname]),pathnameBase:BC(Li([l,b.pathnameBase])),route:S}),b.pathnameBase!=="/"&&(l=Li([l,b.pathnameBase]))}return c}function Rf(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=VC(n.path,n.caseSensitive,n.end),a=e.match(t);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:i.reduce((g,{paramName:v,isOptional:b},S)=>{if(v==="*"){let C=d[S]||"";c=l.slice(0,l.length-C.length).replace(/(.)\/+$/,"$1")}const O=d[S];return b&&!O?g[v]=void 0:g[v]=(O||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:c,pattern:n}}function VC(n,e=!1,t=!0){Cr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,p)=>(i.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function LC(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Cr(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function zi(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function UC(n,e="/"){let{pathname:t,search:i="",hash:a=""}=typeof n=="string"?ll(n):n;return{pathname:t?t.startsWith("/")?t:jC(t,e):e,search:qC(i),hash:FC(a)}}function jC(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function Dm(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function zC(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Og(n){let e=zC(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function Ng(n,e,t,i=!1){let a;typeof n=="string"?a=ll(n):(a={...n},mt(!a.pathname||!a.pathname.includes("?"),Dm("?","pathname","search",a)),mt(!a.pathname||!a.pathname.includes("#"),Dm("#","pathname","hash",a)),mt(!a.search||!a.search.includes("#"),Dm("#","search","hash",a)));let l=n===""||a.pathname==="",c=l?"/":a.pathname,d;if(c==null)d=t;else{let b=e.length-1;if(!i&&c.startsWith("..")){let S=c.split("/");for(;S[0]==="..";)S.shift(),b-=1;a.pathname=S.join("/")}d=b>=0?e[b]:"/"}let p=UC(a,d),g=c&&c!=="/"&&c.endsWith("/"),v=(l||c===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(g||v)&&(p.pathname+="/"),p}var Li=n=>n.join("/").replace(/\/\/+/g,"/"),BC=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),qC=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,FC=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function HC(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var ZT=["POST","PUT","PATCH","DELETE"];new Set(ZT);var GC=["GET",...ZT];new Set(GC);var ul=H.createContext(null);ul.displayName="DataRouter";var Wf=H.createContext(null);Wf.displayName="DataRouterState";var JT=H.createContext({isTransitioning:!1});JT.displayName="ViewTransition";var $C=H.createContext(new Map);$C.displayName="Fetchers";var KC=H.createContext(null);KC.displayName="Await";var Or=H.createContext(null);Or.displayName="Navigation";var hc=H.createContext(null);hc.displayName="Location";var Nr=H.createContext({outlet:null,matches:[],isDataRoute:!1});Nr.displayName="Route";var Dg=H.createContext(null);Dg.displayName="RouteError";function YC(n,{relative:e}={}){mt(cl(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=H.useContext(Or),{hash:a,pathname:l,search:c}=fc(n,{relative:e}),d=l;return t!=="/"&&(d=l==="/"?t:Li([t,l])),i.createHref({pathname:d,search:c,hash:a})}function cl(){return H.useContext(hc)!=null}function li(){return mt(cl(),"useLocation() may be used only in the context of a <Router> component."),H.useContext(hc).location}var eA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function tA(n){H.useContext(Or).static||H.useLayoutEffect(n)}function La(){let{isDataRoute:n}=H.useContext(Nr);return n?uI():QC()}function QC(){mt(cl(),"useNavigate() may be used only in the context of a <Router> component.");let n=H.useContext(ul),{basename:e,navigator:t}=H.useContext(Or),{matches:i}=H.useContext(Nr),{pathname:a}=li(),l=JSON.stringify(Og(i)),c=H.useRef(!1);return tA(()=>{c.current=!0}),H.useCallback((p,g={})=>{if(Cr(c.current,eA),!c.current)return;if(typeof p=="number"){t.go(p);return}let v=Ng(p,JSON.parse(l),a,g.relative==="path");n==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Li([e,v.pathname])),(g.replace?t.replace:t.push)(v,g.state,g)},[e,t,l,a,n])}var XC=H.createContext(null);function WC(n){let e=H.useContext(Nr).outlet;return e&&H.createElement(XC.Provider,{value:n},e)}function fc(n,{relative:e}={}){let{matches:t}=H.useContext(Nr),{pathname:i}=li(),a=JSON.stringify(Og(t));return H.useMemo(()=>Ng(n,JSON.parse(a),i,e==="path"),[n,a,i,e])}function ZC(n,e){return nA(n,e)}function nA(n,e,t,i){var F;mt(cl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a,static:l}=H.useContext(Or),{matches:c}=H.useContext(Nr),d=c[c.length-1],p=d?d.params:{},g=d?d.pathname:"/",v=d?d.pathnameBase:"/",b=d&&d.route;{let j=b&&b.path||"";rA(g,!b||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let S=li(),O;if(e){let j=typeof e=="string"?ll(e):e;mt(v==="/"||((F=j.pathname)==null?void 0:F.startsWith(v)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${j.pathname}" was given in the \`location\` prop.`),O=j}else O=S;let C=O.pathname||"/",M=C;if(v!=="/"){let j=v.replace(/^\//,"").split("/");M="/"+C.replace(/^\//,"").split("/").slice(j.length).join("/")}let P=!l&&t&&t.matches&&t.matches.length>0?t.matches:QT(n,{pathname:M});Cr(b||P!=null,`No routes matched location "${O.pathname}${O.search}${O.hash}" `),Cr(P==null||P[P.length-1].route.element!==void 0||P[P.length-1].route.Component!==void 0||P[P.length-1].route.lazy!==void 0,`Matched leaf route at location "${O.pathname}${O.search}${O.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let B=rI(P&&P.map(j=>Object.assign({},j,{params:Object.assign({},p,j.params),pathname:Li([v,a.encodeLocation?a.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?v:Li([v,a.encodeLocation?a.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),c,t,i);return e&&B?H.createElement(hc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...O},navigationType:"POP"}},B):B}function JC(){let n=lI(),e=HC(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=H.createElement(H.Fragment,null,H.createElement("p",null,"💿 Hey developer 👋"),H.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",H.createElement("code",{style:l},"ErrorBoundary")," or"," ",H.createElement("code",{style:l},"errorElement")," prop on your route.")),H.createElement(H.Fragment,null,H.createElement("h2",null,"Unexpected Application Error!"),H.createElement("h3",{style:{fontStyle:"italic"}},e),t?H.createElement("pre",{style:a},t):null,c)}var eI=H.createElement(JC,null),tI=class extends H.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?H.createElement(Nr.Provider,{value:this.props.routeContext},H.createElement(Dg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function nI({routeContext:n,match:e,children:t}){let i=H.useContext(ul);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),H.createElement(Nr.Provider,{value:n},t)}function rI(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,l=t==null?void 0:t.errors;if(l!=null){let p=a.findIndex(g=>g.route.id&&(l==null?void 0:l[g.route.id])!==void 0);mt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,p+1))}let c=!1,d=-1;if(t)for(let p=0;p<a.length;p++){let g=a[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(d=p),g.route.id){let{loaderData:v,errors:b}=t,S=g.route.loader&&!v.hasOwnProperty(g.route.id)&&(!b||b[g.route.id]===void 0);if(g.route.lazy||S){c=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((p,g,v)=>{let b,S=!1,O=null,C=null;t&&(b=l&&g.route.id?l[g.route.id]:void 0,O=g.route.errorElement||eI,c&&(d<0&&v===0?(rA("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,C=null):d===v&&(S=!0,C=g.route.hydrateFallbackElement||null)));let M=e.concat(a.slice(0,v+1)),P=()=>{let B;return b?B=O:S?B=C:g.route.Component?B=H.createElement(g.route.Component,null):g.route.element?B=g.route.element:B=p,H.createElement(nI,{match:g,routeContext:{outlet:p,matches:M,isDataRoute:t!=null},children:B})};return t&&(g.route.ErrorBoundary||g.route.errorElement||v===0)?H.createElement(tI,{location:t.location,revalidation:t.revalidation,component:O,error:b,children:P(),routeContext:{outlet:null,matches:M,isDataRoute:!0}}):P()},null)}function Pg(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function iI(n){let e=H.useContext(ul);return mt(e,Pg(n)),e}function sI(n){let e=H.useContext(Wf);return mt(e,Pg(n)),e}function aI(n){let e=H.useContext(Nr);return mt(e,Pg(n)),e}function kg(n){let e=aI(n),t=e.matches[e.matches.length-1];return mt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function oI(){return kg("useRouteId")}function lI(){var i;let n=H.useContext(Dg),e=sI("useRouteError"),t=kg("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function uI(){let{router:n}=iI("useNavigate"),e=kg("useNavigate"),t=H.useRef(!1);return tA(()=>{t.current=!0}),H.useCallback(async(a,l={})=>{Cr(t.current,eA),t.current&&(typeof a=="number"?n.navigate(a):await n.navigate(a,{fromRouteId:e,...l}))},[n,e])}var SE={};function rA(n,e,t){!e&&!SE[n]&&(SE[n]=!0,Cr(!1,t))}H.memo(cI);function cI({routes:n,future:e,state:t}){return nA(n,void 0,t,e)}function hI({to:n,replace:e,state:t,relative:i}){mt(cl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=H.useContext(Or);Cr(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=H.useContext(Nr),{pathname:c}=li(),d=La(),p=Ng(n,Og(l),c,i==="path"),g=JSON.stringify(p);return H.useEffect(()=>{d(JSON.parse(g),{replace:e,state:t,relative:i})},[d,g,i,e,t]),null}function iA(n){return WC(n.context)}function cr(n){mt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function fI({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:a,static:l=!1}){mt(!cl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),d=H.useMemo(()=>({basename:c,navigator:a,static:l,future:{}}),[c,a,l]);typeof t=="string"&&(t=ll(t));let{pathname:p="/",search:g="",hash:v="",state:b=null,key:S="default"}=t,O=H.useMemo(()=>{let C=zi(p,c);return C==null?null:{location:{pathname:C,search:g,hash:v,state:b,key:S},navigationType:i}},[c,p,g,v,b,S,i]);return Cr(O!=null,`<Router basename="${c}"> is not able to match the URL "${p}${g}${v}" because it does not start with the basename, so the <Router> won't render anything.`),O==null?null:H.createElement(Or.Provider,{value:d},H.createElement(hc.Provider,{children:e,value:O}))}function dI({children:n,location:e}){return ZC(Xm(n),e)}function Xm(n,e=[]){let t=[];return H.Children.forEach(n,(i,a)=>{if(!H.isValidElement(i))return;let l=[...e,a];if(i.type===H.Fragment){t.push.apply(t,Xm(i.props.children,l));return}mt(i.type===cr,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),mt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=Xm(i.props.children,l)),t.push(c)}),t}var uf="get",cf="application/x-www-form-urlencoded";function Zf(n){return n!=null&&typeof n.tagName=="string"}function pI(n){return Zf(n)&&n.tagName.toLowerCase()==="button"}function mI(n){return Zf(n)&&n.tagName.toLowerCase()==="form"}function gI(n){return Zf(n)&&n.tagName.toLowerCase()==="input"}function vI(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function yI(n,e){return n.button===0&&(!e||e==="_self")&&!vI(n)}var Wh=null;function _I(){if(Wh===null)try{new FormData(document.createElement("form"),0),Wh=!1}catch{Wh=!0}return Wh}var EI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Pm(n){return n!=null&&!EI.has(n)?(Cr(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${cf}"`),null):n}function bI(n,e){let t,i,a,l,c;if(mI(n)){let d=n.getAttribute("action");i=d?zi(d,e):null,t=n.getAttribute("method")||uf,a=Pm(n.getAttribute("enctype"))||cf,l=new FormData(n)}else if(pI(n)||gI(n)&&(n.type==="submit"||n.type==="image")){let d=n.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=n.getAttribute("formaction")||d.getAttribute("action");if(i=p?zi(p,e):null,t=n.getAttribute("formmethod")||d.getAttribute("method")||uf,a=Pm(n.getAttribute("formenctype"))||Pm(d.getAttribute("enctype"))||cf,l=new FormData(d,n),!_I()){let{name:g,type:v,value:b}=n;if(v==="image"){let S=g?`${g}.`:"";l.append(`${S}x`,"0"),l.append(`${S}y`,"0")}else g&&l.append(g,b)}}else{if(Zf(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=uf,i=null,a=cf,c=n}return l&&a==="text/plain"&&(c=l,l=void 0),{action:i,method:t.toLowerCase(),encType:a,formData:l,body:c}}function Mg(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function TI(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function AI(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function SI(n,e,t){let i=await Promise.all(n.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await TI(l,t);return c.links?c.links():[]}return[]}));return II(i.flat(1).filter(AI).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function wE(n,e,t,i,a,l){let c=(p,g)=>t[g]?p.route.id!==t[g].route.id:!0,d=(p,g)=>{var v;return t[g].pathname!==p.pathname||((v=t[g].route.path)==null?void 0:v.endsWith("*"))&&t[g].params["*"]!==p.params["*"]};return l==="assets"?e.filter((p,g)=>c(p,g)||d(p,g)):l==="data"?e.filter((p,g)=>{var b;let v=i.routes[p.route.id];if(!v||!v.hasLoader)return!1;if(c(p,g)||d(p,g))return!0;if(p.route.shouldRevalidate){let S=p.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((b=t[0])==null?void 0:b.params)||{},nextUrl:new URL(n,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function wI(n,e,{includeHydrateFallback:t}={}){return RI(n.map(i=>{let a=e.routes[i.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function RI(n){return[...new Set(n)]}function CI(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function II(n,e){let t=new Set;return new Set(e),n.reduce((i,a)=>{let l=JSON.stringify(CI(a));return t.has(l)||(t.add(l),i.push({key:l,link:a})),i},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var xI=new Set([100,101,204,205]);function OI(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&zi(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function sA(){let n=H.useContext(ul);return Mg(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function NI(){let n=H.useContext(Wf);return Mg(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Vg=H.createContext(void 0);Vg.displayName="FrameworkContext";function aA(){let n=H.useContext(Vg);return Mg(n,"You must render this element inside a <HydratedRouter> element"),n}function DI(n,e){let t=H.useContext(Vg),[i,a]=H.useState(!1),[l,c]=H.useState(!1),{onFocus:d,onBlur:p,onMouseEnter:g,onMouseLeave:v,onTouchStart:b}=e,S=H.useRef(null);H.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let M=B=>{B.forEach(F=>{c(F.isIntersecting)})},P=new IntersectionObserver(M,{threshold:.5});return S.current&&P.observe(S.current),()=>{P.disconnect()}}},[n]),H.useEffect(()=>{if(i){let M=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(M)}}},[i]);let O=()=>{a(!0)},C=()=>{a(!1),c(!1)};return t?n!=="intent"?[l,S,{}]:[l,S,{onFocus:xu(d,O),onBlur:xu(p,C),onMouseEnter:xu(g,O),onMouseLeave:xu(v,C),onTouchStart:xu(b,O)}]:[!1,S,{}]}function xu(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function PI({page:n,...e}){let{router:t}=sA(),i=H.useMemo(()=>QT(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?H.createElement(MI,{page:n,matches:i,...e}):null}function kI(n){let{manifest:e,routeModules:t}=aA(),[i,a]=H.useState([]);return H.useEffect(()=>{let l=!1;return SI(n,e,t).then(c=>{l||a(c)}),()=>{l=!0}},[n,e,t]),i}function MI({page:n,matches:e,...t}){let i=li(),{manifest:a,routeModules:l}=aA(),{basename:c}=sA(),{loaderData:d,matches:p}=NI(),g=H.useMemo(()=>wE(n,e,p,a,i,"data"),[n,e,p,a,i]),v=H.useMemo(()=>wE(n,e,p,a,i,"assets"),[n,e,p,a,i]),b=H.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let C=new Set,M=!1;if(e.forEach(B=>{var j;let F=a.routes[B.route.id];!F||!F.hasLoader||(!g.some(G=>G.route.id===B.route.id)&&B.route.id in d&&((j=l[B.route.id])!=null&&j.shouldRevalidate)||F.hasClientLoader?M=!0:C.add(B.route.id))}),C.size===0)return[];let P=OI(n,c);return M&&C.size>0&&P.searchParams.set("_routes",e.filter(B=>C.has(B.route.id)).map(B=>B.route.id).join(",")),[P.pathname+P.search]},[c,d,i,a,g,e,n,l]),S=H.useMemo(()=>wI(v,a),[v,a]),O=kI(v);return H.createElement(H.Fragment,null,b.map(C=>H.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...t})),S.map(C=>H.createElement("link",{key:C,rel:"modulepreload",href:C,...t})),O.map(({key:C,link:M})=>H.createElement("link",{key:C,...M})))}function VI(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var oA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{oA&&(window.__reactRouterVersion="7.6.0")}catch{}function LI({basename:n,children:e,window:t}){let i=H.useRef();i.current==null&&(i.current=bC({window:t,v5Compat:!0}));let a=i.current,[l,c]=H.useState({action:a.action,location:a.location}),d=H.useCallback(p=>{H.startTransition(()=>c(p))},[c]);return H.useLayoutEffect(()=>a.listen(d),[a,d]),H.createElement(fI,{basename:n,children:e,location:l.location,navigationType:l.action,navigator:a})}var lA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Aa=H.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:a,reloadDocument:l,replace:c,state:d,target:p,to:g,preventScrollReset:v,viewTransition:b,...S},O){let{basename:C}=H.useContext(Or),M=typeof g=="string"&&lA.test(g),P,B=!1;if(typeof g=="string"&&M&&(P=g,oA))try{let I=new URL(window.location.href),N=g.startsWith("//")?new URL(I.protocol+g):new URL(g),V=zi(N.pathname,C);N.origin===I.origin&&V!=null?g=V+N.search+N.hash:B=!0}catch{Cr(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let F=YC(g,{relative:a}),[j,G,X]=DI(i,S),J=BI(g,{replace:c,state:d,target:p,preventScrollReset:v,relative:a,viewTransition:b});function x(I){e&&e(I),I.defaultPrevented||J(I)}let R=H.createElement("a",{...S,...X,href:P||F,onClick:B||l?e:x,ref:VI(O,G),target:p,"data-discover":!M&&t==="render"?"true":void 0});return j&&!M?H.createElement(H.Fragment,null,R,H.createElement(PI,{page:F})):R});Aa.displayName="Link";var UI=H.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:a=!1,style:l,to:c,viewTransition:d,children:p,...g},v){let b=fc(c,{relative:g.relative}),S=li(),O=H.useContext(Wf),{navigator:C,basename:M}=H.useContext(Or),P=O!=null&&$I(b)&&d===!0,B=C.encodeLocation?C.encodeLocation(b).pathname:b.pathname,F=S.pathname,j=O&&O.navigation&&O.navigation.location?O.navigation.location.pathname:null;t||(F=F.toLowerCase(),j=j?j.toLowerCase():null,B=B.toLowerCase()),j&&M&&(j=zi(j,M)||j);const G=B!=="/"&&B.endsWith("/")?B.length-1:B.length;let X=F===B||!a&&F.startsWith(B)&&F.charAt(G)==="/",J=j!=null&&(j===B||!a&&j.startsWith(B)&&j.charAt(B.length)==="/"),x={isActive:X,isPending:J,isTransitioning:P},R=X?e:void 0,I;typeof i=="function"?I=i(x):I=[i,X?"active":null,J?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let N=typeof l=="function"?l(x):l;return H.createElement(Aa,{...g,"aria-current":R,className:I,ref:v,style:N,to:c,viewTransition:d},typeof p=="function"?p(x):p)});UI.displayName="NavLink";var jI=H.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:a,state:l,method:c=uf,action:d,onSubmit:p,relative:g,preventScrollReset:v,viewTransition:b,...S},O)=>{let C=HI(),M=GI(d,{relative:g}),P=c.toLowerCase()==="get"?"get":"post",B=typeof d=="string"&&lA.test(d),F=j=>{if(p&&p(j),j.defaultPrevented)return;j.preventDefault();let G=j.nativeEvent.submitter,X=(G==null?void 0:G.getAttribute("formmethod"))||c;C(G||j.currentTarget,{fetcherKey:e,method:X,navigate:t,replace:a,state:l,relative:g,preventScrollReset:v,viewTransition:b})};return H.createElement("form",{ref:O,method:P,action:M,onSubmit:i?p:F,...S,"data-discover":!B&&n==="render"?"true":void 0})});jI.displayName="Form";function zI(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function uA(n){let e=H.useContext(ul);return mt(e,zI(n)),e}function BI(n,{target:e,replace:t,state:i,preventScrollReset:a,relative:l,viewTransition:c}={}){let d=La(),p=li(),g=fc(n,{relative:l});return H.useCallback(v=>{if(yI(v,e)){v.preventDefault();let b=t!==void 0?t:Yu(p)===Yu(g);d(n,{replace:b,state:i,preventScrollReset:a,relative:l,viewTransition:c})}},[p,d,g,t,i,e,n,a,l,c])}var qI=0,FI=()=>`__${String(++qI)}__`;function HI(){let{router:n}=uA("useSubmit"),{basename:e}=H.useContext(Or),t=oI();return H.useCallback(async(i,a={})=>{let{action:l,method:c,encType:d,formData:p,body:g}=bI(i,e);if(a.navigate===!1){let v=a.fetcherKey||FI();await n.fetch(v,t,a.action||l,{preventScrollReset:a.preventScrollReset,formData:p,body:g,formMethod:a.method||c,formEncType:a.encType||d,flushSync:a.flushSync})}else await n.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:p,body:g,formMethod:a.method||c,formEncType:a.encType||d,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[n,e,t])}function GI(n,{relative:e}={}){let{basename:t}=H.useContext(Or),i=H.useContext(Nr);mt(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),l={...fc(n||".",{relative:e})},c=li();if(n==null){l.search=c.search;let d=new URLSearchParams(l.search),p=d.getAll("index");if(p.some(v=>v==="")){d.delete("index"),p.filter(b=>b).forEach(b=>d.append("index",b));let v=d.toString();l.search=v?`?${v}`:""}}return(!n||n===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:Li([t,l.pathname])),Yu(l)}function $I(n,e={}){let t=H.useContext(JT);mt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=uA("useViewTransitionState"),a=fc(n,{relative:e.relative});if(!t.isTransitioning)return!1;let l=zi(t.currentLocation.pathname,i)||t.currentLocation.pathname,c=zi(t.nextLocation.pathname,i)||t.nextLocation.pathname;return Rf(a.pathname,c)!=null||Rf(a.pathname,l)!=null}[...xI];/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Yn=function(){return Yn=Object.assign||function(e){for(var t,i=1,a=arguments.length;i<a;i++){t=arguments[i];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l])}return e},Yn.apply(this,arguments)};function xa(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(n);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(n,i[a])&&(t[i[a]]=n[i[a]]);return t}function bn(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n}function Wm(){return Wm=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Wm.apply(this,arguments)}function Lg(n){var e=Object.create(null);return function(t){return e[t]===void 0&&(e[t]=n(t)),e[t]}}var KI=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,YI=Lg(function(n){return KI.test(n)||n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)<91});function QI(n){if(n.sheet)return n.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===n)return document.styleSheets[e]}function XI(n){var e=document.createElement("style");return e.setAttribute("data-emotion",n.key),n.nonce!==void 0&&e.setAttribute("nonce",n.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var WI=function(){function n(t){var i=this;this._insertTag=function(a){var l;i.tags.length===0?i.insertionPoint?l=i.insertionPoint.nextSibling:i.prepend?l=i.container.firstChild:l=i.before:l=i.tags[i.tags.length-1].nextSibling,i.container.insertBefore(a,l),i.tags.push(a)},this.isSpeedy=t.speedy===void 0?!0:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=n.prototype;return e.hydrate=function(i){i.forEach(this._insertTag)},e.insert=function(i){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(XI(this));var a=this.tags[this.tags.length-1];if(this.isSpeedy){var l=QI(a);try{l.insertRule(i,l.cssRules.length)}catch{}}else a.appendChild(document.createTextNode(i));this.ctr++},e.flush=function(){this.tags.forEach(function(i){return i.parentNode&&i.parentNode.removeChild(i)}),this.tags=[],this.ctr=0},n}(),vn="-ms-",Cf="-moz-",Ye="-webkit-",cA="comm",Ug="rule",jg="decl",ZI="@import",hA="@keyframes",JI=Math.abs,Jf=String.fromCharCode,ex=Object.assign;function tx(n,e){return an(n,0)^45?(((e<<2^an(n,0))<<2^an(n,1))<<2^an(n,2))<<2^an(n,3):0}function fA(n){return n.trim()}function nx(n,e){return(n=e.exec(n))?n[0]:n}function We(n,e,t){return n.replace(e,t)}function Zm(n,e){return n.indexOf(e)}function an(n,e){return n.charCodeAt(e)|0}function Qu(n,e,t){return n.slice(e,t)}function Qr(n){return n.length}function zg(n){return n.length}function Zh(n,e){return e.push(n),n}function rx(n,e){return n.map(e).join("")}var ed=1,Yo=1,dA=0,Ln=0,Dt=0,hl="";function td(n,e,t,i,a,l,c){return{value:n,root:e,parent:t,type:i,props:a,children:l,line:ed,column:Yo,length:c,return:""}}function Ou(n,e){return ex(td("",null,null,"",null,null,0),n,{length:-n.length},e)}function ix(){return Dt}function sx(){return Dt=Ln>0?an(hl,--Ln):0,Yo--,Dt===10&&(Yo=1,ed--),Dt}function Xn(){return Dt=Ln<dA?an(hl,Ln++):0,Yo++,Dt===10&&(Yo=1,ed++),Dt}function Zr(){return an(hl,Ln)}function hf(){return Ln}function dc(n,e){return Qu(hl,n,e)}function Xu(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function pA(n){return ed=Yo=1,dA=Qr(hl=n),Ln=0,[]}function mA(n){return hl="",n}function ff(n){return fA(dc(Ln-1,Jm(n===91?n+2:n===40?n+1:n)))}function ax(n){for(;(Dt=Zr())&&Dt<33;)Xn();return Xu(n)>2||Xu(Dt)>3?"":" "}function ox(n,e){for(;--e&&Xn()&&!(Dt<48||Dt>102||Dt>57&&Dt<65||Dt>70&&Dt<97););return dc(n,hf()+(e<6&&Zr()==32&&Xn()==32))}function Jm(n){for(;Xn();)switch(Dt){case n:return Ln;case 34:case 39:n!==34&&n!==39&&Jm(Dt);break;case 40:n===41&&Jm(n);break;case 92:Xn();break}return Ln}function lx(n,e){for(;Xn()&&n+Dt!==57;)if(n+Dt===84&&Zr()===47)break;return"/*"+dc(e,Ln-1)+"*"+Jf(n===47?n:Xn())}function ux(n){for(;!Xu(Zr());)Xn();return dc(n,Ln)}function RE(n){return mA(df("",null,null,null,[""],n=pA(n),0,[0],n))}function df(n,e,t,i,a,l,c,d,p){for(var g=0,v=0,b=c,S=0,O=0,C=0,M=1,P=1,B=1,F=0,j="",G=a,X=l,J=i,x=j;P;)switch(C=F,F=Xn()){case 40:if(C!=108&&an(x,b-1)==58){Zm(x+=We(ff(F),"&","&\f"),"&\f")!=-1&&(B=-1);break}case 34:case 39:case 91:x+=ff(F);break;case 9:case 10:case 13:case 32:x+=ax(C);break;case 92:x+=ox(hf()-1,7);continue;case 47:switch(Zr()){case 42:case 47:Zh(cx(lx(Xn(),hf()),e,t),p);break;default:x+="/"}break;case 123*M:d[g++]=Qr(x)*B;case 125*M:case 59:case 0:switch(F){case 0:case 125:P=0;case 59+v:O>0&&Qr(x)-b&&Zh(O>32?IE(x+";",i,t,b-1):IE(We(x," ","")+";",i,t,b-2),p);break;case 59:x+=";";default:if(Zh(J=CE(x,e,t,g,v,a,d,j,G=[],X=[],b),l),F===123)if(v===0)df(x,e,J,J,G,l,b,d,X);else switch(S===99&&an(x,3)===110?100:S){case 100:case 109:case 115:df(n,J,J,i&&Zh(CE(n,J,J,0,0,a,d,j,a,G=[],b),X),a,X,b,d,i?G:X);break;default:df(x,J,J,J,[""],X,0,d,X)}}g=v=O=0,M=B=1,j=x="",b=c;break;case 58:b=1+Qr(x),O=C;default:if(M<1){if(F==123)--M;else if(F==125&&M++==0&&sx()==125)continue}switch(x+=Jf(F),F*M){case 38:B=v>0?1:(x+="\f",-1);break;case 44:d[g++]=(Qr(x)-1)*B,B=1;break;case 64:Zr()===45&&(x+=ff(Xn())),S=Zr(),v=b=Qr(j=x+=ux(hf())),F++;break;case 45:C===45&&Qr(x)==2&&(M=0)}}return l}function CE(n,e,t,i,a,l,c,d,p,g,v){for(var b=a-1,S=a===0?l:[""],O=zg(S),C=0,M=0,P=0;C<i;++C)for(var B=0,F=Qu(n,b+1,b=JI(M=c[C])),j=n;B<O;++B)(j=fA(M>0?S[B]+" "+F:We(F,/&\f/g,S[B])))&&(p[P++]=j);return td(n,e,t,a===0?Ug:d,p,g,v)}function cx(n,e,t){return td(n,e,t,cA,Jf(ix()),Qu(n,2,-2),0)}function IE(n,e,t,i){return td(n,e,t,jg,Qu(n,0,i),Qu(n,i+1,-1),i)}function wa(n,e){for(var t="",i=zg(n),a=0;a<i;a++)t+=e(n[a],a,n,e)||"";return t}function xE(n,e,t,i){switch(n.type){case ZI:case jg:return n.return=n.return||n.value;case cA:return"";case hA:return n.return=n.value+"{"+wa(n.children,i)+"}";case Ug:n.value=n.props.join(",")}return Qr(t=wa(n.children,i))?n.return=n.value+"{"+t+"}":""}function OE(n){var e=zg(n);return function(t,i,a,l){for(var c="",d=0;d<e;d++)c+=n[d](t,i,a,l)||"";return c}}function hx(n){return function(e){e.root||(e=e.return)&&n(e)}}var fx=function(e){var t=new WeakMap;return function(i){if(t.has(i))return t.get(i);var a=e(i);return t.set(i,a),a}},dx=function(e,t,i){for(var a=0,l=0;a=l,l=Zr(),a===38&&l===12&&(t[i]=1),!Xu(l);)Xn();return dc(e,Ln)},px=function(e,t){var i=-1,a=44;do switch(Xu(a)){case 0:a===38&&Zr()===12&&(t[i]=1),e[i]+=dx(Ln-1,t,i);break;case 2:e[i]+=ff(a);break;case 4:if(a===44){e[++i]=Zr()===58?"&\f":"",t[i]=e[i].length;break}default:e[i]+=Jf(a)}while(a=Xn());return e},mx=function(e,t){return mA(px(pA(e),t))},NE=new WeakMap,gx=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var t=e.value,i=e.parent,a=e.column===i.column&&e.line===i.line;i.type!=="rule";)if(i=i.parent,!i)return;if(!(e.props.length===1&&t.charCodeAt(0)!==58&&!NE.get(i))&&!a){NE.set(e,!0);for(var l=[],c=mx(t,l),d=i.props,p=0,g=0;p<c.length;p++)for(var v=0;v<d.length;v++,g++)e.props[g]=l[p]?c[p].replace(/&\f/g,d[v]):d[v]+" "+c[p]}}},vx=function(e){if(e.type==="decl"){var t=e.value;t.charCodeAt(0)===108&&t.charCodeAt(2)===98&&(e.return="",e.value="")}};function gA(n,e){switch(tx(n,e)){case 5103:return Ye+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Ye+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return Ye+n+Cf+n+vn+n+n;case 6828:case 4268:return Ye+n+vn+n+n;case 6165:return Ye+n+vn+"flex-"+n+n;case 5187:return Ye+n+We(n,/(\w+).+(:[^]+)/,Ye+"box-$1$2"+vn+"flex-$1$2")+n;case 5443:return Ye+n+vn+"flex-item-"+We(n,/flex-|-self/,"")+n;case 4675:return Ye+n+vn+"flex-line-pack"+We(n,/align-content|flex-|-self/,"")+n;case 5548:return Ye+n+vn+We(n,"shrink","negative")+n;case 5292:return Ye+n+vn+We(n,"basis","preferred-size")+n;case 6060:return Ye+"box-"+We(n,"-grow","")+Ye+n+vn+We(n,"grow","positive")+n;case 4554:return Ye+We(n,/([^-])(transform)/g,"$1"+Ye+"$2")+n;case 6187:return We(We(We(n,/(zoom-|grab)/,Ye+"$1"),/(image-set)/,Ye+"$1"),n,"")+n;case 5495:case 3959:return We(n,/(image-set\([^]*)/,Ye+"$1$`$1");case 4968:return We(We(n,/(.+:)(flex-)?(.*)/,Ye+"box-pack:$3"+vn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Ye+n+n;case 4095:case 3583:case 4068:case 2532:return We(n,/(.+)-inline(.+)/,Ye+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Qr(n)-1-e>6)switch(an(n,e+1)){case 109:if(an(n,e+4)!==45)break;case 102:return We(n,/(.+:)(.+)-([^]+)/,"$1"+Ye+"$2-$3$1"+Cf+(an(n,e+3)==108?"$3":"$2-$3"))+n;case 115:return~Zm(n,"stretch")?gA(We(n,"stretch","fill-available"),e)+n:n}break;case 4949:if(an(n,e+1)!==115)break;case 6444:switch(an(n,Qr(n)-3-(~Zm(n,"!important")&&10))){case 107:return We(n,":",":"+Ye)+n;case 101:return We(n,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Ye+(an(n,14)===45?"inline-":"")+"box$3$1"+Ye+"$2$3$1"+vn+"$2box$3")+n}break;case 5936:switch(an(n,e+11)){case 114:return Ye+n+vn+We(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return Ye+n+vn+We(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return Ye+n+vn+We(n,/[svh]\w+-[tblr]{2}/,"lr")+n}return Ye+n+vn+n+n}return n}var yx=function(e,t,i,a){if(e.length>-1&&!e.return)switch(e.type){case jg:e.return=gA(e.value,e.length);break;case hA:return wa([Ou(e,{value:We(e.value,"@","@"+Ye)})],a);case Ug:if(e.length)return rx(e.props,function(l){switch(nx(l,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return wa([Ou(e,{props:[We(l,/:(read-\w+)/,":"+Cf+"$1")]})],a);case"::placeholder":return wa([Ou(e,{props:[We(l,/:(plac\w+)/,":"+Ye+"input-$1")]}),Ou(e,{props:[We(l,/:(plac\w+)/,":"+Cf+"$1")]}),Ou(e,{props:[We(l,/:(plac\w+)/,vn+"input-$1")]})],a)}return""})}},pf=typeof document<"u",_x=pf?void 0:fx(function(){return Lg(function(){var n={};return function(e){return n[e]}})}),Ex=[yx],vA=function(e){var t=e.key;if(pf&&t==="css"){var i=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(i,function(G){var X=G.getAttribute("data-emotion");X.indexOf(" ")!==-1&&(document.head.appendChild(G),G.setAttribute("data-s",""))})}var a=e.stylisPlugins||Ex,l={},c,d=[];pf&&(c=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(G){for(var X=G.getAttribute("data-emotion").split(" "),J=1;J<X.length;J++)l[X[J]]=!0;d.push(G)}));var p,g=[gx,vx];if(pf){var v,b=[xE,hx(function(G){v.insert(G)})],S=OE(g.concat(a,b)),O=function(X){return wa(RE(X),S)};p=function(X,J,x,R){v=x,O(X?X+"{"+J.styles+"}":J.styles),R&&(j.inserted[J.name]=!0)}}else{var C=[xE],M=OE(g.concat(a,C)),P=function(X){return wa(RE(X),M)},B=_x(a)(t),F=function(X,J){var x=J.name;return B[x]===void 0&&(B[x]=P(X?X+"{"+J.styles+"}":J.styles)),B[x]};p=function(X,J,x,R){var I=J.name,N=F(X,J);if(j.compat===void 0)return R&&(j.inserted[I]=!0),N;if(R)j.inserted[I]=N;else return N}}var j={key:t,sheet:new WI({key:t,container:c,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:l,registered:{},insert:p};return j.sheet.hydrate(d),j},bx=typeof document<"u",DE=function(e){return e()},Tx=H.useInsertionEffect?H.useInsertionEffect:!1,Ax=bx&&Tx||DE,Sx=typeof document<"u",If=H.createContext(typeof HTMLElement<"u"?vA({key:"css"}):null);If.Provider;var yA=function(e){return H.forwardRef(function(t,i){var a=H.useContext(If);return e(t,a,i)})};Sx||(yA=function(e){return function(t){var i=H.useContext(If);return i===null?(i=vA({key:"css"}),H.createElement(If.Provider,{value:i},e(t,i))):e(t,i)}});var wx=H.createContext({}),eg=typeof document<"u";function Rx(n,e,t){var i="";return t.split(" ").forEach(function(a){n[a]!==void 0?e.push(n[a]+";"):i+=a+" "}),i}var _A=function(e,t,i){var a=e.key+"-"+t.name;(i===!1||eg===!1&&e.compat!==void 0)&&e.registered[a]===void 0&&(e.registered[a]=t.styles)},Cx=function(e,t,i){_A(e,t,i);var a=e.key+"-"+t.name;if(e.inserted[t.name]===void 0){var l="",c=t;do{var d=e.insert(t===c?"."+a:"",c,e.sheet,!0);!eg&&d!==void 0&&(l+=d),c=c.next}while(c!==void 0);if(!eg&&l.length!==0)return l}};function Ix(n){for(var e=0,t,i=0,a=n.length;a>=4;++i,a-=4)t=n.charCodeAt(i)&255|(n.charCodeAt(++i)&255)<<8|(n.charCodeAt(++i)&255)<<16|(n.charCodeAt(++i)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,e=(t&65535)*1540483477+((t>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(a){case 3:e^=(n.charCodeAt(i+2)&255)<<16;case 2:e^=(n.charCodeAt(i+1)&255)<<8;case 1:e^=n.charCodeAt(i)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var xx={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Ox=/[A-Z]|^ms/g,Nx=/_EMO_([^_]+?)_([^]*?)_EMO_/g,EA=function(e){return e.charCodeAt(1)===45},PE=function(e){return e!=null&&typeof e!="boolean"},km=Lg(function(n){return EA(n)?n:n.replace(Ox,"-$&").toLowerCase()}),kE=function(e,t){switch(e){case"animation":case"animationName":if(typeof t=="string")return t.replace(Nx,function(i,a,l){return Xr={name:a,styles:l,next:Xr},a})}return xx[e]!==1&&!EA(e)&&typeof t=="number"&&t!==0?t+"px":t};function Wu(n,e,t){if(t==null)return"";if(t.__emotion_styles!==void 0)return t;switch(typeof t){case"boolean":return"";case"object":{if(t.anim===1)return Xr={name:t.name,styles:t.styles,next:Xr},t.name;if(t.styles!==void 0){var i=t.next;if(i!==void 0)for(;i!==void 0;)Xr={name:i.name,styles:i.styles,next:Xr},i=i.next;var a=t.styles+";";return a}return Dx(n,e,t)}case"function":{if(n!==void 0){var l=Xr,c=t(n);return Xr=l,Wu(n,e,c)}break}}if(e==null)return t;var d=e[t];return d!==void 0?d:t}function Dx(n,e,t){var i="";if(Array.isArray(t))for(var a=0;a<t.length;a++)i+=Wu(n,e,t[a])+";";else for(var l in t){var c=t[l];if(typeof c!="object")e!=null&&e[c]!==void 0?i+=l+"{"+e[c]+"}":PE(c)&&(i+=km(l)+":"+kE(l,c)+";");else if(Array.isArray(c)&&typeof c[0]=="string"&&(e==null||e[c[0]]===void 0))for(var d=0;d<c.length;d++)PE(c[d])&&(i+=km(l)+":"+kE(l,c[d])+";");else{var p=Wu(n,e,c);switch(l){case"animation":case"animationName":{i+=km(l)+":"+p+";";break}default:i+=l+"{"+p+"}"}}}return i}var ME=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Xr,Px=function(e,t,i){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var a=!0,l="";Xr=void 0;var c=e[0];c==null||c.raw===void 0?(a=!1,l+=Wu(i,t,c)):l+=c[0];for(var d=1;d<e.length;d++)l+=Wu(i,t,e[d]),a&&(l+=c[d]);ME.lastIndex=0;for(var p="",g;(g=ME.exec(l))!==null;)p+="-"+g[1];var v=Ix(l)+p;return{name:v,styles:l,next:Xr}},kx=YI,Mx=function(e){return e!=="theme"},VE=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?kx:Mx},LE=function(e,t,i){var a;if(t){var l=t.shouldForwardProp;a=e.__emotion_forwardProp&&l?function(c){return e.__emotion_forwardProp(c)&&l(c)}:l}return typeof a!="function"&&i&&(a=e.__emotion_forwardProp),a},Vx=typeof document<"u",Lx=function(e){var t=e.cache,i=e.serialized,a=e.isStringTag;_A(t,i,a);var l=Ax(function(){return Cx(t,i,a)});if(!Vx&&l!==void 0){for(var c,d=i.name,p=i.next;p!==void 0;)d+=" "+p.name,p=p.next;return H.createElement("style",(c={},c["data-emotion"]=t.key+" "+d,c.dangerouslySetInnerHTML={__html:l},c.nonce=t.sheet.nonce,c))}return null},Ux=function n(e,t){var i=e.__emotion_real===e,a=i&&e.__emotion_base||e,l,c;t!==void 0&&(l=t.label,c=t.target);var d=LE(e,t,i),p=d||VE(a),g=!p("as");return function(){var v=arguments,b=i&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(l!==void 0&&b.push("label:"+l+";"),v[0]==null||v[0].raw===void 0)b.push.apply(b,v);else{b.push(v[0][0]);for(var S=v.length,O=1;O<S;O++)b.push(v[O],v[0][O])}var C=yA(function(M,P,B){var F=g&&M.as||a,j="",G=[],X=M;if(M.theme==null){X={};for(var J in M)X[J]=M[J];X.theme=H.useContext(wx)}typeof M.className=="string"?j=Rx(P.registered,G,M.className):M.className!=null&&(j=M.className+" ");var x=Px(b.concat(G),P.registered,X);j+=P.key+"-"+x.name,c!==void 0&&(j+=" "+c);var R=g&&d===void 0?VE(F):p,I={};for(var N in M)g&&N==="as"||R(N)&&(I[N]=M[N]);return I.className=j,I.ref=B,H.createElement(H.Fragment,null,H.createElement(Lx,{cache:P,serialized:x,isStringTag:typeof F=="string"}),H.createElement(F,I))});return C.displayName=l!==void 0?l:"Styled("+(typeof a=="string"?a:a.displayName||a.name||"Component")+")",C.defaultProps=e.defaultProps,C.__emotion_real=C,C.__emotion_base=a,C.__emotion_styles=b,C.__emotion_forwardProp=d,Object.defineProperty(C,"toString",{value:function(){return"."+c}}),C.withComponent=function(M,P){return n(M,Wm({},t,P,{shouldForwardProp:LE(C,P,!0)})).apply(void 0,b)},C}},jx=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],Wt=Ux.bind();jx.forEach(function(n){Wt[n]=Wt(n)});var bA={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(n){(function(){var e={}.hasOwnProperty;function t(){for(var i=[],a=0;a<arguments.length;a++){var l=arguments[a];if(l){var c=typeof l;if(c==="string"||c==="number")i.push(l);else if(Array.isArray(l)){if(l.length){var d=t.apply(null,l);d&&i.push(d)}}else if(c==="object"){if(l.toString!==Object.prototype.toString&&!l.toString.toString().includes("[native code]")){i.push(l.toString());continue}for(var p in l)e.call(l,p)&&l[p]&&i.push(p)}}}return i.join(" ")}n.exports?(t.default=t,n.exports=t):window.classNames=t})()})(bA);var jt=bA.exports,zx=he.createContext(void 0),Bx=function(){var n=he.useContext(zx);return n},qx=function(n){var e=he.useState(!!n&&typeof window<"u"&&window.matchMedia(n).matches),t=e[0],i=e[1];return he.useEffect(function(){if(n){var a=window.matchMedia(n),l=function(){a.matches!==t&&i(a.matches)};return l(),a.addEventListener("change",l),function(){return a.removeEventListener("change",l)}}},[t,n]),t},St={root:"ps-sidebar-root",container:"ps-sidebar-container",image:"ps-sidebar-image",backdrop:"ps-sidebar-backdrop",collapsed:"ps-collapsed",toggled:"ps-toggled",rtl:"ps-rtl",broken:"ps-broken"},Qe={root:"ps-menu-root",menuItemRoot:"ps-menuitem-root",subMenuRoot:"ps-submenu-root",button:"ps-menu-button",prefix:"ps-menu-prefix",suffix:"ps-menu-suffix",label:"ps-menu-label",icon:"ps-menu-icon",subMenuContent:"ps-submenu-content",SubMenuExpandIcon:"ps-submenu-expand-icon",disabled:"ps-disabled",active:"ps-active",open:"ps-open"},Fx=Wt.div(UE||(UE=bn([`
  position: fixed;
  top: 0px;
  right: 0px;
  bottom: 0px;
  left: 0px;
  z-index: 1;
  background-color: rgb(0, 0, 0, 0.3);
`],[`
  position: fixed;
  top: 0px;
  right: 0px;
  bottom: 0px;
  left: 0px;
  z-index: 1;
  background-color: rgb(0, 0, 0, 0.3);
`]))),UE,Hx={xs:"480px",sm:"576px",md:"768px",lg:"992px",xl:"1200px",xxl:"1600px",always:"always",all:"all"},Gx=Wt.aside(jE||(jE=bn([`
  position: relative;
  border-right-width: 1px;
  border-right-style: solid;
  border-color: #efefef;

  transition: `,`;

  width: `,`;
  min-width: `,`;

  &.`,` {
    width: `,`;
    min-width: `,`;
  }

  &.`,` {
    direction: rtl;
    border-right-width: none;
    border-left-width: 1px;
    border-right-style: none;
    border-left-style: solid;
  }

  &.`,` {
    position: fixed;
    height: 100%;
    top: 0px;
    z-index: 100;

    `,`

    &.`,` {
      `,`
    }

    &.`,` {
      `,`
    }

    &.`,` {
      right: -`,`;

      &.`,` {
        right: -`,`;
      }

      &.`,` {
        right: 0;
      }
    }
  }

  `,`
`],[`
  position: relative;
  border-right-width: 1px;
  border-right-style: solid;
  border-color: #efefef;

  transition: `,`;

  width: `,`;
  min-width: `,`;

  &.`,` {
    width: `,`;
    min-width: `,`;
  }

  &.`,` {
    direction: rtl;
    border-right-width: none;
    border-left-width: 1px;
    border-right-style: none;
    border-left-style: solid;
  }

  &.`,` {
    position: fixed;
    height: 100%;
    top: 0px;
    z-index: 100;

    `,`

    &.`,` {
      `,`
    }

    &.`,` {
      `,`
    }

    &.`,` {
      right: -`,`;

      &.`,` {
        right: -`,`;
      }

      &.`,` {
        right: 0;
      }
    }
  }

  `,`
`])),function(n){var e=n.transitionDuration;return"width, left, right, ".concat(e,"ms")},function(n){var e=n.width;return e},function(n){var e=n.width;return e},St.collapsed,function(n){var e=n.collapsedWidth;return e},function(n){var e=n.collapsedWidth;return e},St.rtl,St.broken,function(n){var e=n.rtl,t=n.width;return e?"":"left: -".concat(t,";")},St.collapsed,function(n){var e=n.rtl,t=n.collapsedWidth;return e?"":"left: -".concat(t,"; ")},St.toggled,function(n){var e=n.rtl;return e?"":"left: 0;"},St.rtl,function(n){var e=n.width;return e},St.collapsed,function(n){var e=n.collapsedWidth;return e},St.toggled,function(n){var e=n.rootStyles;return e}),$x=Wt.div(zE||(zE=bn([`
  position: relative;
  height: 100%;
  overflow-y: auto;
  overflow-x: hidden;
  z-index: 3;

  `,`
`],[`
  position: relative;
  height: 100%;
  overflow-y: auto;
  overflow-x: hidden;
  z-index: 3;

  `,`
`])),function(n){var e=n.backgroundColor;return e?"background-color:".concat(e,";"):""}),Kx=Wt.img(BE||(BE=bn([`
  &.`,` {
    width: 100%;
    height: 100%;
    object-fit: cover;
    object-position: center;
    position: absolute;
    left: 0;
    top: 0;
    z-index: 2;
  }
`],[`
  &.`,` {
    width: 100%;
    height: 100%;
    object-fit: cover;
    object-position: center;
    position: absolute;
    left: 0;
    top: 0;
    z-index: 2;
  }
`])),St.image),nd=he.createContext({collapsed:!1,toggled:!1,rtl:!1,transitionDuration:300}),Yx=he.forwardRef(function(n,e){var t,i=n.collapsed,a=n.toggled,l=n.onBackdropClick,c=n.onBreakPoint,d=n.width,p=d===void 0?"250px":d,g=n.collapsedWidth,v=g===void 0?"80px":g,b=n.defaultCollapsed,S=n.className,O=n.children,C=n.breakPoint,M=n.customBreakPoint,P=n.backgroundColor,B=P===void 0?"rgb(249, 249, 249, 0.7)":P,F=n.transitionDuration,j=F===void 0?300:F,G=n.image,X=n.rtl,J=n.rootStyles,x=xa(n,["collapsed","toggled","onBackdropClick","onBreakPoint","width","collapsedWidth","defaultCollapsed","className","children","breakPoint","customBreakPoint","backgroundColor","transitionDuration","image","rtl","rootStyles"]),R=function(){if(M)return"(max-width: ".concat(M,")");if(C)return["xs","sm","md","lg","xl","xxl"].includes(C)?"(max-width: ".concat(Hx[C],")"):C==="always"||C==="all"?(C==="always"&&console.warn('The "always" breakPoint is deprecated and will be removed in future release. Please use the "all" breakPoint instead.'),"screen"):"(max-width: ".concat(C,")")},I=he.useRef();I.current=function(fe){c==null||c(fe)};var N=qx(R()),V=he.useState(!1),U=V[0],D=V[1],ve=Bx(),Ue=i??(!U&&b?!0:ve==null?void 0:ve.collapsed),Z=a??(ve==null?void 0:ve.toggled),oe=function(){l==null||l(),ve==null||ve.updateSidebarState({toggled:!1})};return he.useEffect(function(){var fe;(fe=I.current)===null||fe===void 0||fe.call(I,N)},[N]),he.useEffect(function(){ve==null||ve.updateSidebarState({broken:N,rtl:X,transitionDuration:j})},[N,ve==null?void 0:ve.updateSidebarState,X,j]),he.useEffect(function(){U||(ve==null||ve.updateSidebarState({collapsed:b}),D(!0))},[b,U,ve==null?void 0:ve.updateSidebarState]),he.createElement(nd.Provider,{value:{collapsed:Ue,toggled:Z,rtl:X,transitionDuration:j}},he.createElement(Gx,Yn({ref:e,"data-testid":"".concat(St.root,"-test-id"),rtl:X,rootStyles:J,width:p,collapsedWidth:v,transitionDuration:j,className:jt(St.root,(t={},t[St.collapsed]=Ue,t[St.toggled]=Z,t[St.broken]=N,t[St.rtl]=X,t),S)},x),he.createElement($x,{"data-testid":"".concat(St.container,"-test-id"),className:St.container,backgroundColor:B},O),G&&he.createElement(Kx,{"data-testid":"".concat(St.image,"-test-id"),src:G,alt:"sidebar background",className:St.image}),N&&Z&&he.createElement(Fx,{"data-testid":"".concat(St.backdrop,"-test-id"),role:"button",tabIndex:0,"aria-label":"backdrop",onClick:oe,onKeyPress:oe,className:St.backdrop})))}),jE,zE,BE,TA=Wt.ul(qE||(qE=bn([`
  list-style-type: none;
  padding: 0;
  margin: 0;
`],[`
  list-style-type: none;
  padding: 0;
  margin: 0;
`]))),qE,Qx=Wt.nav(FE||(FE=bn([`
  &.`,` {
    `,`
  }
`],[`
  &.`,` {
    `,`
  }
`])),Qe.root,function(n){var e=n.rootStyles;return e}),AA=he.createContext(void 0),xf=he.createContext(0),Xx=function(n,e){var t=n.children,i=n.className,a=n.transitionDuration,l=a===void 0?300:a,c=n.closeOnClick,d=c===void 0?!1:c,p=n.rootStyles,g=n.menuItemStyles,v=n.renderExpandIcon,b=xa(n,["children","className","transitionDuration","closeOnClick","rootStyles","menuItemStyles","renderExpandIcon"]),S=he.useMemo(function(){return{transitionDuration:l,closeOnClick:d,menuItemStyles:g,renderExpandIcon:v}},[l,d,g,v]);return he.createElement(AA.Provider,{value:S},he.createElement(xf.Provider,{value:0},he.createElement(Qx,Yn({ref:e,className:jt(Qe.root,i),rootStyles:p},b),he.createElement(TA,null,t))))},Wx=he.forwardRef(Xx),FE,Bg=function(){var n=he.useContext(AA);if(n===void 0)throw new Error("Menu Component is required!");return n},Zx=Wt.div(HE||(HE=bn([`
  height: 0px;
  overflow: hidden;
  z-index: 999;
  transition: height `,`ms;
  box-sizing: border-box;
  background-color: white;

  `,`

  `,`

  `,`;

  `,`;
`],[`
  height: 0px;
  overflow: hidden;
  z-index: 999;
  transition: height `,`ms;
  box-sizing: border-box;
  background-color: white;

  `,`

  `,`

  `,`;

  `,`;
`])),function(n){var e=n.transitionDuration;return e},function(n){var e=n.firstLevel,t=n.collapsed;return e&&t&&`
     background-color: white;
     box-shadow: 0 3px 6px -4px #0000001f, 0 6px 16px #00000014, 0 9px 28px 8px #0000000d;
     `},function(n){var e=n.defaultOpen;return e&&"height: auto;display: block;"},function(n){var e=n.collapsed,t=n.firstLevel,i=n.openWhenCollapsed;return e&&t?`
      position: fixed;
      padding-left: 0px;
      width: 200px;
      border-radius: 4px;
      height: auto!important;
      display: block!important;     
      transition: none!important;     
      visibility: `.concat(i?"visible":"hidden",`;
     `):`
      position: static!important;
      transform: none!important;
      `},function(n){var e=n.rootStyles;return e}),Jx=function(n,e){var t=n.children,i=n.open,a=n.openWhenCollapsed,l=n.firstLevel,c=n.collapsed,d=n.defaultOpen,p=xa(n,["children","open","openWhenCollapsed","firstLevel","collapsed","defaultOpen"]),g=Bg().transitionDuration,v=he.useState(d)[0];return he.createElement(Zx,Yn({"data-testid":"".concat(Qe.subMenuContent,"-test-id"),ref:e,firstLevel:l,collapsed:c,open:i,openWhenCollapsed:a,transitionDuration:g,defaultOpen:v},p),he.createElement(TA,null,t))},eO=he.forwardRef(Jx),HE,SA=Wt.span(GE||(GE=bn([`
  flex-grow: 1;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;

  `,`;
`],[`
  flex-grow: 1;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;

  `,`;
`])),function(n){var e=n.rootStyles;return e}),GE,wA=Wt.span($E||($E=bn([`
  width: 35px;
  min-width: 35px;
  height: 35px;
  line-height: 35px;
  text-align: center;
  display: inline-block;
  border-radius: 2px;
  display: flex;
  align-items: center;
  justify-content: center;

  `,`

  `,`;
`],[`
  width: 35px;
  min-width: 35px;
  height: 35px;
  line-height: 35px;
  text-align: center;
  display: inline-block;
  border-radius: 2px;
  display: flex;
  align-items: center;
  justify-content: center;

  `,`

  `,`;
`])),function(n){var e=n.rtl;return e?"margin-left: 10px;":"margin-right: 10px;"},function(n){var e=n.rootStyles;return e}),$E,RA=Wt.span(KE||(KE=bn([`
  `,`
  opacity: `,`;
  transition: opacity `,`ms;

  `,`;
`],[`
  `,`
  opacity: `,`;
  transition: opacity `,`ms;

  `,`;
`])),function(n){var e=n.rtl;return e?"margin-left: 5px;":"margin-right: 5px;"},function(n){var e=n.firstLevel,t=n.collapsed;return e&&t?"0":"1"},function(n){var e=n.transitionDuration;return e},function(n){var e=n.rootStyles;return e}),KE,CA=Wt.span(YE||(YE=bn([`
  margin-right: 5px;
  margin-left: 5px;
  opacity: `,`;
  transition: opacity `,`ms;

  `,`;
`],[`
  margin-right: 5px;
  margin-left: 5px;
  opacity: `,`;
  transition: opacity `,`ms;

  `,`;
`])),function(n){var e=n.firstLevel,t=n.collapsed;return e&&t?"0":"1"},function(n){var e=n.transitionDuration;return e},function(n){var e=n.rootStyles;return e}),YE,tO=Wt.span(QE||(QE=bn([`
  `,`

  `,`;
`],[`
  `,`

  `,`;
`])),function(n){var e=n.collapsed,t=n.level,i=n.rtl;return e&&t===0&&`
    position: absolute;
    `.concat(i?"left: 10px;":"right: 10px;",`
    top: 50%;
    transform: translateY(-50%);
    
    `)},function(n){var e=n.rootStyles;return e}),nO=Wt.span(XE||(XE=bn([`
  display: inline-block;
  transition: transform 0.3s;
  `,`

  width: 5px;
  height: 5px;
  transform: rotate(`,`);
`],[`
  display: inline-block;
  transition: transform 0.3s;
  `,`

  width: 5px;
  height: 5px;
  transform: rotate(`,`);
`])),function(n){var e=n.rtl;return e?`
          border-left: 2px solid currentcolor;
          border-top: 2px solid currentcolor;
        `:` border-right: 2px solid currentcolor;
          border-bottom: 2px solid currentcolor;
        `},function(n){var e=n.open,t=n.rtl;return e?t?"-135deg":"45deg":"-45deg"}),rO=Wt.span(WE||(WE=bn([`
  width: 5px;
  height: 5px;
  background-color: currentcolor;
  border-radius: 50%;
  display: inline-block;
`],[`
  width: 5px;
  height: 5px;
  background-color: currentcolor;
  border-radius: 50%;
  display: inline-block;
`]))),QE,XE,WE,kn="top",pr="bottom",mr="right",Mn="left",qg="auto",pc=[kn,pr,mr,Mn],Qo="start",Zu="end",iO="clippingParents",IA="viewport",Nu="popper",sO="reference",ZE=pc.reduce(function(n,e){return n.concat([e+"-"+Qo,e+"-"+Zu])},[]),xA=[].concat(pc,[qg]).reduce(function(n,e){return n.concat([e,e+"-"+Qo,e+"-"+Zu])},[]),aO="beforeRead",oO="read",lO="afterRead",uO="beforeMain",cO="main",hO="afterMain",fO="beforeWrite",dO="write",pO="afterWrite",mO=[aO,oO,lO,uO,cO,hO,fO,dO,pO];function ai(n){return n?(n.nodeName||"").toLowerCase():null}function gr(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var e=n.ownerDocument;return e&&e.defaultView||window}return n}function Oa(n){var e=gr(n).Element;return n instanceof e||n instanceof Element}function dr(n){var e=gr(n).HTMLElement;return n instanceof e||n instanceof HTMLElement}function Fg(n){if(typeof ShadowRoot>"u")return!1;var e=gr(n).ShadowRoot;return n instanceof e||n instanceof ShadowRoot}function gO(n){var e=n.state;Object.keys(e.elements).forEach(function(t){var i=e.styles[t]||{},a=e.attributes[t]||{},l=e.elements[t];!dr(l)||!ai(l)||(Object.assign(l.style,i),Object.keys(a).forEach(function(c){var d=a[c];d===!1?l.removeAttribute(c):l.setAttribute(c,d===!0?"":d)}))})}function vO(n){var e=n.state,t={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow),function(){Object.keys(e.elements).forEach(function(i){var a=e.elements[i],l=e.attributes[i]||{},c=Object.keys(e.styles.hasOwnProperty(i)?e.styles[i]:t[i]),d=c.reduce(function(p,g){return p[g]="",p},{});!dr(a)||!ai(a)||(Object.assign(a.style,d),Object.keys(l).forEach(function(p){a.removeAttribute(p)}))})}}var yO={name:"applyStyles",enabled:!0,phase:"write",fn:gO,effect:vO,requires:["computeStyles"]};function Jr(n){return n.split("-")[0]}var Ra=Math.max,Of=Math.min,Xo=Math.round;function tg(){var n=navigator.userAgentData;return n!=null&&n.brands?n.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function OA(){return!/^((?!chrome|android).)*safari/i.test(tg())}function Wo(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);var i=n.getBoundingClientRect(),a=1,l=1;e&&dr(n)&&(a=n.offsetWidth>0&&Xo(i.width)/n.offsetWidth||1,l=n.offsetHeight>0&&Xo(i.height)/n.offsetHeight||1);var c=Oa(n)?gr(n):window,d=c.visualViewport,p=!OA()&&t,g=(i.left+(p&&d?d.offsetLeft:0))/a,v=(i.top+(p&&d?d.offsetTop:0))/l,b=i.width/a,S=i.height/l;return{width:b,height:S,top:v,right:g+b,bottom:v+S,left:g,x:g,y:v}}function Hg(n){var e=Wo(n),t=n.offsetWidth,i=n.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-i)<=1&&(i=e.height),{x:n.offsetLeft,y:n.offsetTop,width:t,height:i}}function NA(n,e){var t=e.getRootNode&&e.getRootNode();if(n.contains(e))return!0;if(t&&Fg(t)){var i=e;do{if(i&&n.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function Bi(n){return gr(n).getComputedStyle(n)}function _O(n){return["table","td","th"].indexOf(ai(n))>=0}function Bs(n){return((Oa(n)?n.ownerDocument:n.document)||window.document).documentElement}function rd(n){return ai(n)==="html"?n:n.assignedSlot||n.parentNode||(Fg(n)?n.host:null)||Bs(n)}function JE(n){return!dr(n)||Bi(n).position==="fixed"?null:n.offsetParent}function EO(n){var e=/firefox/i.test(tg()),t=/Trident/i.test(tg());if(t&&dr(n)){var i=Bi(n);if(i.position==="fixed")return null}var a=rd(n);for(Fg(a)&&(a=a.host);dr(a)&&["html","body"].indexOf(ai(a))<0;){var l=Bi(a);if(l.transform!=="none"||l.perspective!=="none"||l.contain==="paint"||["transform","perspective"].indexOf(l.willChange)!==-1||e&&l.willChange==="filter"||e&&l.filter&&l.filter!=="none")return a;a=a.parentNode}return null}function mc(n){for(var e=gr(n),t=JE(n);t&&_O(t)&&Bi(t).position==="static";)t=JE(t);return t&&(ai(t)==="html"||ai(t)==="body"&&Bi(t).position==="static")?e:t||EO(n)||e}function Gg(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function zu(n,e,t){return Ra(n,Of(e,t))}function bO(n,e,t){var i=zu(n,e,t);return i>t?t:i}function DA(){return{top:0,right:0,bottom:0,left:0}}function PA(n){return Object.assign({},DA(),n)}function kA(n,e){return e.reduce(function(t,i){return t[i]=n,t},{})}var TO=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,PA(typeof e!="number"?e:kA(e,pc))};function AO(n){var e,t=n.state,i=n.name,a=n.options,l=t.elements.arrow,c=t.modifiersData.popperOffsets,d=Jr(t.placement),p=Gg(d),g=[Mn,mr].indexOf(d)>=0,v=g?"height":"width";if(!(!l||!c)){var b=TO(a.padding,t),S=Hg(l),O=p==="y"?kn:Mn,C=p==="y"?pr:mr,M=t.rects.reference[v]+t.rects.reference[p]-c[p]-t.rects.popper[v],P=c[p]-t.rects.reference[p],B=mc(l),F=B?p==="y"?B.clientHeight||0:B.clientWidth||0:0,j=M/2-P/2,G=b[O],X=F-S[v]-b[C],J=F/2-S[v]/2+j,x=zu(G,J,X),R=p;t.modifiersData[i]=(e={},e[R]=x,e.centerOffset=x-J,e)}}function SO(n){var e=n.state,t=n.options,i=t.element,a=i===void 0?"[data-popper-arrow]":i;a!=null&&(typeof a=="string"&&(a=e.elements.popper.querySelector(a),!a)||NA(e.elements.popper,a)&&(e.elements.arrow=a))}var wO={name:"arrow",enabled:!0,phase:"main",fn:AO,effect:SO,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Zo(n){return n.split("-")[1]}var RO={top:"auto",right:"auto",bottom:"auto",left:"auto"};function CO(n){var e=n.x,t=n.y,i=window,a=i.devicePixelRatio||1;return{x:Xo(e*a)/a||0,y:Xo(t*a)/a||0}}function eb(n){var e,t=n.popper,i=n.popperRect,a=n.placement,l=n.variation,c=n.offsets,d=n.position,p=n.gpuAcceleration,g=n.adaptive,v=n.roundOffsets,b=n.isFixed,S=c.x,O=S===void 0?0:S,C=c.y,M=C===void 0?0:C,P=typeof v=="function"?v({x:O,y:M}):{x:O,y:M};O=P.x,M=P.y;var B=c.hasOwnProperty("x"),F=c.hasOwnProperty("y"),j=Mn,G=kn,X=window;if(g){var J=mc(t),x="clientHeight",R="clientWidth";if(J===gr(t)&&(J=Bs(t),Bi(J).position!=="static"&&d==="absolute"&&(x="scrollHeight",R="scrollWidth")),J=J,a===kn||(a===Mn||a===mr)&&l===Zu){G=pr;var I=b&&J===X&&X.visualViewport?X.visualViewport.height:J[x];M-=I-i.height,M*=p?1:-1}if(a===Mn||(a===kn||a===pr)&&l===Zu){j=mr;var N=b&&J===X&&X.visualViewport?X.visualViewport.width:J[R];O-=N-i.width,O*=p?1:-1}}var V=Object.assign({position:d},g&&RO),U=v===!0?CO({x:O,y:M}):{x:O,y:M};if(O=U.x,M=U.y,p){var D;return Object.assign({},V,(D={},D[G]=F?"0":"",D[j]=B?"0":"",D.transform=(X.devicePixelRatio||1)<=1?"translate("+O+"px, "+M+"px)":"translate3d("+O+"px, "+M+"px, 0)",D))}return Object.assign({},V,(e={},e[G]=F?M+"px":"",e[j]=B?O+"px":"",e.transform="",e))}function IO(n){var e=n.state,t=n.options,i=t.gpuAcceleration,a=i===void 0?!0:i,l=t.adaptive,c=l===void 0?!0:l,d=t.roundOffsets,p=d===void 0?!0:d,g={placement:Jr(e.placement),variation:Zo(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:a,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,eb(Object.assign({},g,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:c,roundOffsets:p})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,eb(Object.assign({},g,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:p})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var xO={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:IO,data:{}},Jh={passive:!0};function OO(n){var e=n.state,t=n.instance,i=n.options,a=i.scroll,l=a===void 0?!0:a,c=i.resize,d=c===void 0?!0:c,p=gr(e.elements.popper),g=[].concat(e.scrollParents.reference,e.scrollParents.popper);return l&&g.forEach(function(v){v.addEventListener("scroll",t.update,Jh)}),d&&p.addEventListener("resize",t.update,Jh),function(){l&&g.forEach(function(v){v.removeEventListener("scroll",t.update,Jh)}),d&&p.removeEventListener("resize",t.update,Jh)}}var NO={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:OO,data:{}},DO={left:"right",right:"left",bottom:"top",top:"bottom"};function mf(n){return n.replace(/left|right|bottom|top/g,function(e){return DO[e]})}var PO={start:"end",end:"start"};function tb(n){return n.replace(/start|end/g,function(e){return PO[e]})}function $g(n){var e=gr(n),t=e.pageXOffset,i=e.pageYOffset;return{scrollLeft:t,scrollTop:i}}function Kg(n){return Wo(Bs(n)).left+$g(n).scrollLeft}function kO(n,e){var t=gr(n),i=Bs(n),a=t.visualViewport,l=i.clientWidth,c=i.clientHeight,d=0,p=0;if(a){l=a.width,c=a.height;var g=OA();(g||!g&&e==="fixed")&&(d=a.offsetLeft,p=a.offsetTop)}return{width:l,height:c,x:d+Kg(n),y:p}}function MO(n){var e,t=Bs(n),i=$g(n),a=(e=n.ownerDocument)==null?void 0:e.body,l=Ra(t.scrollWidth,t.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),c=Ra(t.scrollHeight,t.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0),d=-i.scrollLeft+Kg(n),p=-i.scrollTop;return Bi(a||t).direction==="rtl"&&(d+=Ra(t.clientWidth,a?a.clientWidth:0)-l),{width:l,height:c,x:d,y:p}}function Yg(n){var e=Bi(n),t=e.overflow,i=e.overflowX,a=e.overflowY;return/auto|scroll|overlay|hidden/.test(t+a+i)}function MA(n){return["html","body","#document"].indexOf(ai(n))>=0?n.ownerDocument.body:dr(n)&&Yg(n)?n:MA(rd(n))}function Bu(n,e){var t;e===void 0&&(e=[]);var i=MA(n),a=i===((t=n.ownerDocument)==null?void 0:t.body),l=gr(i),c=a?[l].concat(l.visualViewport||[],Yg(i)?i:[]):i,d=e.concat(c);return a?d:d.concat(Bu(rd(c)))}function ng(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function VO(n,e){var t=Wo(n,!1,e==="fixed");return t.top=t.top+n.clientTop,t.left=t.left+n.clientLeft,t.bottom=t.top+n.clientHeight,t.right=t.left+n.clientWidth,t.width=n.clientWidth,t.height=n.clientHeight,t.x=t.left,t.y=t.top,t}function nb(n,e,t){return e===IA?ng(kO(n,t)):Oa(e)?VO(e,t):ng(MO(Bs(n)))}function LO(n){var e=Bu(rd(n)),t=["absolute","fixed"].indexOf(Bi(n).position)>=0,i=t&&dr(n)?mc(n):n;return Oa(i)?e.filter(function(a){return Oa(a)&&NA(a,i)&&ai(a)!=="body"}):[]}function UO(n,e,t,i){var a=e==="clippingParents"?LO(n):[].concat(e),l=[].concat(a,[t]),c=l[0],d=l.reduce(function(p,g){var v=nb(n,g,i);return p.top=Ra(v.top,p.top),p.right=Of(v.right,p.right),p.bottom=Of(v.bottom,p.bottom),p.left=Ra(v.left,p.left),p},nb(n,c,i));return d.width=d.right-d.left,d.height=d.bottom-d.top,d.x=d.left,d.y=d.top,d}function VA(n){var e=n.reference,t=n.element,i=n.placement,a=i?Jr(i):null,l=i?Zo(i):null,c=e.x+e.width/2-t.width/2,d=e.y+e.height/2-t.height/2,p;switch(a){case kn:p={x:c,y:e.y-t.height};break;case pr:p={x:c,y:e.y+e.height};break;case mr:p={x:e.x+e.width,y:d};break;case Mn:p={x:e.x-t.width,y:d};break;default:p={x:e.x,y:e.y}}var g=a?Gg(a):null;if(g!=null){var v=g==="y"?"height":"width";switch(l){case Qo:p[g]=p[g]-(e[v]/2-t[v]/2);break;case Zu:p[g]=p[g]+(e[v]/2-t[v]/2);break}}return p}function Ju(n,e){e===void 0&&(e={});var t=e,i=t.placement,a=i===void 0?n.placement:i,l=t.strategy,c=l===void 0?n.strategy:l,d=t.boundary,p=d===void 0?iO:d,g=t.rootBoundary,v=g===void 0?IA:g,b=t.elementContext,S=b===void 0?Nu:b,O=t.altBoundary,C=O===void 0?!1:O,M=t.padding,P=M===void 0?0:M,B=PA(typeof P!="number"?P:kA(P,pc)),F=S===Nu?sO:Nu,j=n.rects.popper,G=n.elements[C?F:S],X=UO(Oa(G)?G:G.contextElement||Bs(n.elements.popper),p,v,c),J=Wo(n.elements.reference),x=VA({reference:J,element:j,placement:a}),R=ng(Object.assign({},j,x)),I=S===Nu?R:J,N={top:X.top-I.top+B.top,bottom:I.bottom-X.bottom+B.bottom,left:X.left-I.left+B.left,right:I.right-X.right+B.right},V=n.modifiersData.offset;if(S===Nu&&V){var U=V[a];Object.keys(N).forEach(function(D){var ve=[mr,pr].indexOf(D)>=0?1:-1,Ue=[kn,pr].indexOf(D)>=0?"y":"x";N[D]+=U[Ue]*ve})}return N}function jO(n,e){e===void 0&&(e={});var t=e,i=t.placement,a=t.boundary,l=t.rootBoundary,c=t.padding,d=t.flipVariations,p=t.allowedAutoPlacements,g=p===void 0?xA:p,v=Zo(i),b=v?d?ZE:ZE.filter(function(C){return Zo(C)===v}):pc,S=b.filter(function(C){return g.indexOf(C)>=0});S.length===0&&(S=b);var O=S.reduce(function(C,M){return C[M]=Ju(n,{placement:M,boundary:a,rootBoundary:l,padding:c})[Jr(M)],C},{});return Object.keys(O).sort(function(C,M){return O[C]-O[M]})}function zO(n){if(Jr(n)===qg)return[];var e=mf(n);return[tb(n),e,tb(e)]}function BO(n){var e=n.state,t=n.options,i=n.name;if(!e.modifiersData[i]._skip){for(var a=t.mainAxis,l=a===void 0?!0:a,c=t.altAxis,d=c===void 0?!0:c,p=t.fallbackPlacements,g=t.padding,v=t.boundary,b=t.rootBoundary,S=t.altBoundary,O=t.flipVariations,C=O===void 0?!0:O,M=t.allowedAutoPlacements,P=e.options.placement,B=Jr(P),F=B===P,j=p||(F||!C?[mf(P)]:zO(P)),G=[P].concat(j).reduce(function(ge,be){return ge.concat(Jr(be)===qg?jO(e,{placement:be,boundary:v,rootBoundary:b,padding:g,flipVariations:C,allowedAutoPlacements:M}):be)},[]),X=e.rects.reference,J=e.rects.popper,x=new Map,R=!0,I=G[0],N=0;N<G.length;N++){var V=G[N],U=Jr(V),D=Zo(V)===Qo,ve=[kn,pr].indexOf(U)>=0,Ue=ve?"width":"height",Z=Ju(e,{placement:V,boundary:v,rootBoundary:b,altBoundary:S,padding:g}),oe=ve?D?mr:Mn:D?pr:kn;X[Ue]>J[Ue]&&(oe=mf(oe));var fe=mf(oe),Oe=[];if(l&&Oe.push(Z[U]<=0),d&&Oe.push(Z[oe]<=0,Z[fe]<=0),Oe.every(function(ge){return ge})){I=V,R=!1;break}x.set(V,Oe)}if(R)for(var L=C?3:1,re=function(be){var ye=G.find(function(at){var De=x.get(at);if(De)return De.slice(0,be).every(function(Ft){return Ft})});if(ye)return I=ye,"break"},ue=L;ue>0;ue--){var le=re(ue);if(le==="break")break}e.placement!==I&&(e.modifiersData[i]._skip=!0,e.placement=I,e.reset=!0)}}var qO={name:"flip",enabled:!0,phase:"main",fn:BO,requiresIfExists:["offset"],data:{_skip:!1}};function rb(n,e,t){return t===void 0&&(t={x:0,y:0}),{top:n.top-e.height-t.y,right:n.right-e.width+t.x,bottom:n.bottom-e.height+t.y,left:n.left-e.width-t.x}}function ib(n){return[kn,mr,pr,Mn].some(function(e){return n[e]>=0})}function FO(n){var e=n.state,t=n.name,i=e.rects.reference,a=e.rects.popper,l=e.modifiersData.preventOverflow,c=Ju(e,{elementContext:"reference"}),d=Ju(e,{altBoundary:!0}),p=rb(c,i),g=rb(d,a,l),v=ib(p),b=ib(g);e.modifiersData[t]={referenceClippingOffsets:p,popperEscapeOffsets:g,isReferenceHidden:v,hasPopperEscaped:b},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":v,"data-popper-escaped":b})}var HO={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:FO};function GO(n,e,t){var i=Jr(n),a=[Mn,kn].indexOf(i)>=0?-1:1,l=typeof t=="function"?t(Object.assign({},e,{placement:n})):t,c=l[0],d=l[1];return c=c||0,d=(d||0)*a,[Mn,mr].indexOf(i)>=0?{x:d,y:c}:{x:c,y:d}}function $O(n){var e=n.state,t=n.options,i=n.name,a=t.offset,l=a===void 0?[0,0]:a,c=xA.reduce(function(v,b){return v[b]=GO(b,e.rects,l),v},{}),d=c[e.placement],p=d.x,g=d.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=p,e.modifiersData.popperOffsets.y+=g),e.modifiersData[i]=c}var KO={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:$O};function YO(n){var e=n.state,t=n.name;e.modifiersData[t]=VA({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}var QO={name:"popperOffsets",enabled:!0,phase:"read",fn:YO,data:{}};function XO(n){return n==="x"?"y":"x"}function WO(n){var e=n.state,t=n.options,i=n.name,a=t.mainAxis,l=a===void 0?!0:a,c=t.altAxis,d=c===void 0?!1:c,p=t.boundary,g=t.rootBoundary,v=t.altBoundary,b=t.padding,S=t.tether,O=S===void 0?!0:S,C=t.tetherOffset,M=C===void 0?0:C,P=Ju(e,{boundary:p,rootBoundary:g,padding:b,altBoundary:v}),B=Jr(e.placement),F=Zo(e.placement),j=!F,G=Gg(B),X=XO(G),J=e.modifiersData.popperOffsets,x=e.rects.reference,R=e.rects.popper,I=typeof M=="function"?M(Object.assign({},e.rects,{placement:e.placement})):M,N=typeof I=="number"?{mainAxis:I,altAxis:I}:Object.assign({mainAxis:0,altAxis:0},I),V=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,U={x:0,y:0};if(J){if(l){var D,ve=G==="y"?kn:Mn,Ue=G==="y"?pr:mr,Z=G==="y"?"height":"width",oe=J[G],fe=oe+P[ve],Oe=oe-P[Ue],L=O?-R[Z]/2:0,re=F===Qo?x[Z]:R[Z],ue=F===Qo?-R[Z]:-x[Z],le=e.elements.arrow,ge=O&&le?Hg(le):{width:0,height:0},be=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:DA(),ye=be[ve],at=be[Ue],De=zu(0,x[Z],ge[Z]),Ft=j?x[Z]/2-L-De-ye-N.mainAxis:re-De-ye-N.mainAxis,Un=j?-x[Z]/2+L+De+at+N.mainAxis:ue+De+at+N.mainAxis,un=e.elements.arrow&&mc(e.elements.arrow),vr=un?G==="y"?un.clientTop||0:un.clientLeft||0:0,Wn=(D=V==null?void 0:V[G])!=null?D:0,Ht=oe+Ft-Wn-vr,cn=oe+Un-Wn,ut=zu(O?Of(fe,Ht):fe,oe,O?Ra(Oe,cn):Oe);J[G]=ut,U[G]=ut-oe}if(d){var Ce,hn=G==="x"?kn:Mn,Cn=G==="x"?pr:mr,tt=J[X],Rt=X==="y"?"height":"width",In=tt+P[hn],Zt=tt-P[Cn],jn=[kn,Mn].indexOf(B)!==-1,yr=(Ce=V==null?void 0:V[X])!=null?Ce:0,ct=jn?In:tt-x[Rt]-R[Rt]-yr+N.altAxis,Ge=jn?tt+x[Rt]+R[Rt]-yr-N.altAxis:Zt,fn=O&&jn?bO(ct,tt,Ge):zu(O?ct:In,tt,O?Ge:Zt);J[X]=fn,U[X]=fn-tt}e.modifiersData[i]=U}}var ZO={name:"preventOverflow",enabled:!0,phase:"main",fn:WO,requiresIfExists:["offset"]};function JO(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function eN(n){return n===gr(n)||!dr(n)?$g(n):JO(n)}function tN(n){var e=n.getBoundingClientRect(),t=Xo(e.width)/n.offsetWidth||1,i=Xo(e.height)/n.offsetHeight||1;return t!==1||i!==1}function nN(n,e,t){t===void 0&&(t=!1);var i=dr(e),a=dr(e)&&tN(e),l=Bs(e),c=Wo(n,a,t),d={scrollLeft:0,scrollTop:0},p={x:0,y:0};return(i||!i&&!t)&&((ai(e)!=="body"||Yg(l))&&(d=eN(e)),dr(e)?(p=Wo(e,!0),p.x+=e.clientLeft,p.y+=e.clientTop):l&&(p.x=Kg(l))),{x:c.left+d.scrollLeft-p.x,y:c.top+d.scrollTop-p.y,width:c.width,height:c.height}}function rN(n){var e=new Map,t=new Set,i=[];n.forEach(function(l){e.set(l.name,l)});function a(l){t.add(l.name);var c=[].concat(l.requires||[],l.requiresIfExists||[]);c.forEach(function(d){if(!t.has(d)){var p=e.get(d);p&&a(p)}}),i.push(l)}return n.forEach(function(l){t.has(l.name)||a(l)}),i}function iN(n){var e=rN(n);return mO.reduce(function(t,i){return t.concat(e.filter(function(a){return a.phase===i}))},[])}function sN(n){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(n())})})),e}}function aN(n){var e=n.reduce(function(t,i){var a=t[i.name];return t[i.name]=a?Object.assign({},a,i,{options:Object.assign({},a.options,i.options),data:Object.assign({},a.data,i.data)}):i,t},{});return Object.keys(e).map(function(t){return e[t]})}var sb={placement:"bottom",modifiers:[],strategy:"absolute"};function ab(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return!e.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function oN(n){n===void 0&&(n={});var e=n,t=e.defaultModifiers,i=t===void 0?[]:t,a=e.defaultOptions,l=a===void 0?sb:a;return function(d,p,g){g===void 0&&(g=l);var v={placement:"bottom",orderedModifiers:[],options:Object.assign({},sb,l),modifiersData:{},elements:{reference:d,popper:p},attributes:{},styles:{}},b=[],S=!1,O={state:v,setOptions:function(B){var F=typeof B=="function"?B(v.options):B;M(),v.options=Object.assign({},l,v.options,F),v.scrollParents={reference:Oa(d)?Bu(d):d.contextElement?Bu(d.contextElement):[],popper:Bu(p)};var j=iN(aN([].concat(i,v.options.modifiers)));return v.orderedModifiers=j.filter(function(G){return G.enabled}),C(),O.update()},forceUpdate:function(){if(!S){var B=v.elements,F=B.reference,j=B.popper;if(ab(F,j)){v.rects={reference:nN(F,mc(j),v.options.strategy==="fixed"),popper:Hg(j)},v.reset=!1,v.placement=v.options.placement,v.orderedModifiers.forEach(function(N){return v.modifiersData[N.name]=Object.assign({},N.data)});for(var G=0;G<v.orderedModifiers.length;G++){if(v.reset===!0){v.reset=!1,G=-1;continue}var X=v.orderedModifiers[G],J=X.fn,x=X.options,R=x===void 0?{}:x,I=X.name;typeof J=="function"&&(v=J({state:v,options:R,name:I,instance:O})||v)}}}},update:sN(function(){return new Promise(function(P){O.forceUpdate(),P(v)})}),destroy:function(){M(),S=!0}};if(!ab(d,p))return O;O.setOptions(g).then(function(P){!S&&g.onFirstUpdate&&g.onFirstUpdate(P)});function C(){v.orderedModifiers.forEach(function(P){var B=P.name,F=P.options,j=F===void 0?{}:F,G=P.effect;if(typeof G=="function"){var X=G({state:v,name:B,instance:O,options:j}),J=function(){};b.push(X||J)}})}function M(){b.forEach(function(P){return P()}),b=[]}return O}}var lN=[NO,QO,xO,yO,KO,qO,ZO,wO,HO],uN=oN({defaultModifiers:lN}),cN=function(n){var e=n.level,t=n.buttonRef,i=n.contentRef,a=he.useContext(nd),l=a.collapsed,c=a.toggled,d=a.transitionDuration,p=he.useRef();return he.useEffect(function(){return e===0&&l&&i.current&&t.current&&(p.current=uN(t.current,i.current,{placement:"right",strategy:"fixed",modifiers:[{name:"offset",options:{offset:[0,5]}}]})),function(){var g;return(g=p.current)===null||g===void 0?void 0:g.destroy()}},[e,l,i,t]),he.useEffect(function(){if(i.current&&t.current){var g=new ResizeObserver(function(){var v;(v=p.current)===null||v===void 0||v.update()});g.observe(i.current),g.observe(t.current)}setTimeout(function(){var v;(v=p.current)===null||v===void 0||v.update()},d)},[d,c,i,t]),{popperInstance:p.current}},LA=function(n){var e=n.rtl,t=n.level,i=n.collapsed,a=n.disabled,l=n.active;return`
    display: flex;
    align-items: center;
    height: 50px;
    text-decoration: none;
    color: inherit;
    box-sizing: border-box;
    cursor: pointer;

    `.concat(e?`padding-left: 20px;
           padding-right: `.concat(t===0?20:(i?t:t+1)*20,`px;
            `):`padding-right: 20px;
           padding-left: `.concat(t===0?20:(i?t:t+1)*20,`px;
           `),`

    &:hover {
      background-color: #f3f3f3;
    }

    `).concat(a&&` 
      pointer-events: none;
      cursor: default;
      color:#adadad;
        `,`

    `).concat(l&&"background-color: #e2eef9;",`
  
  `)},hN=function(n,e){var t=n.className,i=n.component,a=n.children,l=xa(n,["className","component","children"]);if(i){if(typeof i=="string")return he.createElement(i,Yn(Yn({className:jt(t)},l),{ref:e}),a);var c=i.props,d=c.className,p=xa(c,["className"]);return he.cloneElement(i,Yn(Yn(Yn({className:jt(t,d)},l),p),{ref:e}),a)}else return he.createElement("a",Yn({ref:e,className:jt(t)},l),a)},UA=he.forwardRef(hN),fN=Wt.li(lb||(lb=bn([`
  position: relative;
  width: 100%;

  `,`;

  `,`;

  > .`,` {
    `,`;

    `,`;
  }
`],[`
  position: relative;
  width: 100%;

  `,`;

  `,`;

  > .`,` {
    `,`;

    `,`;
  }
`])),function(n){var e=n.menuItemStyles;return e},function(n){var e=n.rootStyles;return e},Qe.button,function(n){var e=n.level,t=n.disabled,i=n.active,a=n.collapsed,l=n.rtl;return LA({level:e,disabled:t,active:i,collapsed:a,rtl:l})},function(n){var e=n.buttonStyles;return e}),dN=function(n,e){var t,i=n.children,a=n.className,l=n.label,c=n.icon,d=n.title,p=n.prefix,g=n.suffix,v=n.open,b=n.defaultOpen,S=n.active,O=S===void 0?!1:S,C=n.disabled,M=C===void 0?!1:C,P=n.rootStyles,B=n.component,F=n.onOpenChange,j=n.onClick,G=n.onKeyUp,X=xa(n,["children","className","label","icon","title","prefix","suffix","open","defaultOpen","active","disabled","rootStyles","component","onOpenChange","onClick","onKeyUp"]),J=he.useContext(xf),x=he.useContext(nd),R=x.collapsed,I=x.rtl,N=x.transitionDuration,V=Bg(),U=V.renderExpandIcon,D=V.closeOnClick,ve=V.menuItemStyles,Ue=V.transitionDuration,Z=he.useState(!!b),oe=Z[0],fe=Z[1],Oe=he.useState(!1),L=Oe[0],re=Oe[1],ue=he.useState(!1),le=ue[0],ge=ue[1],be=he.useRef(null),ye=he.useRef(null),at=he.useRef(),De=cN({level:J,buttonRef:be,contentRef:ye}).popperInstance,Ft=he.useCallback(function(){var ut,Ce=ye.current;if(Ce){var hn=(ut=Ce==null?void 0:Ce.querySelector(".".concat(Qe.subMenuContent," > ul")))===null||ut===void 0?void 0:ut.clientHeight;Ce.style.overflow="hidden",Ce.style.height="".concat(hn,"px"),at.current=setTimeout(function(){Ce.style.overflow="auto",Ce.style.height="auto"},Ue)}},[Ue]),Un=function(){var ut,Ce=ye.current;if(Ce){var hn=(ut=Ce==null?void 0:Ce.querySelector(".".concat(Qe.subMenuContent," > ul")))===null||ut===void 0?void 0:ut.clientHeight;Ce.style.overflow="hidden",Ce.style.height="".concat(hn,"px"),Ce.offsetHeight,Ce.style.height="0px"}},un=function(){J===0&&R||(typeof v>"u"?(clearTimeout(Number(at.current)),oe?Un():Ft(),F==null||F(!oe),fe(!oe)):F==null||F(!v))};he.useEffect(function(){!(J===0&&R)&&typeof v<"u"&&le&&(clearTimeout(Number(at.current)),v?Ft():Un())},[R,Ft,l,J,F,v]);var vr=function(ut){j==null||j(ut),un()},Wn=function(ut){G==null||G(ut),ut.key==="Enter"&&un()},Ht=function(ut){if(ve){var Ce={level:J,disabled:M,active:O,isSubmenu:!0,open:v??oe},hn=ve.root,Cn=ve.button,tt=ve.label,Rt=ve.icon,In=ve.prefix,Zt=ve.suffix,jn=ve.subMenuContent,yr=ve.SubMenuExpandIcon;switch(ut){case"root":return typeof hn=="function"?hn(Ce):hn;case"button":return typeof Cn=="function"?Cn(Ce):Cn;case"label":return typeof tt=="function"?tt(Ce):tt;case"icon":return typeof Rt=="function"?Rt(Ce):Rt;case"prefix":return typeof In=="function"?In(Ce):In;case"suffix":return typeof Zt=="function"?Zt(Ce):Zt;case"SubMenuExpandIcon":return typeof yr=="function"?yr(Ce):yr;case"subMenuContent":return typeof jn=="function"?jn(Ce):jn;default:return}}};he.useEffect(function(){setTimeout(function(){return De==null?void 0:De.update()},N),R&&J===0&&re(!1)},[R,J,I,N,De]),he.useEffect(function(){var ut=function(tt){var Rt,In,Zt;!L&&(!((Rt=be.current)===null||Rt===void 0)&&Rt.contains(tt))?re(!0):(D&&!(!((In=tt.closest(".".concat(Qe.menuItemRoot)))===null||In===void 0)&&In.classList.contains(Qe.subMenuRoot))||!(!((Zt=ye.current)===null||Zt===void 0)&&Zt.contains(tt))&&L)&&re(!1)},Ce=function(tt){ut(tt.target)},hn=function(tt){tt.key==="Enter"?ut(tt.target):tt.key==="Escape"&&re(!1)},Cn=function(){document.removeEventListener("click",Ce),document.removeEventListener("keyup",hn)};return Cn(),R&&J===0&&(document.addEventListener("click",Ce,!1),document.addEventListener("keyup",hn,!1)),function(){Cn()}},[R,J,D,L]),he.useEffect(function(){ge(!0)},[]);var cn=(t={},t[Qe.active]=O,t[Qe.disabled]=M,t[Qe.open]=v??oe,t);return he.createElement(fN,{ref:e,className:jt(Qe.menuItemRoot,Qe.subMenuRoot,cn,a),menuItemStyles:Ht("root"),level:J,collapsed:R,rtl:I,disabled:M,active:O,buttonStyles:Ht("button"),rootStyles:P},he.createElement(UA,Yn({"data-testid":"".concat(Qe.button,"-test-id"),ref:be,title:d,className:jt(Qe.button,cn),onClick:vr,onKeyUp:Wn,component:B,tabIndex:0},X),c&&he.createElement(wA,{rtl:I,className:jt(Qe.icon,cn),rootStyles:Ht("icon")},c),p&&he.createElement(RA,{collapsed:R,transitionDuration:N,firstLevel:J===0,className:jt(Qe.prefix,cn),rtl:I,rootStyles:Ht("prefix")},p),he.createElement(SA,{className:jt(Qe.label,cn),rootStyles:Ht("label")},l),g&&he.createElement(CA,{collapsed:R,transitionDuration:N,firstLevel:J===0,className:jt(Qe.suffix,cn),rootStyles:Ht("suffix")},g),he.createElement(tO,{rtl:I,className:jt(Qe.SubMenuExpandIcon,cn),collapsed:R,level:J,rootStyles:Ht("SubMenuExpandIcon")},U?U({level:J,disabled:M,active:O,open:v??oe}):R&&J===0?he.createElement(rO,null):he.createElement(nO,{rtl:I,open:v??oe}))),he.createElement(eO,{ref:ye,openWhenCollapsed:L,open:v??oe,firstLevel:J===0,collapsed:R,defaultOpen:v&&!le||b,className:jt(Qe.subMenuContent,cn),rootStyles:Ht("subMenuContent")},he.createElement(xf.Provider,{value:J+1},i)))},ob=he.forwardRef(dN),lb,pN=Wt.li(ub||(ub=bn([`
  width: 100%;
  position: relative;

  `,`;

  `,`;

  > .`,` {
    `,`;

    `,`;
  }
`],[`
  width: 100%;
  position: relative;

  `,`;

  `,`;

  > .`,` {
    `,`;

    `,`;
  }
`])),function(n){var e=n.menuItemStyles;return e},function(n){var e=n.rootStyles;return e},Qe.button,function(n){var e=n.level,t=n.disabled,i=n.active,a=n.collapsed,l=n.rtl;return LA({level:e,disabled:t,active:i,collapsed:a,rtl:l})},function(n){var e=n.buttonStyles;return e}),mN=function(n,e){var t,i=n.children,a=n.icon,l=n.className,c=n.prefix,d=n.suffix,p=n.active,g=p===void 0?!1:p,v=n.disabled,b=v===void 0?!1:v,S=n.component,O=n.rootStyles,C=xa(n,["children","icon","className","prefix","suffix","active","disabled","component","rootStyles"]),M=he.useContext(xf),P=he.useContext(nd),B=P.collapsed,F=P.rtl,j=P.transitionDuration,G=Bg().menuItemStyles,X=function(x){if(G){var R={level:M,disabled:b,active:g,isSubmenu:!1},I=G.root,N=G.button,V=G.label,U=G.icon,D=G.prefix,ve=G.suffix;switch(x){case"root":return typeof I=="function"?I(R):I;case"button":return typeof N=="function"?N(R):N;case"label":return typeof V=="function"?V(R):V;case"icon":return typeof U=="function"?U(R):U;case"prefix":return typeof D=="function"?D(R):D;case"suffix":return typeof ve=="function"?ve(R):ve;default:return}}},J=(t={},t[Qe.active]=g,t[Qe.disabled]=b,t);return he.createElement(pN,{ref:e,className:jt(Qe.menuItemRoot,J,l),menuItemStyles:X("root"),level:M,collapsed:B,rtl:F,disabled:b,active:g,buttonStyles:X("button"),rootStyles:O},he.createElement(UA,Yn({className:jt(Qe.button,J),"data-testid":"".concat(Qe.button,"-test-id"),component:S,tabIndex:0},C),a&&he.createElement(wA,{rtl:F,className:jt(Qe.icon,J),rootStyles:X("icon")},a),c&&he.createElement(RA,{collapsed:B,transitionDuration:j,firstLevel:M===0,className:jt(Qe.prefix,J),rtl:F,rootStyles:X("prefix")},c),he.createElement(SA,{className:jt(Qe.label,J),rootStyles:X("label")},i),d&&he.createElement(CA,{collapsed:B,transitionDuration:j,firstLevel:M===0,className:jt(Qe.suffix,J),rootStyles:X("suffix")},d)))},Du=he.forwardRef(mN),ub;const Qg="/concurso-interno-violino/assets/logo-gulbenkian-BDNkqi1c.png",Xg="/concurso-interno-violino/assets/logo-republica-portuguesa-C5MSZW22.png";function gN({collapsed:n,toggled:e,onClose:t,setBroken:i}){const a=La(),l=li(),c=d=>{a(d),e&&t()};return T.jsx(Yx,{collapsed:n,toggled:e,onBackdropClick:t,onBreakPoint:i,breakPoint:"md",backgroundColor:"hsl(210, 15%, 98%)",style:{height:"100vh",position:"fixed",zIndex:1e3,borderRight:"1px solid hsl(210, 15%, 90%)"},width:"230px",collapsedWidth:"65px",children:T.jsxs("div",{style:{display:"flex",flexDirection:"column",height:"100%"},children:[T.jsxs(Wx,{children:[" ",T.jsxs("div",{className:"sidebar-header",children:[T.jsx("img",{src:Qg,alt:"Logo Concurso",className:"sidebar-logo"}),T.jsx("span",{className:"sidebar-title",children:"V Concurso Interno"}),T.jsx("br",{}),T.jsx("span",{className:"sidebar-title",children:"de Violino"})]}),T.jsx(Du,{component:T.jsx(Aa,{to:"/"}),active:l.pathname==="/",onClick:()=>c("/"),children:"Página Principal"}),T.jsxs(ob,{label:"V Concurso Interno Violino",defaultOpen:["/regulamento","/inscricao","/juri","/resultados"].includes(l.pathname),children:[T.jsx(Du,{component:T.jsx(Aa,{to:"/regulamento"}),active:l.pathname==="/regulamento",onClick:()=>c("/regulamento"),children:"Regulamento"}),T.jsx(Du,{component:T.jsx(Aa,{to:"/inscricao"}),active:l.pathname==="/inscricao",onClick:()=>c("/inscricao"),children:"Inscrições"}),T.jsx(Du,{component:T.jsx(Aa,{to:"/juri"}),active:l.pathname==="/juri",onClick:()=>c("/juri"),children:"Júri"})]}),T.jsx(ob,{label:"Área Reservada",defaultOpen:l.pathname==="/jurylogin",children:T.jsx(Du,{component:T.jsx(Aa,{to:"/jurylogin"}),active:l.pathname==="/jurylogin",onClick:()=>c("/jurylogin"),children:"Login Júri"})})]}),T.jsx("div",{className:"sidebar-footer",children:T.jsx("img",{src:Xg,alt:"Logo Concurso",className:"sidebar-logo-footer"})})]})})}function vN({onClick:n,isOpen:e}){return T.jsxs("button",{className:`burger-button-pro-sidebar ${e?"open":""}`,onClick:n,"aria-label":e?"Fechar menu":"Abrir menu","aria-expanded":e,children:[T.jsx("span",{}),T.jsx("span",{}),T.jsx("span",{})]})}function yN(){const[n,e]=H.useState(!1),[t,i]=H.useState(!1),[a,l]=H.useState(!1),c=()=>{a?i(!t):e(!n)};return H.useEffect(()=>(a&&t?document.body.classList.add("sidebar-mobile-open"):document.body.classList.remove("sidebar-mobile-open"),()=>{document.body.classList.remove("sidebar-mobile-open")}),[a,t]),T.jsxs("div",{className:"site-container-pro-sidebar",children:[" ",T.jsx(gN,{collapsed:n&&!a,toggled:t&&a,onClose:()=>i(!1),setBroken:l}),a&&T.jsx("div",{className:"burger-button-container",children:T.jsx(vN,{onClick:c,isOpen:t})}),T.jsx("main",{className:"content-wrap-pro-sidebar",children:T.jsx(iA,{})})]})}const _N=()=>{};var cb={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jA=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let a=n.charCodeAt(i);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},EN=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const a=n[t++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const l=n[t++];e[i++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=n[t++],c=n[t++],d=n[t++],p=((a&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const l=n[t++],c=n[t++];e[i++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},zA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<n.length;a+=3){const l=n[a],c=a+1<n.length,d=c?n[a+1]:0,p=a+2<n.length,g=p?n[a+2]:0,v=l>>2,b=(l&3)<<4|d>>4;let S=(d&15)<<2|g>>6,O=g&63;p||(O=64,c||(S=64)),i.push(t[v],t[b],t[S],t[O])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(jA(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):EN(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<n.length;){const l=t[n.charAt(a++)],d=a<n.length?t[n.charAt(a)]:0;++a;const g=a<n.length?t[n.charAt(a)]:64;++a;const b=a<n.length?t[n.charAt(a)]:64;if(++a,l==null||d==null||g==null||b==null)throw new bN;const S=l<<2|d>>4;if(i.push(S),g!==64){const O=d<<4&240|g>>2;if(i.push(O),b!==64){const C=g<<6&192|b;i.push(C)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class bN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const TN=function(n){const e=jA(n);return zA.encodeByteArray(e,!0)},Nf=function(n){return TN(n).replace(/\./g,"")},BA=function(n){try{return zA.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SN=()=>AN().__FIREBASE_DEFAULTS__,wN=()=>{if(typeof process>"u"||typeof cb>"u")return;const n=cb.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},RN=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&BA(n[1]);return e&&JSON.parse(e)},id=()=>{try{return _N()||SN()||wN()||RN()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},qA=n=>{var e,t;return(t=(e=id())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},FA=n=>{const e=qA(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},HA=()=>{var n;return(n=id())===null||n===void 0?void 0:n.config},GA=n=>{var e;return(e=id())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $A(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",a=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Nf(JSON.stringify(t)),Nf(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function En(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function IN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(En())}function xN(){var n;const e=(n=id())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ON(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function NN(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function DN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function PN(){const n=En();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function kN(){return!xN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function MN(){try{return typeof indexedDB=="object"}catch{return!1}}function VN(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{var l;e(((l=a.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LN="FirebaseError";class ui extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=LN,Object.setPrototypeOf(this,ui.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gc.prototype.create)}}class gc{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?UN(l,i):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new ui(a,d,i)}}function UN(n,e){return n.replace(jN,(t,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const jN=/\{\$([^}]+)}/g;function zN(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Na(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const a of t){if(!i.includes(a))return!1;const l=n[a],c=e[a];if(hb(l)&&hb(c)){if(!Na(l,c))return!1}else if(l!==c)return!1}for(const a of i)if(!t.includes(a))return!1;return!0}function hb(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vc(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function ku(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[a,l]=i.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function Mu(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function BN(n,e){const t=new qN(n,e);return t.subscribe.bind(t)}class qN{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let a;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");FN(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:i},a.next===void 0&&(a.next=Mm),a.error===void 0&&(a.error=Mm),a.complete===void 0&&(a.complete=Mm);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function FN(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Mm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qt(n){return n&&n._delegate?n._delegate:n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fl(n){return n.endsWith(".cloudworkstations.dev")}async function Wg(n){return(await fetch(n,{credentials:"include"})).ok}class Ps{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ta="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new CN;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if($N(e))try{this.getOrInitializeService({instanceIdentifier:Ta})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:a});i.resolve(l)}catch{}}}}clearInstance(e=Ta){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ta){return this.instances.has(e)}getOptions(e=Ta){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);i===d&&c.resolve(a)}return a}onInit(e,t){var i;const a=this.normalizeInstanceIdentifier(t),l=(i=this.onInitCallbacks.get(a))!==null&&i!==void 0?i:new Set;l.add(e),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&e(c,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const a of i)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:GN(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Ta){return this.component?this.component.multipleInstances?e:Ta:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function GN(n){return n===Ta?void 0:n}function $N(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new HN(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var je;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(je||(je={}));const YN={debug:je.DEBUG,verbose:je.VERBOSE,info:je.INFO,warn:je.WARN,error:je.ERROR,silent:je.SILENT},QN=je.INFO,XN={[je.DEBUG]:"log",[je.VERBOSE]:"log",[je.INFO]:"info",[je.WARN]:"warn",[je.ERROR]:"error"},WN=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),a=XN[e];if(a)console[a](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Zg{constructor(e){this.name=e,this._logLevel=QN,this._logHandler=WN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?YN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,je.DEBUG,...e),this._logHandler(this,je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,je.VERBOSE,...e),this._logHandler(this,je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,je.INFO,...e),this._logHandler(this,je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,je.WARN,...e),this._logHandler(this,je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,je.ERROR,...e),this._logHandler(this,je.ERROR,...e)}}const ZN=(n,e)=>e.some(t=>n instanceof t);let fb,db;function JN(){return fb||(fb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function eD(){return db||(db=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const KA=new WeakMap,rg=new WeakMap,YA=new WeakMap,Vm=new WeakMap,Jg=new WeakMap;function tD(n){const e=new Promise((t,i)=>{const a=()=>{n.removeEventListener("success",l),n.removeEventListener("error",c)},l=()=>{t(Cs(n.result)),a()},c=()=>{i(n.error),a()};n.addEventListener("success",l),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&KA.set(t,n)}).catch(()=>{}),Jg.set(e,n),e}function nD(n){if(rg.has(n))return;const e=new Promise((t,i)=>{const a=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",c),n.removeEventListener("abort",c)},l=()=>{t(),a()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",l),n.addEventListener("error",c),n.addEventListener("abort",c)});rg.set(n,e)}let ig={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return rg.get(n);if(e==="objectStoreNames")return n.objectStoreNames||YA.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Cs(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function rD(n){ig=n(ig)}function iD(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(Lm(this),e,...t);return YA.set(i,e.sort?e.sort():[e]),Cs(i)}:eD().includes(n)?function(...e){return n.apply(Lm(this),e),Cs(KA.get(this))}:function(...e){return Cs(n.apply(Lm(this),e))}}function sD(n){return typeof n=="function"?iD(n):(n instanceof IDBTransaction&&nD(n),ZN(n,JN())?new Proxy(n,ig):n)}function Cs(n){if(n instanceof IDBRequest)return tD(n);if(Vm.has(n))return Vm.get(n);const e=sD(n);return e!==n&&(Vm.set(n,e),Jg.set(e,n)),e}const Lm=n=>Jg.get(n);function aD(n,e,{blocked:t,upgrade:i,blocking:a,terminated:l}={}){const c=indexedDB.open(n,e),d=Cs(c);return i&&c.addEventListener("upgradeneeded",p=>{i(Cs(c.result),p.oldVersion,p.newVersion,Cs(c.transaction),p)}),t&&c.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),d.then(p=>{l&&p.addEventListener("close",()=>l()),a&&p.addEventListener("versionchange",g=>a(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const oD=["get","getKey","getAll","getAllKeys","count"],lD=["put","add","delete","clear"],Um=new Map;function pb(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Um.get(e))return Um.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,a=lD.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(a||oD.includes(t)))return;const l=async function(c,...d){const p=this.transaction(c,a?"readwrite":"readonly");let g=p.store;return i&&(g=g.index(d.shift())),(await Promise.all([g[t](...d),a&&p.done]))[0]};return Um.set(e,l),l}rD(n=>({...n,get:(e,t,i)=>pb(e,t)||n.get(e,t,i),has:(e,t)=>!!pb(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(cD(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function cD(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const sg="@firebase/app",mb="0.12.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qi=new Zg("@firebase/app"),hD="@firebase/app-compat",fD="@firebase/analytics-compat",dD="@firebase/analytics",pD="@firebase/app-check-compat",mD="@firebase/app-check",gD="@firebase/auth",vD="@firebase/auth-compat",yD="@firebase/database",_D="@firebase/data-connect",ED="@firebase/database-compat",bD="@firebase/functions",TD="@firebase/functions-compat",AD="@firebase/installations",SD="@firebase/installations-compat",wD="@firebase/messaging",RD="@firebase/messaging-compat",CD="@firebase/performance",ID="@firebase/performance-compat",xD="@firebase/remote-config",OD="@firebase/remote-config-compat",ND="@firebase/storage",DD="@firebase/storage-compat",PD="@firebase/firestore",kD="@firebase/vertexai",MD="@firebase/firestore-compat",VD="firebase",LD="11.7.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ag="[DEFAULT]",UD={[sg]:"fire-core",[hD]:"fire-core-compat",[dD]:"fire-analytics",[fD]:"fire-analytics-compat",[mD]:"fire-app-check",[pD]:"fire-app-check-compat",[gD]:"fire-auth",[vD]:"fire-auth-compat",[yD]:"fire-rtdb",[_D]:"fire-data-connect",[ED]:"fire-rtdb-compat",[bD]:"fire-fn",[TD]:"fire-fn-compat",[AD]:"fire-iid",[SD]:"fire-iid-compat",[wD]:"fire-fcm",[RD]:"fire-fcm-compat",[CD]:"fire-perf",[ID]:"fire-perf-compat",[xD]:"fire-rc",[OD]:"fire-rc-compat",[ND]:"fire-gcs",[DD]:"fire-gcs-compat",[PD]:"fire-fst",[MD]:"fire-fst-compat",[kD]:"fire-vertex","fire-js":"fire-js",[VD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Df=new Map,jD=new Map,og=new Map;function gb(n,e){try{n.container.addComponent(e)}catch(t){qi.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Da(n){const e=n.name;if(og.has(e))return qi.debug(`There were multiple attempts to register component ${e}.`),!1;og.set(e,n);for(const t of Df.values())gb(t,n);for(const t of jD.values())gb(t,n);return!0}function sd(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function hr(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Is=new gc("app","Firebase",zD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Ps("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Is.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ua=LD;function QA(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:ag,automaticDataCollectionEnabled:!1},e),a=i.name;if(typeof a!="string"||!a)throw Is.create("bad-app-name",{appName:String(a)});if(t||(t=HA()),!t)throw Is.create("no-options");const l=Df.get(a);if(l){if(Na(t,l.options)&&Na(i,l.config))return l;throw Is.create("duplicate-app",{appName:a})}const c=new KN(a);for(const p of og.values())c.addComponent(p);const d=new BD(t,i,c);return Df.set(a,d),d}function ev(n=ag){const e=Df.get(n);if(!e&&n===ag&&HA())return QA();if(!e)throw Is.create("no-app",{appName:n});return e}function ei(n,e,t){var i;let a=(i=UD[n])!==null&&i!==void 0?i:n;t&&(a+=`-${t}`);const l=a.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${e}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),qi.warn(d.join(" "));return}Da(new Ps(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qD="firebase-heartbeat-database",FD=1,ec="firebase-heartbeat-store";let jm=null;function XA(){return jm||(jm=aD(qD,FD,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(ec)}catch(t){console.warn(t)}}}}).catch(n=>{throw Is.create("idb-open",{originalErrorMessage:n.message})})),jm}async function HD(n){try{const t=(await XA()).transaction(ec),i=await t.objectStore(ec).get(WA(n));return await t.done,i}catch(e){if(e instanceof ui)qi.warn(e.message);else{const t=Is.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});qi.warn(t.message)}}}async function vb(n,e){try{const i=(await XA()).transaction(ec,"readwrite");await i.objectStore(ec).put(e,WA(n)),await i.done}catch(t){if(t instanceof ui)qi.warn(t.message);else{const i=Is.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});qi.warn(i.message)}}}function WA(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GD=1024,$D=30;class KD{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new QD(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=yb();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>$D){const c=XD(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){qi.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=yb(),{heartbeatsToSend:i,unsentEntries:a}=YD(this._heartbeatsCache.heartbeats),l=Nf(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return qi.warn(t),""}}}function yb(){return new Date().toISOString().substring(0,10)}function YD(n,e=GD){const t=[];let i=n.slice();for(const a of n){const l=t.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),_b(t)>e){l.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),_b(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class QD{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return MN()?VN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await HD(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return vb(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return vb(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function _b(n){return Nf(JSON.stringify({version:2,heartbeats:n})).length}function XD(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WD(n){Da(new Ps("platform-logger",e=>new uD(e),"PRIVATE")),Da(new Ps("heartbeat",e=>new KD(e),"PRIVATE")),ei(sg,mb,n),ei(sg,mb,"esm2017"),ei("fire-js","")}WD("");function tv(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(n);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(n,i[a])&&(t[i[a]]=n[i[a]]);return t}function ZA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ZD=ZA,JA=new gc("auth","Firebase",ZA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pf=new Zg("@firebase/auth");function JD(n,...e){Pf.logLevel<=je.WARN&&Pf.warn(`Auth (${Ua}): ${n}`,...e)}function gf(n,...e){Pf.logLevel<=je.ERROR&&Pf.error(`Auth (${Ua}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ir(n,...e){throw nv(n,...e)}function ti(n,...e){return nv(n,...e)}function eS(n,e,t){const i=Object.assign(Object.assign({},ZD()),{[e]:t});return new gc("auth","Firebase",i).create(e,{appName:n.name})}function xs(n){return eS(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function nv(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return JA.create(n,...e)}function Se(n,e,...t){if(!n)throw nv(e,...t)}function Mi(n){const e="INTERNAL ASSERTION FAILED: "+n;throw gf(e),new Error(e)}function Fi(n,e){n||Mi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lg(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function e2(){return Eb()==="http:"||Eb()==="https:"}function Eb(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(e2()||NN()||"connection"in navigator)?navigator.onLine:!0}function n2(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(e,t){this.shortDelay=e,this.longDelay=t,Fi(t>e,"Short delay should be less than long delay!"),this.isMobile=IN()||DN()}get(){return t2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rv(n,e){Fi(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Mi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Mi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Mi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],s2=new yc(3e4,6e4);function ja(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function qs(n,e,t,i,a={}){return nS(n,a,async()=>{let l={},c={};i&&(e==="GET"?c=i:l={body:JSON.stringify(i)});const d=vc(Object.assign({key:n.config.apiKey},c)).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const g=Object.assign({method:e,headers:p},l);return ON()||(g.referrerPolicy="no-referrer"),n.emulatorConfig&&fl(n.emulatorConfig.host)&&(g.credentials="include"),tS.fetch()(await rS(n,n.config.apiHost,t,d),g)})}async function nS(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},r2),e);try{const a=new o2(n),l=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw ef(n,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[p,g]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw ef(n,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw ef(n,"email-already-in-use",c);if(p==="USER_DISABLED")throw ef(n,"user-disabled",c);const v=i[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw eS(n,v,g);Ir(n,v)}}catch(a){if(a instanceof ui)throw a;Ir(n,"network-request-failed",{message:String(a)})}}async function ad(n,e,t,i,a={}){const l=await qs(n,e,t,i,a);return"mfaPendingCredential"in l&&Ir(n,"multi-factor-auth-required",{_serverResponse:l}),l}async function rS(n,e,t,i){const a=`${e}${t}?${i}`,l=n,c=l.config.emulator?rv(n.config,a):`${n.config.apiScheme}://${a}`;return i2.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function a2(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class o2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(ti(this.auth,"network-request-failed")),s2.get())})}}function ef(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const a=ti(n,e,i);return a.customData._tokenResponse=t,a}function bb(n){return n!==void 0&&n.enterprise!==void 0}class l2{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return a2(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function u2(n,e){return qs(n,"GET","/v2/recaptchaConfig",ja(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c2(n,e){return qs(n,"POST","/v1/accounts:delete",e)}async function kf(n,e){return qs(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qu(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function h2(n,e=!1){const t=qt(n),i=await t.getIdToken(e),a=iv(i);Se(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:a,token:i,authTime:qu(zm(a.auth_time)),issuedAtTime:qu(zm(a.iat)),expirationTime:qu(zm(a.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function zm(n){return Number(n)*1e3}function iv(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return gf("JWT malformed, contained fewer than 3 sections"),null;try{const a=BA(t);return a?JSON.parse(a):(gf("Failed to decode base64 JWT payload"),null)}catch(a){return gf("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function Tb(n){const e=iv(n);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tc(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof ui&&f2(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function f2({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=qu(this.lastLoginAt),this.creationTime=qu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mf(n){var e;const t=n.auth,i=await n.getIdToken(),a=await tc(n,kf(t,{idToken:i}));Se(a==null?void 0:a.users.length,t,"internal-error");const l=a.users[0];n._notifyReloadListener(l);const c=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?iS(l.providerUserInfo):[],d=m2(n.providerData,c),p=n.isAnonymous,g=!(n.email&&l.passwordHash)&&!(d!=null&&d.length),v=p?g:!1,b={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new ug(l.createdAt,l.lastLoginAt),isAnonymous:v};Object.assign(n,b)}async function p2(n){const e=qt(n);await Mf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function m2(n,e){return[...n.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}function iS(n){return n.map(e=>{var{providerId:t}=e,i=tv(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g2(n,e){const t=await nS(n,{},async()=>{const i=vc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=n.config,c=await rS(n,a,"/v1/token",`key=${l}`),d=await n._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",tS.fetch()(c,{method:"POST",headers:d,body:i})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function v2(n,e){return qs(n,"POST","/v2/accounts:revokeToken",ja(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Tb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const t=Tb(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:a,expiresIn:l}=await g2(e,t);this.updateTokensAndExpiration(i,a,Number(l))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:a,expirationTime:l}=t,c=new Ho;return i&&(Se(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),a&&(Se(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(Se(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ho,this.toJSON())}_performRefresh(){return Mi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Es(n,e){Se(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class wr{constructor(e){var{uid:t,auth:i,stsTokenManager:a}=e,l=tv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new d2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new ug(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await tc(this,this.stsTokenManager.getToken(this.auth,e));return Se(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return h2(this,e)}reload(){return p2(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new wr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await Mf(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(hr(this.auth.app))return Promise.reject(xs(this.auth));const e=await this.getIdToken();return await tc(this,c2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,a,l,c,d,p,g,v;const b=(i=t.displayName)!==null&&i!==void 0?i:void 0,S=(a=t.email)!==null&&a!==void 0?a:void 0,O=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,C=(c=t.photoURL)!==null&&c!==void 0?c:void 0,M=(d=t.tenantId)!==null&&d!==void 0?d:void 0,P=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,B=(g=t.createdAt)!==null&&g!==void 0?g:void 0,F=(v=t.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:j,emailVerified:G,isAnonymous:X,providerData:J,stsTokenManager:x}=t;Se(j&&x,e,"internal-error");const R=Ho.fromJSON(this.name,x);Se(typeof j=="string",e,"internal-error"),Es(b,e.name),Es(S,e.name),Se(typeof G=="boolean",e,"internal-error"),Se(typeof X=="boolean",e,"internal-error"),Es(O,e.name),Es(C,e.name),Es(M,e.name),Es(P,e.name),Es(B,e.name),Es(F,e.name);const I=new wr({uid:j,auth:e,email:S,emailVerified:G,displayName:b,isAnonymous:X,photoURL:C,phoneNumber:O,tenantId:M,stsTokenManager:R,createdAt:B,lastLoginAt:F});return J&&Array.isArray(J)&&(I.providerData=J.map(N=>Object.assign({},N))),P&&(I._redirectEventId=P),I}static async _fromIdTokenResponse(e,t,i=!1){const a=new Ho;a.updateFromServerResponse(t);const l=new wr({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:i});return await Mf(l),l}static async _fromGetAccountInfoResponse(e,t,i){const a=t.users[0];Se(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?iS(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!(l!=null&&l.length),d=new Ho;d.updateFromIdToken(i);const p=new wr({uid:a.localId,auth:e,stsTokenManager:d,isAnonymous:c}),g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new ug(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(l!=null&&l.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ab=new Map;function Vi(n){Fi(n instanceof Function,"Expected a class definition");let e=Ab.get(n);return e?(Fi(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Ab.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}sS.type="NONE";const Sb=sS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vf(n,e,t){return`firebase:${n}:${e}:${t}`}class Go{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:a,name:l}=this.auth;this.fullUserKey=vf(this.userKey,a.apiKey,l),this.fullPersistenceKey=vf("persistence",a.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await kf(this.auth,{idToken:e}).catch(()=>{});return t?wr._fromGetAccountInfoResponse(this.auth,t,e):null}return wr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new Go(Vi(Sb),e,i);const a=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=a[0]||Vi(Sb);const c=vf(i,e.config.apiKey,e.name);let d=null;for(const g of t)try{const v=await g._get(c);if(v){let b;if(typeof v=="string"){const S=await kf(e,{idToken:v}).catch(()=>{});if(!S)break;b=await wr._fromGetAccountInfoResponse(e,S,v)}else b=wr._fromJSON(e,v);g!==l&&(d=b),l=g;break}}catch{}const p=a.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new Go(l,e,i):(l=p[0],d&&await l._set(c,d.toJSON()),await Promise.all(t.map(async g=>{if(g!==l)try{await g._remove(c)}catch{}})),new Go(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wb(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(uS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(aS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(hS(e))return"Blackberry";if(fS(e))return"Webos";if(oS(e))return"Safari";if((e.includes("chrome/")||lS(e))&&!e.includes("edge/"))return"Chrome";if(cS(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function aS(n=En()){return/firefox\//i.test(n)}function oS(n=En()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function lS(n=En()){return/crios\//i.test(n)}function uS(n=En()){return/iemobile/i.test(n)}function cS(n=En()){return/android/i.test(n)}function hS(n=En()){return/blackberry/i.test(n)}function fS(n=En()){return/webos/i.test(n)}function sv(n=En()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function y2(n=En()){var e;return sv(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function _2(){return PN()&&document.documentMode===10}function dS(n=En()){return sv(n)||cS(n)||fS(n)||hS(n)||/windows phone/i.test(n)||uS(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pS(n,e=[]){let t;switch(n){case"Browser":t=wb(En());break;case"Worker":t=`${wb(En())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ua}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=l=>new Promise((c,d)=>{try{const p=e(l);c(p)}catch(p){d(p)}});i.onAbort=t,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b2(n,e={}){return qs(n,"GET","/v2/passwordPolicy",ja(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T2=6;class A2{constructor(e){var t,i,a,l;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=c.minPasswordLength)!==null&&t!==void 0?t:T2,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,a,l,c,d;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(i=p.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),p.isValid&&(p.isValid=(a=p.containsLowercaseLetter)!==null&&a!==void 0?a:!0),p.isValid&&(p.isValid=(l=p.containsUppercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(c=p.containsNumericCharacter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(d=p.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),p}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let a=0;a<e.length;a++)i=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2{constructor(e,t,i,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Rb(this),this.idTokenSubscription=new Rb(this),this.beforeStateQueue=new E2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=JA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Vi(t)),this._initializationPromise=this.queue(async()=>{var i,a,l;if(!this._deleted&&(this.persistenceManager=await Go.create(this,e),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await kf(this,{idToken:e}),i=await wr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(hr(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=a==null?void 0:a._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===d)&&(p!=null&&p.user)&&(a=p.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Mf(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=n2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(hr(this.app))return Promise.reject(xs(this));const t=e?qt(e):null;return t&&Se(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return hr(this.app)?Promise.reject(xs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return hr(this.app)?Promise.reject(xs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Vi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await b2(this),t=new A2(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new gc("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await v2(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Vi(e)||this._popupRedirectResolver;Se(t,this,"argument-error"),this.redirectPersistenceManager=await Go.create(this,[Vi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,a){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,i,a);return()=>{c=!0,p()}}else{const p=e.addObserver(t);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=pS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){var e;if(hr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&JD(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function dl(n){return qt(n)}class Rb{constructor(e){this.auth=e,this.observer=null,this.addObserver=BN(t=>this.observer=t)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let od={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function w2(n){od=n}function mS(n){return od.loadJS(n)}function R2(){return od.recaptchaEnterpriseScript}function C2(){return od.gapiScript}function I2(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class x2{constructor(){this.enterprise=new O2}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class O2{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const N2="recaptcha-enterprise",gS="NO_RECAPTCHA";class D2{constructor(e){this.type=N2,this.auth=dl(e)}async verify(e="verify",t=!1){async function i(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,d)=>{u2(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const g=new l2(p);return l.tenantId==null?l._agentRecaptchaConfig=g:l._tenantRecaptchaConfigs[l.tenantId]=g,c(g.siteKey)}}).catch(p=>{d(p)})})}function a(l,c,d){const p=window.grecaptcha;bb(p)?p.enterprise.ready(()=>{p.enterprise.execute(l,{action:e}).then(g=>{c(g)}).catch(()=>{c(gS)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new x2().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{i(this.auth).then(d=>{if(!t&&bb(window.grecaptcha))a(d,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let p=R2();p.length!==0&&(p+=d),mS(p).then(()=>{a(d,l,c)}).catch(g=>{c(g)})}}).catch(d=>{c(d)})})}}async function Cb(n,e,t,i=!1,a=!1){const l=new D2(n);let c;if(a)c=gS;else try{c=await l.verify(t)}catch{c=await l.verify(t,!0)}const d=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const p=d.phoneEnrollmentInfo.phoneNumber,g=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const p=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return i?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function Ib(n,e,t,i,a){var l;if(!((l=n._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await Cb(n,e,t,t==="getOobCode");return i(n,c)}else return i(n,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await Cb(n,e,t,t==="getOobCode");return i(n,d)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P2(n,e){const t=sd(n,"auth");if(t.isInitialized()){const a=t.getImmediate(),l=t.getOptions();if(Na(l,e??{}))return a;Ir(a,"already-initialized")}return t.initialize({options:e})}function k2(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(Vi);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function M2(n,e,t){const i=dl(n);Se(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const a=!1,l=vS(e),{host:c,port:d}=V2(e),p=d===null?"":`:${d}`,g={url:`${l}//${c}${p}/`},v=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){Se(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Se(Na(g,i.config.emulator)&&Na(v,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=g,i.emulatorConfig=v,i.settings.appVerificationDisabledForTesting=!0,L2(),fl(c)&&Wg(`${l}//${c}${p}`)}function vS(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function V2(n){const e=vS(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const l=a[1];return{host:l,port:xb(i.substr(l.length+1))}}else{const[l,c]=i.split(":");return{host:l,port:xb(c)}}}function xb(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function L2(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Mi("not implemented")}_getIdTokenResponse(e){return Mi("not implemented")}_linkToIdToken(e,t){return Mi("not implemented")}_getReauthenticationResolver(e){return Mi("not implemented")}}async function U2(n,e){return qs(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j2(n,e){return ad(n,"POST","/v1/accounts:signInWithPassword",ja(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z2(n,e){return ad(n,"POST","/v1/accounts:signInWithEmailLink",ja(n,e))}async function B2(n,e){return ad(n,"POST","/v1/accounts:signInWithEmailLink",ja(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc extends av{constructor(e,t,i,a=null){super("password",i),this._email=e,this._password=t,this._tenantId=a}static _fromEmailAndPassword(e,t){return new nc(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new nc(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ib(e,t,"signInWithPassword",j2);case"emailLink":return z2(e,{email:this._email,oobCode:this._password});default:Ir(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ib(e,i,"signUpPassword",U2);case"emailLink":return B2(e,{idToken:t,email:this._email,oobCode:this._password});default:Ir(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $o(n,e){return ad(n,"POST","/v1/accounts:signInWithIdp",ja(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q2="http://localhost";class Pa extends av{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Pa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ir("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:a}=t,l=tv(t,["providerId","signInMethod"]);if(!i||!a)return null;const c=new Pa(i,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return $o(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,$o(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,$o(e,t)}buildRequest(){const e={requestUri:q2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=vc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F2(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function H2(n){const e=ku(Mu(n)).link,t=e?ku(Mu(e)).deep_link_id:null,i=ku(Mu(n)).deep_link_id;return(i?ku(Mu(i)).link:null)||i||t||e||n}class ov{constructor(e){var t,i,a,l,c,d;const p=ku(Mu(e)),g=(t=p.apiKey)!==null&&t!==void 0?t:null,v=(i=p.oobCode)!==null&&i!==void 0?i:null,b=F2((a=p.mode)!==null&&a!==void 0?a:null);Se(g&&v&&b,"argument-error"),this.apiKey=g,this.operation=b,this.code=v,this.continueUrl=(l=p.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(c=p.lang)!==null&&c!==void 0?c:null,this.tenantId=(d=p.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const t=H2(e);try{return new ov(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(){this.providerId=pl.PROVIDER_ID}static credential(e,t){return nc._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=ov.parseLink(t);return Se(i,"argument-error"),nc._fromEmailAndCode(e,i.code,i.tenantId)}}pl.PROVIDER_ID="password";pl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";pl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c extends yS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs extends _c{constructor(){super("facebook.com")}static credential(e){return Pa._fromParams({providerId:bs.PROVIDER_ID,signInMethod:bs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return bs.credentialFromTaggedObject(e)}static credentialFromError(e){return bs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return bs.credential(e.oauthAccessToken)}catch{return null}}}bs.FACEBOOK_SIGN_IN_METHOD="facebook.com";bs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts extends _c{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Pa._fromParams({providerId:Ts.PROVIDER_ID,signInMethod:Ts.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ts.credentialFromTaggedObject(e)}static credentialFromError(e){return Ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return Ts.credential(t,i)}catch{return null}}}Ts.GOOGLE_SIGN_IN_METHOD="google.com";Ts.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As extends _c{constructor(){super("github.com")}static credential(e){return Pa._fromParams({providerId:As.PROVIDER_ID,signInMethod:As.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return As.credentialFromTaggedObject(e)}static credentialFromError(e){return As.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return As.credential(e.oauthAccessToken)}catch{return null}}}As.GITHUB_SIGN_IN_METHOD="github.com";As.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss extends _c{constructor(){super("twitter.com")}static credential(e,t){return Pa._fromParams({providerId:Ss.PROVIDER_ID,signInMethod:Ss.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ss.credentialFromTaggedObject(e)}static credentialFromError(e){return Ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return Ss.credential(t,i)}catch{return null}}}Ss.TWITTER_SIGN_IN_METHOD="twitter.com";Ss.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,a=!1){const l=await wr._fromIdTokenResponse(e,i,a),c=Ob(i);return new Jo({user:l,providerId:c,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const a=Ob(i);return new Jo({user:e,providerId:a,_tokenResponse:i,operationType:t})}}function Ob(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf extends ui{constructor(e,t,i,a){var l;super(t.code,t.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,Vf.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,a){return new Vf(e,t,i,a)}}function _S(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Vf._fromErrorAndOperation(n,l,e,i):l})}async function G2(n,e,t=!1){const i=await tc(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Jo._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $2(n,e,t=!1){const{auth:i}=n;if(hr(i.app))return Promise.reject(xs(i));const a="reauthenticate";try{const l=await tc(n,_S(i,a,e,n),t);Se(l.idToken,i,"internal-error");const c=iv(l.idToken);Se(c,i,"internal-error");const{sub:d}=c;return Se(n.uid===d,i,"user-mismatch"),Jo._forOperation(n,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&Ir(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ES(n,e,t=!1){if(hr(n.app))return Promise.reject(xs(n));const i="signIn",a=await _S(n,i,e),l=await Jo._fromIdTokenResponse(n,i,a);return t||await n._updateCurrentUser(l.user),l}async function K2(n,e){return ES(dl(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y2(n){const e=dl(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function Q2(n,e,t){return hr(n.app)?Promise.reject(xs(n)):K2(qt(n),pl.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&Y2(n),i})}function X2(n,e,t,i){return qt(n).onIdTokenChanged(e,t,i)}function W2(n,e,t){return qt(n).beforeAuthStateChanged(e,t)}function Z2(n,e,t,i){return qt(n).onAuthStateChanged(e,t,i)}function J2(n){return qt(n).signOut()}const Lf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Lf,"1"),this.storage.removeItem(Lf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eP=1e3,tP=10;class TS extends bS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=dS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),a=this.localCache[t];i!==a&&e(t,a,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,d,p)=>{this.notifyListeners(c,p)});return}const i=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(i);!t&&this.localCache[i]===c||this.notifyListeners(i,c)},l=this.storage.getItem(i);_2()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,tP):a()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},eP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}TS.type="LOCAL";const nP=TS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS extends bS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}AS.type="SESSION";const SS=AS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rP(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const i=new ld(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:a,data:l}=t.data,c=this.handlersMap[a];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const d=Array.from(c).map(async g=>g(t.origin,l)),p=await rP(d);t.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ld.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lv(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iP{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((d,p)=>{const g=lv("",20);a.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},i);c={messageChannel:a,onMessage(b){const S=b;if(S.data.eventId===g)switch(S.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(S.data.response);break;default:clearTimeout(v),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ni(){return window}function sP(n){ni().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wS(){return typeof ni().WorkerGlobalScope<"u"&&typeof ni().importScripts=="function"}async function aP(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function oP(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function lP(){return wS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RS="firebaseLocalStorageDb",uP=1,Uf="firebaseLocalStorage",CS="fbase_key";class Ec{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function ud(n,e){return n.transaction([Uf],e?"readwrite":"readonly").objectStore(Uf)}function cP(){const n=indexedDB.deleteDatabase(RS);return new Ec(n).toPromise()}function cg(){const n=indexedDB.open(RS,uP);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Uf,{keyPath:CS})}catch(a){t(a)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Uf)?e(i):(i.close(),await cP(),e(await cg()))})})}async function Nb(n,e,t){const i=ud(n,!0).put({[CS]:e,value:t});return new Ec(i).toPromise()}async function hP(n,e){const t=ud(n,!1).get(e),i=await new Ec(t).toPromise();return i===void 0?null:i.value}function Db(n,e){const t=ud(n,!0).delete(e);return new Ec(t).toPromise()}const fP=800,dP=3;class IS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await cg(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>dP)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return wS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ld._getInstance(lP()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await aP(),!this.activeServiceWorker)return;this.sender=new iP(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||oP()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await cg();return await Nb(e,Lf,"1"),await Db(e,Lf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Nb(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>hP(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Db(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=ud(a,!1).getAll();return new Ec(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),fP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}IS.type="LOCAL";const pP=IS;new yc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mP(n,e){return e?Vi(e):(Se(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uv extends av{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return $o(e,this._buildIdpRequest())}_linkToIdToken(e,t){return $o(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return $o(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function gP(n){return ES(n.auth,new uv(n),n.bypassAuthState)}function vP(n){const{auth:e,user:t}=n;return Se(t,e,"internal-error"),$2(t,new uv(n),n.bypassAuthState)}async function yP(n){const{auth:e,user:t}=n;return Se(t,e,"internal-error"),G2(t,new uv(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(e,t,i,a,l=!1){this.auth=e,this.resolver=i,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:a,tenantId:l,error:c,type:d}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:t,sessionId:i,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return gP;case"linkViaPopup":case"linkViaRedirect":return yP;case"reauthViaPopup":case"reauthViaRedirect":return vP;default:Ir(this.auth,"internal-error")}}resolve(e){Fi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Fi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _P=new yc(2e3,1e4);class qo extends xS{constructor(e,t,i,a,l){super(e,t,a,l),this.provider=i,this.authWindow=null,this.pollId=null,qo.currentPopupAction&&qo.currentPopupAction.cancel(),qo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){Fi(this.filter.length===1,"Popup operations only handle one event");const e=lv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(ti(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ti(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,qo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ti(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,_P.get())};e()}}qo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EP="pendingRedirect",yf=new Map;class bP extends xS{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=yf.get(this.auth._key());if(!e){try{const i=await TP(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}yf.set(this.auth._key(),e)}return this.bypassAuthState||yf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function TP(n,e){const t=wP(e),i=SP(n);if(!await i._isAvailable())return!1;const a=await i._get(t)==="true";return await i._remove(t),a}function AP(n,e){yf.set(n._key(),e)}function SP(n){return Vi(n._redirectPersistence)}function wP(n){return vf(EP,n.config.apiKey,n.name)}async function RP(n,e,t=!1){if(hr(n.app))return Promise.reject(xs(n));const i=dl(n),a=mP(i,e),c=await new bP(i,a,t).execute();return c&&!t&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CP=10*60*1e3;class IP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!xP(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!OS(e)){const a=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(ti(this.auth,a))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=CP&&this.cachedEventUids.clear(),this.cachedEventUids.has(Pb(e))}saveEventToCache(e){this.cachedEventUids.add(Pb(e)),this.lastProcessedEventTime=Date.now()}}function Pb(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function OS({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function xP(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return OS(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OP(n,e={}){return qs(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,DP=/^https?/;async function PP(n){if(n.config.emulator)return;const{authorizedDomains:e}=await OP(n);for(const t of e)try{if(kP(t))return}catch{}Ir(n,"unauthorized-domain")}function kP(n){const e=lg(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===i}if(!DP.test(t))return!1;if(NP.test(n))return i===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MP=new yc(3e4,6e4);function kb(){const n=ni().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function VP(n){return new Promise((e,t)=>{var i,a,l;function c(){kb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{kb(),t(ti(n,"network-request-failed"))},timeout:MP.get()})}if(!((a=(i=ni().gapi)===null||i===void 0?void 0:i.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((l=ni().gapi)===null||l===void 0)&&l.load)c();else{const d=I2("iframefcb");return ni()[d]=()=>{gapi.load?c():t(ti(n,"network-request-failed"))},mS(`${C2()}?onload=${d}`).catch(p=>t(p))}}).catch(e=>{throw _f=null,e})}let _f=null;function LP(n){return _f=_f||VP(n),_f}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UP=new yc(5e3,15e3),jP="__/auth/iframe",zP="emulator/auth/iframe",BP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},qP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function FP(n){const e=n.config;Se(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?rv(e,zP):`https://${n.config.authDomain}/${jP}`,i={apiKey:e.apiKey,appName:n.name,v:Ua},a=qP.get(n.config.apiHost);a&&(i.eid=a);const l=n._getFrameworks();return l.length&&(i.fw=l.join(",")),`${t}?${vc(i).slice(1)}`}async function HP(n){const e=await LP(n),t=ni().gapi;return Se(t,n,"internal-error"),e.open({where:document.body,url:FP(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:BP,dontclear:!0},i=>new Promise(async(a,l)=>{await i.restyle({setHideOnLeave:!1});const c=ti(n,"network-request-failed"),d=ni().setTimeout(()=>{l(c)},UP.get());function p(){ni().clearTimeout(d),a(i)}i.ping(p).then(p,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},$P=500,KP=600,YP="_blank",QP="http://localhost";class Mb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function XP(n,e,t,i=$P,a=KP){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let d="";const p=Object.assign(Object.assign({},GP),{width:i.toString(),height:a.toString(),top:l,left:c}),g=En().toLowerCase();t&&(d=lS(g)?YP:t),aS(g)&&(e=e||QP,p.scrollbars="yes");const v=Object.entries(p).reduce((S,[O,C])=>`${S}${O}=${C},`,"");if(y2(g)&&d!=="_self")return WP(e||"",d),new Mb(null);const b=window.open(e||"",d,v);Se(b,n,"popup-blocked");try{b.focus()}catch{}return new Mb(b)}function WP(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZP="__/auth/handler",JP="emulator/auth/handler",ek=encodeURIComponent("fac");async function Vb(n,e,t,i,a,l){Se(n.config.authDomain,n,"auth-domain-config-required"),Se(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:Ua,eventId:a};if(e instanceof yS){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",zN(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,b]of Object.entries({}))c[v]=b}if(e instanceof _c){const v=e.getScopes().filter(b=>b!=="");v.length>0&&(c.scopes=v.join(","))}n.tenantId&&(c.tid=n.tenantId);const d=c;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const p=await n._getAppCheckToken(),g=p?`#${ek}=${encodeURIComponent(p)}`:"";return`${tk(n)}?${vc(d).slice(1)}${g}`}function tk({config:n}){return n.emulator?rv(n,JP):`https://${n.authDomain}/${ZP}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bm="webStorageSupport";class nk{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=SS,this._completeRedirectFn=RP,this._overrideRedirectResult=AP}async _openPopup(e,t,i,a){var l;Fi((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const c=await Vb(e,t,i,lg(),a);return XP(e,c,lv())}async _openRedirect(e,t,i,a){await this._originValidation(e);const l=await Vb(e,t,i,lg(),a);return sP(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:l}=this.eventManagers[t];return a?Promise.resolve(a):(Fi(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await HP(e),i=new IP(e);return t.register("authEvent",a=>(Se(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Bm,{type:Bm},a=>{var l;const c=(l=a==null?void 0:a[0])===null||l===void 0?void 0:l[Bm];c!==void 0&&t(!!c),Ir(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=PP(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return dS()||oS()||sv()}}const rk=nk;var Lb="@firebase/auth",Ub="1.10.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ik{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sk(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function ak(n){Da(new Ps("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=i.options;Se(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const p={apiKey:c,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:pS(n)},g=new S2(i,a,l,p);return k2(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Da(new Ps("auth-internal",e=>{const t=dl(e.getProvider("auth").getImmediate());return(i=>new ik(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ei(Lb,Ub,sk(n)),ei(Lb,Ub,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ok=5*60,lk=GA("authIdTokenMaxAge")||ok;let jb=null;const uk=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>lk)return;const a=t==null?void 0:t.token;jb!==a&&(jb=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function ck(n=ev()){const e=sd(n,"auth");if(e.isInitialized())return e.getImmediate();const t=P2(n,{popupRedirectResolver:rk,persistence:[pP,nP,SS]}),i=GA("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const c=uk(l.toString());W2(t,c,()=>c(t.currentUser)),X2(t,d=>c(d))}}const a=qA("auth");return a&&M2(t,`http://${a}`),t}function hk(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}w2({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=a=>{const l=ti("internal-error");l.customData=a,t(l)},i.type="text/javascript",i.charset="UTF-8",hk().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});ak("Browser");/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function fk(n,e,t,i){function a(l){return l instanceof t?l:new t(function(c){c(l)})}return new(t||(t=Promise))(function(l,c){function d(v){try{g(i.next(v))}catch(b){c(b)}}function p(v){try{g(i.throw(v))}catch(b){c(b)}}function g(v){v.done?l(v.value):a(v.value).then(d,p)}g((i=i.apply(n,[])).next())})}function dk(n,e){var t={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},i,a,l,c;return c={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function d(g){return function(v){return p([g,v])}}function p(g){if(i)throw new TypeError("Generator is already executing.");for(;t;)try{if(i=1,a&&(l=g[0]&2?a.return:g[0]?a.throw||((l=a.return)&&l.call(a),0):a.next)&&!(l=l.call(a,g[1])).done)return l;switch(a=0,l&&(g=[g[0]&2,l.value]),g[0]){case 0:case 1:l=g;break;case 4:return t.label++,{value:g[1],done:!1};case 5:t.label++,a=g[1],g=[0];continue;case 7:g=t.ops.pop(),t.trys.pop();continue;default:if(l=t.trys,!(l=l.length>0&&l[l.length-1])&&(g[0]===6||g[0]===2)){t=0;continue}if(g[0]===3&&(!l||g[1]>l[0]&&g[1]<l[3])){t.label=g[1];break}if(g[0]===6&&t.label<l[1]){t.label=l[1],l=g;break}if(l&&t.label<l[2]){t.label=l[2],t.ops.push(g);break}l[2]&&t.ops.pop(),t.trys.pop();continue}g=e.call(n,t)}catch(v){g=[6,v],a=0}finally{i=l=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Fo=function(){return Fo=Object.assign||function(e){for(var t,i=1,a=arguments.length;i<a;i++){t=arguments[i];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l])}return e},Fo.apply(this,arguments)},NS=function(n){return{loading:n==null,value:n}},pk=function(){return function(n,e){switch(e.type){case"error":return Fo(Fo({},n),{error:e.error,loading:!1,value:void 0});case"reset":return NS(e.defaultValue);case"value":return Fo(Fo({},n),{error:void 0,loading:!1,value:e.value});default:return n}}},mk=function(n){var e=n?n():void 0,t=H.useReducer(pk(),NS(e)),i=t[0],a=t[1],l=H.useCallback(function(){var p=n?n():void 0;a({type:"reset",defaultValue:p})},[n]),c=H.useCallback(function(p){a({type:"error",error:p})},[]),d=H.useCallback(function(p){a({type:"value",value:p})},[]);return H.useMemo(function(){return{error:i.error,loading:i.loading,reset:l,setError:c,setValue:d,value:i.value}},[i.error,i.loading,l,c,d,i.value])},cv=function(n,e){var t=mk(function(){return n.currentUser}),i=t.error,a=t.loading,l=t.setError,c=t.setValue,d=t.value;return H.useEffect(function(){var p=Z2(n,function(g){return fk(void 0,void 0,void 0,function(){var v;return dk(this,function(b){switch(b.label){case 0:return[3,4];case 1:return b.trys.push([1,3,,4]),[4,e.onUserChanged(g)];case 2:return b.sent(),[3,4];case 3:return v=b.sent(),l(v),[3,4];case 4:return c(g),[2]}})})},l);return function(){p()}},[n]),[d,a,i]},gk="firebase",vk="11.7.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ei(gk,vk,"app");var zb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Os,DS;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,R){function I(){}I.prototype=R.prototype,x.D=R.prototype,x.prototype=new I,x.prototype.constructor=x,x.C=function(N,V,U){for(var D=Array(arguments.length-2),ve=2;ve<arguments.length;ve++)D[ve-2]=arguments[ve];return R.prototype[V].apply(N,D)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(x,R,I){I||(I=0);var N=Array(16);if(typeof R=="string")for(var V=0;16>V;++V)N[V]=R.charCodeAt(I++)|R.charCodeAt(I++)<<8|R.charCodeAt(I++)<<16|R.charCodeAt(I++)<<24;else for(V=0;16>V;++V)N[V]=R[I++]|R[I++]<<8|R[I++]<<16|R[I++]<<24;R=x.g[0],I=x.g[1],V=x.g[2];var U=x.g[3],D=R+(U^I&(V^U))+N[0]+3614090360&4294967295;R=I+(D<<7&4294967295|D>>>25),D=U+(V^R&(I^V))+N[1]+3905402710&4294967295,U=R+(D<<12&4294967295|D>>>20),D=V+(I^U&(R^I))+N[2]+606105819&4294967295,V=U+(D<<17&4294967295|D>>>15),D=I+(R^V&(U^R))+N[3]+3250441966&4294967295,I=V+(D<<22&4294967295|D>>>10),D=R+(U^I&(V^U))+N[4]+4118548399&4294967295,R=I+(D<<7&4294967295|D>>>25),D=U+(V^R&(I^V))+N[5]+1200080426&4294967295,U=R+(D<<12&4294967295|D>>>20),D=V+(I^U&(R^I))+N[6]+2821735955&4294967295,V=U+(D<<17&4294967295|D>>>15),D=I+(R^V&(U^R))+N[7]+4249261313&4294967295,I=V+(D<<22&4294967295|D>>>10),D=R+(U^I&(V^U))+N[8]+1770035416&4294967295,R=I+(D<<7&4294967295|D>>>25),D=U+(V^R&(I^V))+N[9]+2336552879&4294967295,U=R+(D<<12&4294967295|D>>>20),D=V+(I^U&(R^I))+N[10]+4294925233&4294967295,V=U+(D<<17&4294967295|D>>>15),D=I+(R^V&(U^R))+N[11]+2304563134&4294967295,I=V+(D<<22&4294967295|D>>>10),D=R+(U^I&(V^U))+N[12]+1804603682&4294967295,R=I+(D<<7&4294967295|D>>>25),D=U+(V^R&(I^V))+N[13]+4254626195&4294967295,U=R+(D<<12&4294967295|D>>>20),D=V+(I^U&(R^I))+N[14]+2792965006&4294967295,V=U+(D<<17&4294967295|D>>>15),D=I+(R^V&(U^R))+N[15]+1236535329&4294967295,I=V+(D<<22&4294967295|D>>>10),D=R+(V^U&(I^V))+N[1]+4129170786&4294967295,R=I+(D<<5&4294967295|D>>>27),D=U+(I^V&(R^I))+N[6]+3225465664&4294967295,U=R+(D<<9&4294967295|D>>>23),D=V+(R^I&(U^R))+N[11]+643717713&4294967295,V=U+(D<<14&4294967295|D>>>18),D=I+(U^R&(V^U))+N[0]+3921069994&4294967295,I=V+(D<<20&4294967295|D>>>12),D=R+(V^U&(I^V))+N[5]+3593408605&4294967295,R=I+(D<<5&4294967295|D>>>27),D=U+(I^V&(R^I))+N[10]+38016083&4294967295,U=R+(D<<9&4294967295|D>>>23),D=V+(R^I&(U^R))+N[15]+3634488961&4294967295,V=U+(D<<14&4294967295|D>>>18),D=I+(U^R&(V^U))+N[4]+3889429448&4294967295,I=V+(D<<20&4294967295|D>>>12),D=R+(V^U&(I^V))+N[9]+568446438&4294967295,R=I+(D<<5&4294967295|D>>>27),D=U+(I^V&(R^I))+N[14]+3275163606&4294967295,U=R+(D<<9&4294967295|D>>>23),D=V+(R^I&(U^R))+N[3]+4107603335&4294967295,V=U+(D<<14&4294967295|D>>>18),D=I+(U^R&(V^U))+N[8]+1163531501&4294967295,I=V+(D<<20&4294967295|D>>>12),D=R+(V^U&(I^V))+N[13]+2850285829&4294967295,R=I+(D<<5&4294967295|D>>>27),D=U+(I^V&(R^I))+N[2]+4243563512&4294967295,U=R+(D<<9&4294967295|D>>>23),D=V+(R^I&(U^R))+N[7]+1735328473&4294967295,V=U+(D<<14&4294967295|D>>>18),D=I+(U^R&(V^U))+N[12]+2368359562&4294967295,I=V+(D<<20&4294967295|D>>>12),D=R+(I^V^U)+N[5]+4294588738&4294967295,R=I+(D<<4&4294967295|D>>>28),D=U+(R^I^V)+N[8]+2272392833&4294967295,U=R+(D<<11&4294967295|D>>>21),D=V+(U^R^I)+N[11]+1839030562&4294967295,V=U+(D<<16&4294967295|D>>>16),D=I+(V^U^R)+N[14]+4259657740&4294967295,I=V+(D<<23&4294967295|D>>>9),D=R+(I^V^U)+N[1]+2763975236&4294967295,R=I+(D<<4&4294967295|D>>>28),D=U+(R^I^V)+N[4]+1272893353&4294967295,U=R+(D<<11&4294967295|D>>>21),D=V+(U^R^I)+N[7]+4139469664&4294967295,V=U+(D<<16&4294967295|D>>>16),D=I+(V^U^R)+N[10]+3200236656&4294967295,I=V+(D<<23&4294967295|D>>>9),D=R+(I^V^U)+N[13]+681279174&4294967295,R=I+(D<<4&4294967295|D>>>28),D=U+(R^I^V)+N[0]+3936430074&4294967295,U=R+(D<<11&4294967295|D>>>21),D=V+(U^R^I)+N[3]+3572445317&4294967295,V=U+(D<<16&4294967295|D>>>16),D=I+(V^U^R)+N[6]+76029189&4294967295,I=V+(D<<23&4294967295|D>>>9),D=R+(I^V^U)+N[9]+3654602809&4294967295,R=I+(D<<4&4294967295|D>>>28),D=U+(R^I^V)+N[12]+3873151461&4294967295,U=R+(D<<11&4294967295|D>>>21),D=V+(U^R^I)+N[15]+530742520&4294967295,V=U+(D<<16&4294967295|D>>>16),D=I+(V^U^R)+N[2]+3299628645&4294967295,I=V+(D<<23&4294967295|D>>>9),D=R+(V^(I|~U))+N[0]+4096336452&4294967295,R=I+(D<<6&4294967295|D>>>26),D=U+(I^(R|~V))+N[7]+1126891415&4294967295,U=R+(D<<10&4294967295|D>>>22),D=V+(R^(U|~I))+N[14]+2878612391&4294967295,V=U+(D<<15&4294967295|D>>>17),D=I+(U^(V|~R))+N[5]+4237533241&4294967295,I=V+(D<<21&4294967295|D>>>11),D=R+(V^(I|~U))+N[12]+1700485571&4294967295,R=I+(D<<6&4294967295|D>>>26),D=U+(I^(R|~V))+N[3]+2399980690&4294967295,U=R+(D<<10&4294967295|D>>>22),D=V+(R^(U|~I))+N[10]+4293915773&4294967295,V=U+(D<<15&4294967295|D>>>17),D=I+(U^(V|~R))+N[1]+2240044497&4294967295,I=V+(D<<21&4294967295|D>>>11),D=R+(V^(I|~U))+N[8]+1873313359&4294967295,R=I+(D<<6&4294967295|D>>>26),D=U+(I^(R|~V))+N[15]+4264355552&4294967295,U=R+(D<<10&4294967295|D>>>22),D=V+(R^(U|~I))+N[6]+2734768916&4294967295,V=U+(D<<15&4294967295|D>>>17),D=I+(U^(V|~R))+N[13]+1309151649&4294967295,I=V+(D<<21&4294967295|D>>>11),D=R+(V^(I|~U))+N[4]+4149444226&4294967295,R=I+(D<<6&4294967295|D>>>26),D=U+(I^(R|~V))+N[11]+3174756917&4294967295,U=R+(D<<10&4294967295|D>>>22),D=V+(R^(U|~I))+N[2]+718787259&4294967295,V=U+(D<<15&4294967295|D>>>17),D=I+(U^(V|~R))+N[9]+3951481745&4294967295,x.g[0]=x.g[0]+R&4294967295,x.g[1]=x.g[1]+(V+(D<<21&4294967295|D>>>11))&4294967295,x.g[2]=x.g[2]+V&4294967295,x.g[3]=x.g[3]+U&4294967295}i.prototype.u=function(x,R){R===void 0&&(R=x.length);for(var I=R-this.blockSize,N=this.B,V=this.h,U=0;U<R;){if(V==0)for(;U<=I;)a(this,x,U),U+=this.blockSize;if(typeof x=="string"){for(;U<R;)if(N[V++]=x.charCodeAt(U++),V==this.blockSize){a(this,N),V=0;break}}else for(;U<R;)if(N[V++]=x[U++],V==this.blockSize){a(this,N),V=0;break}}this.h=V,this.o+=R},i.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var R=1;R<x.length-8;++R)x[R]=0;var I=8*this.o;for(R=x.length-8;R<x.length;++R)x[R]=I&255,I/=256;for(this.u(x),x=Array(16),R=I=0;4>R;++R)for(var N=0;32>N;N+=8)x[I++]=this.g[R]>>>N&255;return x};function l(x,R){var I=d;return Object.prototype.hasOwnProperty.call(I,x)?I[x]:I[x]=R(x)}function c(x,R){this.h=R;for(var I=[],N=!0,V=x.length-1;0<=V;V--){var U=x[V]|0;N&&U==R||(I[V]=U,N=!1)}this.g=I}var d={};function p(x){return-128<=x&&128>x?l(x,function(R){return new c([R|0],0>R?-1:0)}):new c([x|0],0>x?-1:0)}function g(x){if(isNaN(x)||!isFinite(x))return b;if(0>x)return P(g(-x));for(var R=[],I=1,N=0;x>=I;N++)R[N]=x/I|0,I*=4294967296;return new c(R,0)}function v(x,R){if(x.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(x.charAt(0)=="-")return P(v(x.substring(1),R));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=g(Math.pow(R,8)),N=b,V=0;V<x.length;V+=8){var U=Math.min(8,x.length-V),D=parseInt(x.substring(V,V+U),R);8>U?(U=g(Math.pow(R,U)),N=N.j(U).add(g(D))):(N=N.j(I),N=N.add(g(D)))}return N}var b=p(0),S=p(1),O=p(16777216);n=c.prototype,n.m=function(){if(M(this))return-P(this).m();for(var x=0,R=1,I=0;I<this.g.length;I++){var N=this.i(I);x+=(0<=N?N:4294967296+N)*R,R*=4294967296}return x},n.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(C(this))return"0";if(M(this))return"-"+P(this).toString(x);for(var R=g(Math.pow(x,6)),I=this,N="";;){var V=G(I,R).g;I=B(I,V.j(R));var U=((0<I.g.length?I.g[0]:I.h)>>>0).toString(x);if(I=V,C(I))return U+N;for(;6>U.length;)U="0"+U;N=U+N}},n.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function C(x){if(x.h!=0)return!1;for(var R=0;R<x.g.length;R++)if(x.g[R]!=0)return!1;return!0}function M(x){return x.h==-1}n.l=function(x){return x=B(this,x),M(x)?-1:C(x)?0:1};function P(x){for(var R=x.g.length,I=[],N=0;N<R;N++)I[N]=~x.g[N];return new c(I,~x.h).add(S)}n.abs=function(){return M(this)?P(this):this},n.add=function(x){for(var R=Math.max(this.g.length,x.g.length),I=[],N=0,V=0;V<=R;V++){var U=N+(this.i(V)&65535)+(x.i(V)&65535),D=(U>>>16)+(this.i(V)>>>16)+(x.i(V)>>>16);N=D>>>16,U&=65535,D&=65535,I[V]=D<<16|U}return new c(I,I[I.length-1]&-2147483648?-1:0)};function B(x,R){return x.add(P(R))}n.j=function(x){if(C(this)||C(x))return b;if(M(this))return M(x)?P(this).j(P(x)):P(P(this).j(x));if(M(x))return P(this.j(P(x)));if(0>this.l(O)&&0>x.l(O))return g(this.m()*x.m());for(var R=this.g.length+x.g.length,I=[],N=0;N<2*R;N++)I[N]=0;for(N=0;N<this.g.length;N++)for(var V=0;V<x.g.length;V++){var U=this.i(N)>>>16,D=this.i(N)&65535,ve=x.i(V)>>>16,Ue=x.i(V)&65535;I[2*N+2*V]+=D*Ue,F(I,2*N+2*V),I[2*N+2*V+1]+=U*Ue,F(I,2*N+2*V+1),I[2*N+2*V+1]+=D*ve,F(I,2*N+2*V+1),I[2*N+2*V+2]+=U*ve,F(I,2*N+2*V+2)}for(N=0;N<R;N++)I[N]=I[2*N+1]<<16|I[2*N];for(N=R;N<2*R;N++)I[N]=0;return new c(I,0)};function F(x,R){for(;(x[R]&65535)!=x[R];)x[R+1]+=x[R]>>>16,x[R]&=65535,R++}function j(x,R){this.g=x,this.h=R}function G(x,R){if(C(R))throw Error("division by zero");if(C(x))return new j(b,b);if(M(x))return R=G(P(x),R),new j(P(R.g),P(R.h));if(M(R))return R=G(x,P(R)),new j(P(R.g),R.h);if(30<x.g.length){if(M(x)||M(R))throw Error("slowDivide_ only works with positive integers.");for(var I=S,N=R;0>=N.l(x);)I=X(I),N=X(N);var V=J(I,1),U=J(N,1);for(N=J(N,2),I=J(I,2);!C(N);){var D=U.add(N);0>=D.l(x)&&(V=V.add(I),U=D),N=J(N,1),I=J(I,1)}return R=B(x,V.j(R)),new j(V,R)}for(V=b;0<=x.l(R);){for(I=Math.max(1,Math.floor(x.m()/R.m())),N=Math.ceil(Math.log(I)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),U=g(I),D=U.j(R);M(D)||0<D.l(x);)I-=N,U=g(I),D=U.j(R);C(U)&&(U=S),V=V.add(U),x=B(x,D)}return new j(V,x)}n.A=function(x){return G(this,x).h},n.and=function(x){for(var R=Math.max(this.g.length,x.g.length),I=[],N=0;N<R;N++)I[N]=this.i(N)&x.i(N);return new c(I,this.h&x.h)},n.or=function(x){for(var R=Math.max(this.g.length,x.g.length),I=[],N=0;N<R;N++)I[N]=this.i(N)|x.i(N);return new c(I,this.h|x.h)},n.xor=function(x){for(var R=Math.max(this.g.length,x.g.length),I=[],N=0;N<R;N++)I[N]=this.i(N)^x.i(N);return new c(I,this.h^x.h)};function X(x){for(var R=x.g.length+1,I=[],N=0;N<R;N++)I[N]=x.i(N)<<1|x.i(N-1)>>>31;return new c(I,x.h)}function J(x,R){var I=R>>5;R%=32;for(var N=x.g.length-I,V=[],U=0;U<N;U++)V[U]=0<R?x.i(U+I)>>>R|x.i(U+I+1)<<32-R:x.i(U+I);return new c(V,x.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,DS=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=v,Os=c}).apply(typeof zb<"u"?zb:typeof self<"u"?self:typeof window<"u"?window:{});var tf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var PS,Vu,kS,Ef,hg,MS,VS,LS;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,y,_){return h==Array.prototype||h==Object.prototype||(h[y]=_.value),h};function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof tf=="object"&&tf];for(var y=0;y<h.length;++y){var _=h[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var i=t(this);function a(h,y){if(y)e:{var _=i;h=h.split(".");for(var w=0;w<h.length-1;w++){var $=h[w];if(!($ in _))break e;_=_[$]}h=h[h.length-1],w=_[h],y=y(w),y!=w&&y!=null&&e(_,h,{configurable:!0,writable:!0,value:y})}}function l(h,y){h instanceof String&&(h+="");var _=0,w=!1,$={next:function(){if(!w&&_<h.length){var ee=_++;return{value:y(ee,h[ee]),done:!1}}return w=!0,{done:!0,value:void 0}}};return $[Symbol.iterator]=function(){return $},$}a("Array.prototype.values",function(h){return h||function(){return l(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function p(h){var y=typeof h;return y=y!="object"?y:h?Array.isArray(h)?"array":y:"null",y=="array"||y=="object"&&typeof h.length=="number"}function g(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function v(h,y,_){return h.call.apply(h.bind,arguments)}function b(h,y,_){if(!h)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var $=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply($,w),h.apply(y,$)}}return function(){return h.apply(y,arguments)}}function S(h,y,_){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:b,S.apply(null,arguments)}function O(h,y){var _=Array.prototype.slice.call(arguments,1);return function(){var w=_.slice();return w.push.apply(w,arguments),h.apply(this,w)}}function C(h,y){function _(){}_.prototype=y.prototype,h.aa=y.prototype,h.prototype=new _,h.prototype.constructor=h,h.Qb=function(w,$,ee){for(var ce=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)ce[Be-2]=arguments[Be];return y.prototype[$].apply(w,ce)}}function M(h){const y=h.length;if(0<y){const _=Array(y);for(let w=0;w<y;w++)_[w]=h[w];return _}return[]}function P(h,y){for(let _=1;_<arguments.length;_++){const w=arguments[_];if(p(w)){const $=h.length||0,ee=w.length||0;h.length=$+ee;for(let ce=0;ce<ee;ce++)h[$+ce]=w[ce]}else h.push(w)}}class B{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function F(h){return/^[\s\xa0]*$/.test(h)}function j(){var h=d.navigator;return h&&(h=h.userAgent)?h:""}function G(h){return G[" "](h),h}G[" "]=function(){};var X=j().indexOf("Gecko")!=-1&&!(j().toLowerCase().indexOf("webkit")!=-1&&j().indexOf("Edge")==-1)&&!(j().indexOf("Trident")!=-1||j().indexOf("MSIE")!=-1)&&j().indexOf("Edge")==-1;function J(h,y,_){for(const w in h)y.call(_,h[w],w,h)}function x(h,y){for(const _ in h)y.call(void 0,h[_],_,h)}function R(h){const y={};for(const _ in h)y[_]=h[_];return y}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(h,y){let _,w;for(let $=1;$<arguments.length;$++){w=arguments[$];for(_ in w)h[_]=w[_];for(let ee=0;ee<I.length;ee++)_=I[ee],Object.prototype.hasOwnProperty.call(w,_)&&(h[_]=w[_])}}function V(h){var y=1;h=h.split(":");const _=[];for(;0<y&&h.length;)_.push(h.shift()),y--;return h.length&&_.push(h.join(":")),_}function U(h){d.setTimeout(()=>{throw h},0)}function D(){var h=Oe;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class ve{constructor(){this.h=this.g=null}add(y,_){const w=Ue.get();w.set(y,_),this.h?this.h.next=w:this.g=w,this.h=w}}var Ue=new B(()=>new Z,h=>h.reset());class Z{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,fe=!1,Oe=new ve,L=()=>{const h=d.Promise.resolve(void 0);oe=()=>{h.then(re)}};var re=()=>{for(var h;h=D();){try{h.h.call(h.g)}catch(_){U(_)}var y=Ue;y.j(h),100>y.h&&(y.h++,h.next=y.g,y.g=h)}fe=!1};function ue(){this.s=this.s,this.C=this.C}ue.prototype.s=!1,ue.prototype.ma=function(){this.s||(this.s=!0,this.N())},ue.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function le(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}le.prototype.h=function(){this.defaultPrevented=!0};var ge=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const _=()=>{};d.addEventListener("test",_,y),d.removeEventListener("test",_,y)}catch{}return h}();function be(h,y){if(le.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var _=this.type=h.type,w=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget){if(X){e:{try{G(y.nodeName);var $=!0;break e}catch{}$=!1}$||(y=null)}}else _=="mouseover"?y=h.fromElement:_=="mouseout"&&(y=h.toElement);this.relatedTarget=y,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:ye[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&be.aa.h.call(this)}}C(be,le);var ye={2:"touch",3:"pen",4:"mouse"};be.prototype.h=function(){be.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var at="closure_listenable_"+(1e6*Math.random()|0),De=0;function Ft(h,y,_,w,$){this.listener=h,this.proxy=null,this.src=y,this.type=_,this.capture=!!w,this.ha=$,this.key=++De,this.da=this.fa=!1}function Un(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function un(h){this.src=h,this.g={},this.h=0}un.prototype.add=function(h,y,_,w,$){var ee=h.toString();h=this.g[ee],h||(h=this.g[ee]=[],this.h++);var ce=Wn(h,y,w,$);return-1<ce?(y=h[ce],_||(y.fa=!1)):(y=new Ft(y,this.src,ee,!!w,$),y.fa=_,h.push(y)),y};function vr(h,y){var _=y.type;if(_ in h.g){var w=h.g[_],$=Array.prototype.indexOf.call(w,y,void 0),ee;(ee=0<=$)&&Array.prototype.splice.call(w,$,1),ee&&(Un(y),h.g[_].length==0&&(delete h.g[_],h.h--))}}function Wn(h,y,_,w){for(var $=0;$<h.length;++$){var ee=h[$];if(!ee.da&&ee.listener==y&&ee.capture==!!_&&ee.ha==w)return $}return-1}var Ht="closure_lm_"+(1e6*Math.random()|0),cn={};function ut(h,y,_,w,$){if(Array.isArray(y)){for(var ee=0;ee<y.length;ee++)ut(h,y[ee],_,w,$);return null}return _=yr(_),h&&h[at]?h.K(y,_,g(w)?!!w.capture:!1,$):Ce(h,y,_,!1,w,$)}function Ce(h,y,_,w,$,ee){if(!y)throw Error("Invalid event type");var ce=g($)?!!$.capture:!!$,Be=Zt(h);if(Be||(h[Ht]=Be=new un(h)),_=Be.add(y,_,w,ce,ee),_.proxy)return _;if(w=hn(),_.proxy=w,w.src=h,w.listener=_,h.addEventListener)ge||($=ce),$===void 0&&($=!1),h.addEventListener(y.toString(),w,$);else if(h.attachEvent)h.attachEvent(Rt(y.toString()),w);else if(h.addListener&&h.removeListener)h.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return _}function hn(){function h(_){return y.call(h.src,h.listener,_)}const y=In;return h}function Cn(h,y,_,w,$){if(Array.isArray(y))for(var ee=0;ee<y.length;ee++)Cn(h,y[ee],_,w,$);else w=g(w)?!!w.capture:!!w,_=yr(_),h&&h[at]?(h=h.i,y=String(y).toString(),y in h.g&&(ee=h.g[y],_=Wn(ee,_,w,$),-1<_&&(Un(ee[_]),Array.prototype.splice.call(ee,_,1),ee.length==0&&(delete h.g[y],h.h--)))):h&&(h=Zt(h))&&(y=h.g[y.toString()],h=-1,y&&(h=Wn(y,_,w,$)),(_=-1<h?y[h]:null)&&tt(_))}function tt(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[at])vr(y.i,h);else{var _=h.type,w=h.proxy;y.removeEventListener?y.removeEventListener(_,w,h.capture):y.detachEvent?y.detachEvent(Rt(_),w):y.addListener&&y.removeListener&&y.removeListener(w),(_=Zt(y))?(vr(_,h),_.h==0&&(_.src=null,y[Ht]=null)):Un(h)}}}function Rt(h){return h in cn?cn[h]:cn[h]="on"+h}function In(h,y){if(h.da)h=!0;else{y=new be(y,this);var _=h.listener,w=h.ha||h.src;h.fa&&tt(h),h=_.call(w,y)}return h}function Zt(h){return h=h[Ht],h instanceof un?h:null}var jn="__closure_events_fn_"+(1e9*Math.random()>>>0);function yr(h){return typeof h=="function"?h:(h[jn]||(h[jn]=function(y){return h.handleEvent(y)}),h[jn])}function ct(){ue.call(this),this.i=new un(this),this.M=this,this.F=null}C(ct,ue),ct.prototype[at]=!0,ct.prototype.removeEventListener=function(h,y,_,w){Cn(this,h,y,_,w)};function Ge(h,y){var _,w=h.F;if(w)for(_=[];w;w=w.F)_.push(w);if(h=h.M,w=y.type||y,typeof y=="string")y=new le(y,h);else if(y instanceof le)y.target=y.target||h;else{var $=y;y=new le(w,h),N(y,$)}if($=!0,_)for(var ee=_.length-1;0<=ee;ee--){var ce=y.g=_[ee];$=fn(ce,w,!0,y)&&$}if(ce=y.g=h,$=fn(ce,w,!0,y)&&$,$=fn(ce,w,!1,y)&&$,_)for(ee=0;ee<_.length;ee++)ce=y.g=_[ee],$=fn(ce,w,!1,y)&&$}ct.prototype.N=function(){if(ct.aa.N.call(this),this.i){var h=this.i,y;for(y in h.g){for(var _=h.g[y],w=0;w<_.length;w++)Un(_[w]);delete h.g[y],h.h--}}this.F=null},ct.prototype.K=function(h,y,_,w){return this.i.add(String(h),y,!1,_,w)},ct.prototype.L=function(h,y,_,w){return this.i.add(String(h),y,!0,_,w)};function fn(h,y,_,w){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();for(var $=!0,ee=0;ee<y.length;++ee){var ce=y[ee];if(ce&&!ce.da&&ce.capture==_){var Be=ce.listener,Mt=ce.ha||ce.src;ce.fa&&vr(h.i,ce),$=Be.call(Mt,w)!==!1&&$}}return $&&!w.defaultPrevented}function dn(h,y,_){if(typeof h=="function")_&&(h=S(h,_));else if(h&&typeof h.handleEvent=="function")h=S(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:d.setTimeout(h,y||0)}function xc(h){h.g=dn(()=>{h.g=null,h.i&&(h.i=!1,xc(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class Id extends ue{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:xc(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Fs(h){ue.call(this),this.h=h,this.g={}}C(Fs,ue);var Hs=[];function Gs(h){J(h.g,function(y,_){this.g.hasOwnProperty(_)&&tt(y)},h),h.g={}}Fs.prototype.N=function(){Fs.aa.N.call(this),Gs(this)},Fs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _r=d.JSON.stringify,Ga=d.JSON.parse,$s=class{stringify(h){return d.JSON.stringify(h,void 0)}parse(h){return d.JSON.parse(h,void 0)}};function bl(){}bl.prototype.h=null;function Tl(h){return h.h||(h.h=h.i())}function Al(){}var ci={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function hi(){le.call(this,"d")}C(hi,le);function Sl(){le.call(this,"c")}C(Sl,le);var Dr={},wl=null;function $i(){return wl=wl||new ct}Dr.La="serverreachability";function $a(h){le.call(this,Dr.La,h)}C($a,le);function Ki(h){const y=$i();Ge(y,new $a(y))}Dr.STAT_EVENT="statevent";function Oc(h,y){le.call(this,Dr.STAT_EVENT,h),this.stat=y}C(Oc,le);function dt(h){const y=$i();Ge(y,new Oc(y,h))}Dr.Ma="timingevent";function kt(h,y){le.call(this,Dr.Ma,h),this.size=y}C(kt,le);function Ct(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){h()},y)}function Zn(){this.g=!0}Zn.prototype.xa=function(){this.g=!1};function Rl(h,y,_,w,$,ee){h.info(function(){if(h.g)if(ee)for(var ce="",Be=ee.split("&"),Mt=0;Mt<Be.length;Mt++){var qe=Be[Mt].split("=");if(1<qe.length){var $t=qe[0];qe=qe[1];var Vt=$t.split("_");ce=2<=Vt.length&&Vt[1]=="type"?ce+($t+"="+qe+"&"):ce+($t+"=redacted&")}}else ce=null;else ce=ee;return"XMLHTTP REQ ("+w+") [attempt "+$+"]: "+y+`
`+_+`
`+ce})}function xd(h,y,_,w,$,ee,ce){h.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+$+"]: "+y+`
`+_+`
`+ee+" "+ce})}function Yi(h,y,_,w){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+Ks(h,_)+(w?" "+w:"")})}function Nc(h,y){h.info(function(){return"TIMEOUT: "+y})}Zn.prototype.info=function(){};function Ks(h,y){if(!h.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(h=0;h<_.length;h++)if(Array.isArray(_[h])){var w=_[h];if(!(2>w.length)){var $=w[1];if(Array.isArray($)&&!(1>$.length)){var ee=$[0];if(ee!="noop"&&ee!="stop"&&ee!="close")for(var ce=1;ce<$.length;ce++)$[ce]=""}}}}return _r(_)}catch{return y}}var Qi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},fi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Pr;function kr(){}C(kr,bl),kr.prototype.g=function(){return new XMLHttpRequest},kr.prototype.i=function(){return{}},Pr=new kr;function Tn(h,y,_,w){this.j=h,this.i=y,this.l=_,this.R=w||1,this.U=new Fs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new bt}function bt(){this.i=null,this.g="",this.h=!1}var Cl={},Ka={};function Er(h,y,_){h.L=1,h.v=Zs(zn(y)),h.m=_,h.P=!0,di(h,null)}function di(h,y){h.F=Date.now(),Ys(h),h.A=zn(h.v);var _=h.A,w=h.R;Array.isArray(w)||(w=[String(w)]),Pl(_.i,"t",w),h.C=0,_=h.j.J,h.h=new bt,h.g=Kc(h.j,_?y:null,!h.m),0<h.O&&(h.M=new Id(S(h.Y,h,h.g),h.O)),y=h.U,_=h.g,w=h.ca;var $="readystatechange";Array.isArray($)||($&&(Hs[0]=$.toString()),$=Hs);for(var ee=0;ee<$.length;ee++){var ce=ut(_,$[ee],w||y.handleEvent,!1,y.h||y);if(!ce)break;y.g[ce.key]=ce}y=h.H?R(h.H):{},h.m?(h.u||(h.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,y)):(h.u="GET",h.g.ea(h.A,h.u,null,y)),Ki(),Rl(h.i,h.u,h.A,h.l,h.R,h.m)}Tn.prototype.ca=function(h){h=h.target;const y=this.M;y&&nr(h)==3?y.j():this.Y(h)},Tn.prototype.Y=function(h){try{if(h==this.g)e:{const Vt=nr(this.g);var y=this.g.Ba();const bi=this.g.Z();if(!(3>Vt)&&(Vt!=3||this.g&&(this.h.h||this.g.oa()||jc(this.g)))){this.J||Vt!=4||y==7||(y==8||0>=bi?Ki(3):Ki(2)),Xi(this);var _=this.g.Z();this.X=_;t:if(Dc(this)){var w=jc(this.g);h="";var $=w.length,ee=nr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Jt(this),Mr(this);var ce="";break t}this.h.i=new d.TextDecoder}for(y=0;y<$;y++)this.h.h=!0,h+=this.h.i.decode(w[y],{stream:!(ee&&y==$-1)});w.length=0,this.h.g+=h,this.C=0,ce=this.h.g}else ce=this.g.oa();if(this.o=_==200,xd(this.i,this.u,this.A,this.l,this.R,Vt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Be,Mt=this.g;if((Be=Mt.g?Mt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!F(Be)){var qe=Be;break t}}qe=null}if(_=qe)Yi(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Qs(this,_);else{this.o=!1,this.s=3,dt(12),Jt(this),Mr(this);break e}}if(this.P){_=!0;let en;for(;!this.J&&this.C<ce.length;)if(en=Pc(this,ce),en==Ka){Vt==4&&(this.s=4,dt(14),_=!1),Yi(this.i,this.l,null,"[Incomplete Response]");break}else if(en==Cl){this.s=4,dt(15),Yi(this.i,this.l,ce,"[Invalid Chunk]"),_=!1;break}else Yi(this.i,this.l,en,null),Qs(this,en);if(Dc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Vt!=4||ce.length!=0||this.h.h||(this.s=1,dt(16),_=!1),this.o=this.o&&_,!_)Yi(this.i,this.l,ce,"[Invalid Chunked Response]"),Jt(this),Mr(this);else if(0<ce.length&&!this.W){this.W=!0;var $t=this.j;$t.g==this&&$t.ba&&!$t.M&&($t.j.info("Great, no buffering proxy detected. Bytes received: "+ce.length),aa($t),$t.M=!0,dt(11))}}else Yi(this.i,this.l,ce,null),Qs(this,ce);Vt==4&&Jt(this),this.o&&!this.J&&(Vt==4?Hc(this.j,this):(this.o=!1,Ys(this)))}else kd(this.g),_==400&&0<ce.indexOf("Unknown SID")?(this.s=3,dt(12)):(this.s=0,dt(13)),Jt(this),Mr(this)}}}catch{}finally{}};function Dc(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function Pc(h,y){var _=h.C,w=y.indexOf(`
`,_);return w==-1?Ka:(_=Number(y.substring(_,w)),isNaN(_)?Cl:(w+=1,w+_>y.length?Ka:(y=y.slice(w,w+_),h.C=w+_,y)))}Tn.prototype.cancel=function(){this.J=!0,Jt(this)};function Ys(h){h.S=Date.now()+h.I,kc(h,h.I)}function kc(h,y){if(h.B!=null)throw Error("WatchDog timer not null");h.B=Ct(S(h.ba,h),y)}function Xi(h){h.B&&(d.clearTimeout(h.B),h.B=null)}Tn.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(Nc(this.i,this.A),this.L!=2&&(Ki(),dt(17)),Jt(this),this.s=2,Mr(this)):kc(this,this.S-h)};function Mr(h){h.j.G==0||h.J||Hc(h.j,h)}function Jt(h){Xi(h);var y=h.M;y&&typeof y.ma=="function"&&y.ma(),h.M=null,Gs(h.U),h.g&&(y=h.g,h.g=null,y.abort(),y.ma())}function Qs(h,y){try{var _=h.j;if(_.G!=0&&(_.g==h||Il(_.h,h))){if(!h.K&&Il(_.h,h)&&_.G==3){try{var w=_.Da.g.parse(y)}catch{w=null}if(Array.isArray(w)&&w.length==3){var $=w;if($[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<h.F)so(_),ro(_);else break e;Ul(_),dt(18)}}else _.za=$[1],0<_.za-_.T&&37500>$[2]&&_.F&&_.v==0&&!_.C&&(_.C=Ct(S(_.Za,_),6e3));if(1>=Qa(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Ei(_,11)}else if((h.K||_.g==h)&&so(_),!F(y))for($=_.Da.g.parse(y),y=0;y<$.length;y++){let qe=$[y];if(_.T=qe[0],qe=qe[1],_.G==2)if(qe[0]=="c"){_.K=qe[1],_.ia=qe[2];const $t=qe[3];$t!=null&&(_.la=$t,_.j.info("VER="+_.la));const Vt=qe[4];Vt!=null&&(_.Aa=Vt,_.j.info("SVER="+_.Aa));const bi=qe[5];bi!=null&&typeof bi=="number"&&0<bi&&(w=1.5*bi,_.L=w,_.j.info("backChannelRequestTimeoutMs_="+w)),w=_;const en=h.g;if(en){const qr=en.g?en.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(qr){var ee=w.h;ee.g||qr.indexOf("spdy")==-1&&qr.indexOf("quic")==-1&&qr.indexOf("h2")==-1||(ee.j=ee.l,ee.g=new Set,ee.h&&(Xa(ee,ee.h),ee.h=null))}if(w.D){const zl=en.g?en.g.getResponseHeader("X-HTTP-Session-Id"):null;zl&&(w.ya=zl,nt(w.I,w.D,zl))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-h.F,_.j.info("Handshake RTT: "+_.R+"ms")),w=_;var ce=h;if(w.qa=$c(w,w.J?w.ia:null,w.W),ce.K){An(w.h,ce);var Be=ce,Mt=w.L;Mt&&(Be.I=Mt),Be.B&&(Xi(Be),Ys(Be)),w.g=ce}else qc(w);0<_.i.length&&io(_)}else qe[0]!="stop"&&qe[0]!="close"||Ei(_,7);else _.G==3&&(qe[0]=="stop"||qe[0]=="close"?qe[0]=="stop"?Ei(_,7):Vl(_):qe[0]!="noop"&&_.l&&_.l.ta(qe),_.v=0)}}Ki(4)}catch{}}var Mc=class{constructor(h,y){this.g=h,this.map=y}};function pi(h){this.l=h||10,d.PerformanceNavigationTiming?(h=d.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ya(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Qa(h){return h.h?1:h.g?h.g.size:0}function Il(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function Xa(h,y){h.g?h.g.add(y):h.h=y}function An(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}pi.prototype.cancel=function(){if(this.i=xl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function xl(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const _ of h.g.values())y=y.concat(_.D);return y}return M(h.i)}function Od(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(p(h)){for(var y=[],_=h.length,w=0;w<_;w++)y.push(h[w]);return y}y=[],_=0;for(w in h)y[_++]=h[w];return y}function Wa(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(p(h)||typeof h=="string"){var y=[];h=h.length;for(var _=0;_<h;_++)y.push(_);return y}y=[],_=0;for(const w in h)y[_++]=w;return y}}}function Ol(h,y){if(h.forEach&&typeof h.forEach=="function")h.forEach(y,void 0);else if(p(h)||typeof h=="string")Array.prototype.forEach.call(h,y,void 0);else for(var _=Wa(h),w=Od(h),$=w.length,ee=0;ee<$;ee++)y.call(void 0,w[ee],_&&_[ee],h)}var Xs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Nd(h,y){if(h){h=h.split("&");for(var _=0;_<h.length;_++){var w=h[_].indexOf("="),$=null;if(0<=w){var ee=h[_].substring(0,w);$=h[_].substring(w+1)}else ee=h[_];y(ee,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function It(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof It){this.h=h.h,Ws(this,h.j),this.o=h.o,this.g=h.g,Wi(this,h.s),this.l=h.l;var y=h.i,_=new gi;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),mi(this,_),this.m=h.m}else h&&(y=String(h).match(Xs))?(this.h=!1,Ws(this,y[1]||"",!0),this.o=Jn(y[2]||""),this.g=Jn(y[3]||"",!0),Wi(this,y[4]),this.l=Jn(y[5]||"",!0),mi(this,y[6]||"",!0),this.m=Jn(y[7]||"")):(this.h=!1,this.i=new gi(null,this.h))}It.prototype.toString=function(){var h=[],y=this.j;y&&h.push(Js(y,Nl,!0),":");var _=this.g;return(_||y=="file")&&(h.push("//"),(y=this.o)&&h.push(Js(y,Nl,!0),"@"),h.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&h.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&h.push("/"),h.push(Js(_,_.charAt(0)=="/"?Dd:Dl,!0))),(_=this.i.toString())&&h.push("?",_),(_=this.m)&&h.push("#",Js(_,Za)),h.join("")};function zn(h){return new It(h)}function Ws(h,y,_){h.j=_?Jn(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function Wi(h,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);h.s=y}else h.s=null}function mi(h,y,_){y instanceof gi?(h.i=y,Lc(h.i,h.h)):(_||(y=Js(y,Pd)),h.i=new gi(y,h.h))}function nt(h,y,_){h.i.set(y,_)}function Zs(h){return nt(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function Jn(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Js(h,y,_){return typeof h=="string"?(h=encodeURI(h).replace(y,Vc),_&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Vc(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Nl=/[#\/\?@]/g,Dl=/[#\?:]/g,Dd=/[#\?]/g,Pd=/[#\?@]/g,Za=/#/g;function gi(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function er(h){h.g||(h.g=new Map,h.h=0,h.i&&Nd(h.i,function(y,_){h.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}n=gi.prototype,n.add=function(h,y){er(this),this.i=null,h=Vr(this,h);var _=this.g.get(h);return _||this.g.set(h,_=[]),_.push(y),this.h+=1,this};function vi(h,y){er(h),y=Vr(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function yi(h,y){return er(h),y=Vr(h,y),h.g.has(y)}n.forEach=function(h,y){er(this),this.g.forEach(function(_,w){_.forEach(function($){h.call(y,$,w,this)},this)},this)},n.na=function(){er(this);const h=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let w=0;w<y.length;w++){const $=h[w];for(let ee=0;ee<$.length;ee++)_.push(y[w])}return _},n.V=function(h){er(this);let y=[];if(typeof h=="string")yi(this,h)&&(y=y.concat(this.g.get(Vr(this,h))));else{h=Array.from(this.g.values());for(let _=0;_<h.length;_++)y=y.concat(h[_])}return y},n.set=function(h,y){return er(this),this.i=null,h=Vr(this,h),yi(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},n.get=function(h,y){return h?(h=this.V(h),0<h.length?String(h[0]):y):y};function Pl(h,y,_){vi(h,y),0<_.length&&(h.i=null,h.g.set(Vr(h,y),M(_)),h.h+=_.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var w=y[_];const ee=encodeURIComponent(String(w)),ce=this.V(w);for(w=0;w<ce.length;w++){var $=ee;ce[w]!==""&&($+="="+encodeURIComponent(String(ce[w]))),h.push($)}}return this.i=h.join("&")};function Vr(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function Lc(h,y){y&&!h.j&&(er(h),h.i=null,h.g.forEach(function(_,w){var $=w.toLowerCase();w!=$&&(vi(this,w),Pl(this,$,_))},h)),h.j=y}function ea(h,y){const _=new Zn;if(d.Image){const w=new Image;w.onload=O(tr,_,"TestLoadImage: loaded",!0,y,w),w.onerror=O(tr,_,"TestLoadImage: error",!1,y,w),w.onabort=O(tr,_,"TestLoadImage: abort",!1,y,w),w.ontimeout=O(tr,_,"TestLoadImage: timeout",!1,y,w),d.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=h}else y(!1)}function br(h,y){const _=new Zn,w=new AbortController,$=setTimeout(()=>{w.abort(),tr(_,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:w.signal}).then(ee=>{clearTimeout($),ee.ok?tr(_,"TestPingServer: ok",!0,y):tr(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout($),tr(_,"TestPingServer: error",!1,y)})}function tr(h,y,_,w,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),w(_)}catch{}}function ta(){this.g=new $s}function Lr(h,y,_){const w=_||"";try{Ol(h,function($,ee){let ce=$;g($)&&(ce=_r($)),y.push(w+ee+"="+encodeURIComponent(ce))})}catch($){throw y.push(w+"type="+encodeURIComponent("_badmap")),$}}function Zi(h){this.l=h.Ub||null,this.j=h.eb||!1}C(Zi,bl),Zi.prototype.g=function(){return new _i(this.l,this.j)},Zi.prototype.i=function(h){return function(){return h}}({});function _i(h,y){ct.call(this),this.D=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(_i,ct),n=_i.prototype,n.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=y,this.readyState=1,jr(this)},n.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(y.body=h),(this.D||d).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ur(this)),this.readyState=0},n.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,jr(this)),this.g&&(this.readyState=3,jr(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;kl(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function kl(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}n.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?Ur(this):jr(this),this.readyState==3&&kl(this)}},n.Ra=function(h){this.g&&(this.response=this.responseText=h,Ur(this))},n.Qa=function(h){this.g&&(this.response=h,Ur(this))},n.ga=function(){this.g&&Ur(this)};function Ur(h){h.readyState=4,h.l=null,h.j=null,h.v=null,jr(h)}n.setRequestHeader=function(h,y){this.u.append(h,y)},n.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,h.push(_[0]+": "+_[1]),_=y.next();return h.join(`\r
`)};function jr(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(_i.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Ml(h){let y="";return J(h,function(_,w){y+=w,y+=":",y+=_,y+=`\r
`}),y}function Gt(h,y,_){e:{for(w in _){var w=!1;break e}w=!0}w||(_=Ml(_),typeof h=="string"?_!=null&&encodeURIComponent(String(_)):nt(h,y,_))}function Xe(h){ct.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(Xe,ct);var Ja=/^https?$/i,na=["POST","PUT"];n=Xe.prototype,n.Ha=function(h){this.J=h},n.ea=function(h,y,_,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Pr.g(),this.v=this.o?Tl(this.o):Tl(Pr),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch(ee){Uc(this,ee);return}if(h=_||"",_=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var $ in w)_.set($,w[$]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const ee of w.keys())_.set(ee,w.get(ee));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(_.keys()).find(ee=>ee.toLowerCase()=="content-type"),$=d.FormData&&h instanceof d.FormData,!(0<=Array.prototype.indexOf.call(na,y,void 0))||w||$||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ee,ce]of _)this.g.setRequestHeader(ee,ce);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ra(this),this.u=!0,this.g.send(h),this.u=!1}catch(ee){Uc(this,ee)}};function Uc(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.m=5,eo(h),zr(h)}function eo(h){h.A||(h.A=!0,Ge(h,"complete"),Ge(h,"error"))}n.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Ge(this,"complete"),Ge(this,"abort"),zr(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),zr(this,!0)),Xe.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?to(this):this.bb())},n.bb=function(){to(this)};function to(h){if(h.h&&typeof c<"u"&&(!h.v[1]||nr(h)!=4||h.Z()!=2)){if(h.u&&nr(h)==4)dn(h.Ea,0,h);else if(Ge(h,"readystatechange"),nr(h)==4){h.h=!1;try{const ce=h.Z();e:switch(ce){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var w;if(w=ce===0){var $=String(h.D).match(Xs)[1]||null;!$&&d.self&&d.self.location&&($=d.self.location.protocol.slice(0,-1)),w=!Ja.test($?$.toLowerCase():"")}_=w}if(_)Ge(h,"complete"),Ge(h,"success");else{h.m=6;try{var ee=2<nr(h)?h.g.statusText:""}catch{ee=""}h.l=ee+" ["+h.Z()+"]",eo(h)}}finally{zr(h)}}}}function zr(h,y){if(h.g){ra(h);const _=h.g,w=h.v[0]?()=>{}:null;h.g=null,h.v=null,y||Ge(h,"ready");try{_.onreadystatechange=w}catch{}}}function ra(h){h.I&&(d.clearTimeout(h.I),h.I=null)}n.isActive=function(){return!!this.g};function nr(h){return h.g?h.g.readyState:0}n.Z=function(){try{return 2<nr(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),Ga(y)}};function jc(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function kd(h){const y={};h=(h.g&&2<=nr(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<h.length;w++){if(F(h[w]))continue;var _=V(h[w]);const $=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const ee=y[$]||[];y[$]=ee,ee.push(_)}x(y,function(w){return w.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ia(h,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[h]||y}function no(h){this.Aa=0,this.i=[],this.j=new Zn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ia("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ia("baseRetryDelayMs",5e3,h),this.cb=ia("retryDelaySeedMs",1e4,h),this.Wa=ia("forwardChannelMaxRetries",2,h),this.wa=ia("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new pi(h&&h.concurrentRequestLimit),this.Da=new ta,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=no.prototype,n.la=8,n.G=1,n.connect=function(h,y,_,w){dt(0),this.W=h,this.H=y||{},_&&w!==void 0&&(this.H.OSID=_,this.H.OAID=w),this.F=this.X,this.I=$c(this,null,this.W),io(this)};function Vl(h){if(zc(h),h.G==3){var y=h.U++,_=zn(h.I);if(nt(_,"SID",h.K),nt(_,"RID",y),nt(_,"TYPE","terminate"),sa(h,_),y=new Tn(h,h.j,y),y.L=2,y.v=Zs(zn(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&d.Image&&(new Image().src=y.v,_=!0),_||(y.g=Kc(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Ys(y)}Gc(h)}function ro(h){h.g&&(aa(h),h.g.cancel(),h.g=null)}function zc(h){ro(h),h.u&&(d.clearTimeout(h.u),h.u=null),so(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&d.clearTimeout(h.s),h.s=null)}function io(h){if(!Ya(h.h)&&!h.s){h.s=!0;var y=h.Ga;oe||L(),fe||(oe(),fe=!0),Oe.add(y,h),h.B=0}}function Md(h,y){return Qa(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=y.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=Ct(S(h.Ga,h,y),jl(h,h.B)),h.B++,!0)}n.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const $=new Tn(this,this.j,h);let ee=this.o;if(this.S&&(ee?(ee=R(ee),N(ee,this.S)):ee=this.S),this.m!==null||this.O||($.H=ee,ee=null),this.P)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var w=this.i[_];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(y+=w,4096<y){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=Bc(this,$,y),_=zn(this.I),nt(_,"RID",h),nt(_,"CVER",22),this.D&&nt(_,"X-HTTP-Session-Id",this.D),sa(this,_),ee&&(this.O?y="headers="+encodeURIComponent(String(Ml(ee)))+"&"+y:this.m&&Gt(_,this.m,ee)),Xa(this.h,$),this.Ua&&nt(_,"TYPE","init"),this.P?(nt(_,"$req",y),nt(_,"SID","null"),$.T=!0,Er($,_,null)):Er($,_,y),this.G=2}}else this.G==3&&(h?Ll(this,h):this.i.length==0||Ya(this.h)||Ll(this))};function Ll(h,y){var _;y?_=y.l:_=h.U++;const w=zn(h.I);nt(w,"SID",h.K),nt(w,"RID",_),nt(w,"AID",h.T),sa(h,w),h.m&&h.o&&Gt(w,h.m,h.o),_=new Tn(h,h.j,_,h.B+1),h.m===null&&(_.H=h.o),y&&(h.i=y.D.concat(h.i)),y=Bc(h,_,1e3),_.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Xa(h.h,_),Er(_,w,y)}function sa(h,y){h.H&&J(h.H,function(_,w){nt(y,w,_)}),h.l&&Ol({},function(_,w){nt(y,w,_)})}function Bc(h,y,_){_=Math.min(h.i.length,_);var w=h.l?S(h.l.Na,h.l,h):null;e:{var $=h.i;let ee=-1;for(;;){const ce=["count="+_];ee==-1?0<_?(ee=$[0].g,ce.push("ofs="+ee)):ee=0:ce.push("ofs="+ee);let Be=!0;for(let Mt=0;Mt<_;Mt++){let qe=$[Mt].g;const $t=$[Mt].map;if(qe-=ee,0>qe)ee=Math.max(0,$[Mt].g-100),Be=!1;else try{Lr($t,ce,"req"+qe+"_")}catch{w&&w($t)}}if(Be){w=ce.join("&");break e}}}return h=h.i.splice(0,_),y.D=h,w}function qc(h){if(!h.g&&!h.u){h.Y=1;var y=h.Fa;oe||L(),fe||(oe(),fe=!0),Oe.add(y,h),h.v=0}}function Ul(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=Ct(S(h.Fa,h),jl(h,h.v)),h.v++,!0)}n.Fa=function(){if(this.u=null,Fc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=Ct(S(this.ab,this),h)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,dt(10),ro(this),Fc(this))};function aa(h){h.A!=null&&(d.clearTimeout(h.A),h.A=null)}function Fc(h){h.g=new Tn(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var y=zn(h.qa);nt(y,"RID","rpc"),nt(y,"SID",h.K),nt(y,"AID",h.T),nt(y,"CI",h.F?"0":"1"),!h.F&&h.ja&&nt(y,"TO",h.ja),nt(y,"TYPE","xmlhttp"),sa(h,y),h.m&&h.o&&Gt(y,h.m,h.o),h.L&&(h.g.I=h.L);var _=h.g;h=h.ia,_.L=1,_.v=Zs(zn(y)),_.m=null,_.P=!0,di(_,h)}n.Za=function(){this.C!=null&&(this.C=null,ro(this),Ul(this),dt(19))};function so(h){h.C!=null&&(d.clearTimeout(h.C),h.C=null)}function Hc(h,y){var _=null;if(h.g==y){so(h),aa(h),h.g=null;var w=2}else if(Il(h.h,y))_=y.D,An(h.h,y),w=1;else return;if(h.G!=0){if(y.o)if(w==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var $=h.B;w=$i(),Ge(w,new kt(w,_)),io(h)}else qc(h);else if($=y.s,$==3||$==0&&0<y.X||!(w==1&&Md(h,y)||w==2&&Ul(h)))switch(_&&0<_.length&&(y=h.h,y.i=y.i.concat(_)),$){case 1:Ei(h,5);break;case 4:Ei(h,10);break;case 3:Ei(h,6);break;default:Ei(h,2)}}}function jl(h,y){let _=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(_*=2),_*y}function Ei(h,y){if(h.j.info("Error code "+y),y==2){var _=S(h.fb,h),w=h.Xa;const $=!w;w=new It(w||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ws(w,"https"),Zs(w),$?ea(w.toString(),_):br(w.toString(),_)}else dt(2);h.G=0,h.l&&h.l.sa(y),Gc(h),zc(h)}n.fb=function(h){h?(this.j.info("Successfully pinged google.com"),dt(2)):(this.j.info("Failed to ping google.com"),dt(1))};function Gc(h){if(h.G=0,h.ka=[],h.l){const y=xl(h.h);(y.length!=0||h.i.length!=0)&&(P(h.ka,y),P(h.ka,h.i),h.h.i.length=0,M(h.i),h.i.length=0),h.l.ra()}}function $c(h,y,_){var w=_ instanceof It?zn(_):new It(_);if(w.g!="")y&&(w.g=y+"."+w.g),Wi(w,w.s);else{var $=d.location;w=$.protocol,y=y?y+"."+$.hostname:$.hostname,$=+$.port;var ee=new It(null);w&&Ws(ee,w),y&&(ee.g=y),$&&Wi(ee,$),_&&(ee.l=_),w=ee}return _=h.D,y=h.ya,_&&y&&nt(w,_,y),nt(w,"VER",h.la),sa(h,w),w}function Kc(h,y,_){if(y&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Ca&&!h.pa?new Xe(new Zi({eb:_})):new Xe(h.pa),y.Ha(h.J),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Yc(){}n=Yc.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function ao(){}ao.prototype.g=function(h,y){return new Sn(h,y)};function Sn(h,y){ct.call(this),this.g=new no(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(h?h["X-WebChannel-Client-Profile"]=y.va:h={"X-WebChannel-Client-Profile":y.va}),this.g.S=h,(h=y&&y.Sb)&&!F(h)&&(this.g.m=h),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!F(y)&&(this.g.D=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new Br(this)}C(Sn,ct),Sn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Sn.prototype.close=function(){Vl(this.g)},Sn.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var _={};_.__data__=h,h=_}else this.u&&(_={},_.__data__=_r(h),h=_);y.i.push(new Mc(y.Ya++,h)),y.G==3&&io(y)},Sn.prototype.N=function(){this.g.l=null,delete this.j,Vl(this.g),delete this.g,Sn.aa.N.call(this)};function Qc(h){hi.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){e:{for(const _ in y){h=_;break e}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}C(Qc,hi);function Xc(){Sl.call(this),this.status=1}C(Xc,Sl);function Br(h){this.g=h}C(Br,Yc),Br.prototype.ua=function(){Ge(this.g,"a")},Br.prototype.ta=function(h){Ge(this.g,new Qc(h))},Br.prototype.sa=function(h){Ge(this.g,new Xc)},Br.prototype.ra=function(){Ge(this.g,"b")},ao.prototype.createWebChannel=ao.prototype.g,Sn.prototype.send=Sn.prototype.o,Sn.prototype.open=Sn.prototype.m,Sn.prototype.close=Sn.prototype.close,LS=function(){return new ao},VS=function(){return $i()},MS=Dr,hg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Qi.NO_ERROR=0,Qi.TIMEOUT=8,Qi.HTTP_ERROR=6,Ef=Qi,fi.COMPLETE="complete",kS=fi,Al.EventType=ci,ci.OPEN="a",ci.CLOSE="b",ci.ERROR="c",ci.MESSAGE="d",ct.prototype.listen=ct.prototype.K,Vu=Al,Xe.prototype.listenOnce=Xe.prototype.L,Xe.prototype.getLastError=Xe.prototype.Ka,Xe.prototype.getLastErrorCode=Xe.prototype.Ba,Xe.prototype.getStatus=Xe.prototype.Z,Xe.prototype.getResponseJson=Xe.prototype.Oa,Xe.prototype.getResponseText=Xe.prototype.oa,Xe.prototype.send=Xe.prototype.ea,Xe.prototype.setWithCredentials=Xe.prototype.Ha,PS=Xe}).apply(typeof tf<"u"?tf:typeof self<"u"?self:typeof window<"u"?window:{});const Bb="@firebase/firestore",qb="4.7.12";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}yn.UNAUTHENTICATED=new yn(null),yn.GOOGLE_CREDENTIALS=new yn("google-credentials-uid"),yn.FIRST_PARTY=new yn("first-party-uid"),yn.MOCK_USER=new yn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ml="11.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ka=new Zg("@firebase/firestore");function Lo(){return ka.logLevel}function de(n,...e){if(ka.logLevel<=je.DEBUG){const t=e.map(hv);ka.debug(`Firestore (${ml}): ${n}`,...t)}}function Hi(n,...e){if(ka.logLevel<=je.ERROR){const t=e.map(hv);ka.error(`Firestore (${ml}): ${n}`,...t)}}function el(n,...e){if(ka.logLevel<=je.WARN){const t=e.map(hv);ka.warn(`Firestore (${ml}): ${n}`,...t)}}function hv(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(n,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,US(n,i,t)}function US(n,e,t){let i=`FIRESTORE (${ml}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw Hi(i),new Error(i)}function Ze(n,e,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,n||US(e,a,i)}function xe(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pe extends ui{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class yk{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(yn.UNAUTHENTICATED))}shutdown(){}}class _k{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Ek{constructor(e){this.t=e,this.currentUser=yn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ze(this.o===void 0,42304);let i=this.i;const a=p=>this.i!==i?(i=this.i,t(p)):Promise.resolve();let l=new Ui;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Ui,e.enqueueRetryable(()=>a(this.currentUser))};const c=()=>{const p=l;e.enqueueRetryable(async()=>{await p.promise,await a(this.currentUser)})},d=p=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(p=>d(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Ui)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ze(typeof i.accessToken=="string",31837,{l:i}),new jS(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ze(e===null||typeof e=="string",2055,{h:e}),new yn(e)}}class bk{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=yn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Tk{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new bk(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(yn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Fb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ak{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,hr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ze(this.o===void 0,3512);const i=l=>{l.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,de("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>i(l))};const a=l=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Fb(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ze(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Fb(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sk(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zS(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=Sk(40);for(let l=0;l<a.length;++l)i.length<20&&a[l]<t&&(i+=e.charAt(a[l]%62))}return i}}function ke(n,e){return n<e?-1:n>e?1:0}function fg(n,e){let t=0;for(;t<n.length&&t<e.length;){const i=n.codePointAt(t),a=e.codePointAt(t);if(i!==a){if(i<128&&a<128)return ke(i,a);{const l=zS(),c=wk(l.encode(Hb(n,t)),l.encode(Hb(e,t)));return c!==0?c:ke(i,a)}}t+=i>65535?2:1}return ke(n.length,e.length)}function Hb(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function wk(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return ke(n[t],e[t]);return ke(n.length,e.length)}function tl(n,e,t){return n.length===e.length&&n.every((i,a)=>t(i,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gb=-62135596800,$b=1e6;class zt{static now(){return zt.fromMillis(Date.now())}static fromDate(e){return zt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*$b);return new zt(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new pe(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new pe(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Gb)throw new pe(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pe(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/$b}_compareTo(e){return this.seconds===e.seconds?ke(this.nanoseconds,e.nanoseconds):ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Gb;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{static fromTimestamp(e){return new Ie(e)}static min(){return new Ie(new zt(0,0))}static max(){return new Ie(new zt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kb="__name__";class Yr{constructor(e,t,i){t===void 0?t=0:t>e.length&&we(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&we(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return Yr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Yr?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let a=0;a<i;a++){const l=Yr.compareSegments(e.get(a),t.get(a));if(l!==0)return l}return ke(e.length,t.length)}static compareSegments(e,t){const i=Yr.isNumericId(e),a=Yr.isNumericId(t);return i&&!a?-1:!i&&a?1:i&&a?Yr.extractNumericId(e).compare(Yr.extractNumericId(t)):fg(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Os.fromString(e.substring(4,e.length-2))}}class ht extends Yr{construct(e,t,i){return new ht(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new pe(se.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(a=>a.length>0))}return new ht(t)}static emptyPath(){return new ht([])}}const Rk=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class on extends Yr{construct(e,t,i){return new on(e,t,i)}static isValidIdentifier(e){return Rk.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),on.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Kb}static keyField(){return new on([Kb])}static fromServerFormat(e){const t=[];let i="",a=0;const l=()=>{if(i.length===0)throw new pe(se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new pe(se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[a+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new pe(se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,a+=2}else d==="`"?(c=!c,a++):d!=="."||c?(i+=d,a++):(l(),a++)}if(l(),c)throw new pe(se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new on(t)}static emptyPath(){return new on([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e){this.path=e}static fromPath(e){return new Ee(ht.fromString(e))}static fromName(e){return new Ee(ht.fromString(e).popFirst(5))}static empty(){return new Ee(ht.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ht.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ht.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ee(new ht(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rc=-1;function Ck(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,a=Ie.fromTimestamp(i===1e9?new zt(t+1,0):new zt(t,i));return new ks(a,Ee.empty(),e)}function Ik(n){return new ks(n.readTime,n.key,rc)}class ks{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new ks(Ie.min(),Ee.empty(),rc)}static max(){return new ks(Ie.max(),Ee.empty(),rc)}}function xk(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ee.comparator(n.documentKey,e.documentKey),t!==0?t:ke(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ok="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Nk{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gl(n){if(n.code!==se.FAILED_PRECONDITION||n.message!==Ok)throw n;de("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&we(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ae((i,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ae?t:ae.resolve(t)}catch(t){return ae.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ae.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ae.reject(t)}static resolve(e){return new ae((t,i)=>{t(e)})}static reject(e){return new ae((t,i)=>{i(e)})}static waitFor(e){return new ae((t,i)=>{let a=0,l=0,c=!1;e.forEach(d=>{++a,d.next(()=>{++l,c&&l===a&&t()},p=>i(p))}),c=!0,l===a&&t()})}static or(e){let t=ae.resolve(!1);for(const i of e)t=t.next(a=>a?ae.resolve(a):i());return t}static forEach(e,t){const i=[];return e.forEach((a,l)=>{i.push(t.call(this,a,l))}),this.waitFor(i)}static mapArray(e,t){return new ae((i,a)=>{const l=e.length,c=new Array(l);let d=0;for(let p=0;p<l;p++){const g=p;t(e[g]).next(v=>{c[g]=v,++d,d===l&&i(c)},v=>a(v))}})}static doWhile(e,t){return new ae((i,a)=>{const l=()=>{e()===!0?t().next(()=>{l()},a):i()};l()})}}function Dk(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function vl(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>t.writeSequenceNumber(i))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}cd.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fv=-1;function hd(n){return n==null}function jf(n){return n===0&&1/n==-1/0}function Pk(n){return typeof n=="number"&&Number.isInteger(n)&&!jf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qS="";function kk(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Yb(e)),e=Mk(n.get(t),e);return Yb(e)}function Mk(n,e){let t=e;const i=n.length;for(let a=0;a<i;a++){const l=n.charAt(a);switch(l){case"\0":t+="";break;case qS:t+="";break;default:t+=l}}return t}function Yb(n){return n+qS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qb(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function za(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function FS(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e,t){this.comparator=e,this.root=t||sn.EMPTY}insert(e,t){return new vt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,sn.BLACK,null,null))}remove(e){return new vt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,sn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return t+i.left.size;a<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new nf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new nf(this.root,e,this.comparator,!1)}getReverseIterator(){return new nf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new nf(this.root,e,this.comparator,!0)}}class nf{constructor(e,t,i,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class sn{constructor(e,t,i,a,l){this.key=e,this.value=t,this.color=i??sn.RED,this.left=a??sn.EMPTY,this.right=l??sn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,a,l){return new sn(e??this.key,t??this.value,i??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let a=this;const l=i(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,i),null):l===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return sn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return sn.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,sn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,sn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw we(43730,{key:this.key,value:this.value});if(this.right.isRed())throw we(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw we(27949);return e+(this.isRed()?0:1)}}sn.EMPTY=null,sn.RED=!0,sn.BLACK=!1;sn.EMPTY=new class{constructor(){this.size=0}get key(){throw we(57766)}get value(){throw we(16141)}get color(){throw we(16727)}get left(){throw we(29726)}get right(){throw we(36894)}copy(e,t,i,a,l){return this}insert(e,t,i){return new sn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.comparator=e,this.data=new vt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Xb(this.data.getIterator())}getIteratorFrom(e){return new Xb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Bt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=i.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Bt(this.comparator);return t.data=e,t}}class Xb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(e){this.fields=e,e.sort(on.comparator)}static empty(){return new Rr([])}unionWith(e){let t=new Bt(on.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Rr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return tl(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new HS("Invalid base64 string: "+l):l}}(e);return new ln(t)}static fromUint8Array(e){const t=function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l}(e);return new ln(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let a=0;a<t.length;a++)i[a]=t.charCodeAt(a);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ln.EMPTY_BYTE_STRING=new ln("");const Vk=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ms(n){if(Ze(!!n,39018),typeof n=="string"){let e=0;const t=Vk.exec(n);if(Ze(!!t,46558,{timestamp:n}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:wt(n.seconds),nanos:wt(n.nanos)}}function wt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Vs(n){return typeof n=="string"?ln.fromBase64String(n):ln.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GS="server_timestamp",$S="__type__",KS="__previous_value__",YS="__local_write_time__";function dv(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[$S])===null||t===void 0?void 0:t.stringValue)===GS}function fd(n){const e=n.mapValue.fields[KS];return dv(e)?fd(e):e}function ic(n){const e=Ms(n.mapValue.fields[YS].timestampValue);return new zt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lk{constructor(e,t,i,a,l,c,d,p,g,v){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=v}}const zf="(default)";class sc{constructor(e,t){this.projectId=e,this.database=t||zf}static empty(){return new sc("","")}get isDefaultDatabase(){return this.database===zf}isEqual(e){return e instanceof sc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QS="__type__",Uk="__max__",rf={mapValue:{}},XS="__vector__",Bf="value";function Ls(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?dv(n)?4:zk(n)?9007199254740991:jk(n)?10:11:we(28295,{value:n})}function oi(n,e){if(n===e)return!0;const t=Ls(n);if(t!==Ls(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return ic(n).isEqual(ic(e));case 3:return function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=Ms(a.timestampValue),d=Ms(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(a,l){return Vs(a.bytesValue).isEqual(Vs(l.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(a,l){return wt(a.geoPointValue.latitude)===wt(l.geoPointValue.latitude)&&wt(a.geoPointValue.longitude)===wt(l.geoPointValue.longitude)}(n,e);case 2:return function(a,l){if("integerValue"in a&&"integerValue"in l)return wt(a.integerValue)===wt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=wt(a.doubleValue),d=wt(l.doubleValue);return c===d?jf(c)===jf(d):isNaN(c)&&isNaN(d)}return!1}(n,e);case 9:return tl(n.arrayValue.values||[],e.arrayValue.values||[],oi);case 10:case 11:return function(a,l){const c=a.mapValue.fields||{},d=l.mapValue.fields||{};if(Qb(c)!==Qb(d))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(d[p]===void 0||!oi(c[p],d[p])))return!1;return!0}(n,e);default:return we(52216,{left:n})}}function ac(n,e){return(n.values||[]).find(t=>oi(t,e))!==void 0}function nl(n,e){if(n===e)return 0;const t=Ls(n),i=Ls(e);if(t!==i)return ke(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return ke(n.booleanValue,e.booleanValue);case 2:return function(l,c){const d=wt(l.integerValue||l.doubleValue),p=wt(c.integerValue||c.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1}(n,e);case 3:return Wb(n.timestampValue,e.timestampValue);case 4:return Wb(ic(n),ic(e));case 5:return fg(n.stringValue,e.stringValue);case 6:return function(l,c){const d=Vs(l),p=Vs(c);return d.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(l,c){const d=l.split("/"),p=c.split("/");for(let g=0;g<d.length&&g<p.length;g++){const v=ke(d[g],p[g]);if(v!==0)return v}return ke(d.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(l,c){const d=ke(wt(l.latitude),wt(c.latitude));return d!==0?d:ke(wt(l.longitude),wt(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return Zb(n.arrayValue,e.arrayValue);case 10:return function(l,c){var d,p,g,v;const b=l.fields||{},S=c.fields||{},O=(d=b[Bf])===null||d===void 0?void 0:d.arrayValue,C=(p=S[Bf])===null||p===void 0?void 0:p.arrayValue,M=ke(((g=O==null?void 0:O.values)===null||g===void 0?void 0:g.length)||0,((v=C==null?void 0:C.values)===null||v===void 0?void 0:v.length)||0);return M!==0?M:Zb(O,C)}(n.mapValue,e.mapValue);case 11:return function(l,c){if(l===rf.mapValue&&c===rf.mapValue)return 0;if(l===rf.mapValue)return 1;if(c===rf.mapValue)return-1;const d=l.fields||{},p=Object.keys(d),g=c.fields||{},v=Object.keys(g);p.sort(),v.sort();for(let b=0;b<p.length&&b<v.length;++b){const S=fg(p[b],v[b]);if(S!==0)return S;const O=nl(d[p[b]],g[v[b]]);if(O!==0)return O}return ke(p.length,v.length)}(n.mapValue,e.mapValue);default:throw we(23264,{Pe:t})}}function Wb(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return ke(n,e);const t=Ms(n),i=Ms(e),a=ke(t.seconds,i.seconds);return a!==0?a:ke(t.nanos,i.nanos)}function Zb(n,e){const t=n.values||[],i=e.values||[];for(let a=0;a<t.length&&a<i.length;++a){const l=nl(t[a],i[a]);if(l)return l}return ke(t.length,i.length)}function rl(n){return dg(n)}function dg(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=Ms(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Vs(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Ee.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",a=!0;for(const l of t.values||[])a?a=!1:i+=",",i+=dg(l);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let a="{",l=!0;for(const c of i)l?l=!1:a+=",",a+=`${c}:${dg(t.fields[c])}`;return a+"}"}(n.mapValue):we(61005,{value:n})}function bf(n){switch(Ls(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=fd(n);return e?16+bf(e):16;case 5:return 2*n.stringValue.length;case 6:return Vs(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((a,l)=>a+bf(l),0)}(n.arrayValue);case 10:case 11:return function(i){let a=0;return za(i.fields,(l,c)=>{a+=l.length+bf(c)}),a}(n.mapValue);default:throw we(13486,{value:n})}}function Jb(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function pg(n){return!!n&&"integerValue"in n}function pv(n){return!!n&&"arrayValue"in n}function eT(n){return!!n&&"nullValue"in n}function tT(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Tf(n){return!!n&&"mapValue"in n}function jk(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[QS])===null||t===void 0?void 0:t.stringValue)===XS}function Fu(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return za(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Fu(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Fu(n.arrayValue.values[t]);return e}return Object.assign({},n)}function zk(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===Uk}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(e){this.value=e}static empty(){return new fr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Tf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Fu(t)}setAll(e){let t=on.emptyPath(),i={},a=[];e.forEach((c,d)=>{if(!t.isImmediateParentOf(d)){const p=this.getFieldsMap(t);this.applyChanges(p,i,a),i={},a=[],t=d.popLast()}c?i[d.lastSegment()]=Fu(c):a.push(d.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,i,a)}delete(e){const t=this.field(e.popLast());Tf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return oi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=t.mapValue.fields[e.get(i)];Tf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,i){za(t,(a,l)=>e[a]=l);for(const a of i)delete e[a]}clone(){return new fr(Fu(this.value))}}function WS(n){const e=[];return za(n.fields,(t,i)=>{const a=new on([t]);if(Tf(i)){const l=WS(i.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)}),new Rr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e,t,i,a,l,c,d){this.key=e,this.documentType=t,this.version=i,this.readTime=a,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(e){return new _n(e,0,Ie.min(),Ie.min(),Ie.min(),fr.empty(),0)}static newFoundDocument(e,t,i,a){return new _n(e,1,t,Ie.min(),i,a,0)}static newNoDocument(e,t){return new _n(e,2,t,Ie.min(),Ie.min(),fr.empty(),0)}static newUnknownDocument(e,t){return new _n(e,3,t,Ie.min(),Ie.min(),fr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=fr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=fr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof _n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new _n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf{constructor(e,t){this.position=e,this.inclusive=t}}function nT(n,e,t){let i=0;for(let a=0;a<n.position.length;a++){const l=e[a],c=n.position[a];if(l.field.isKeyField()?i=Ee.comparator(Ee.fromName(c.referenceValue),t.key):i=nl(c,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function rT(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!oi(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(e,t="asc"){this.field=e,this.dir=t}}function Bk(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{}class Pt extends ZS{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new Fk(e,t,i):t==="array-contains"?new $k(e,i):t==="in"?new Kk(e,i):t==="not-in"?new Yk(e,i):t==="array-contains-any"?new Qk(e,i):new Pt(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new Hk(e,i):new Gk(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(nl(t,this.value)):t!==null&&Ls(this.value)===Ls(t)&&this.matchesComparison(nl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return we(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class xr extends ZS{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new xr(e,t)}matches(e){return JS(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function JS(n){return n.op==="and"}function ew(n){return qk(n)&&JS(n)}function qk(n){for(const e of n.filters)if(e instanceof xr)return!1;return!0}function mg(n){if(n instanceof Pt)return n.field.canonicalString()+n.op.toString()+rl(n.value);if(ew(n))return n.filters.map(e=>mg(e)).join(",");{const e=n.filters.map(t=>mg(t)).join(",");return`${n.op}(${e})`}}function tw(n,e){return n instanceof Pt?function(i,a){return a instanceof Pt&&i.op===a.op&&i.field.isEqual(a.field)&&oi(i.value,a.value)}(n,e):n instanceof xr?function(i,a){return a instanceof xr&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce((l,c,d)=>l&&tw(c,a.filters[d]),!0):!1}(n,e):void we(19439)}function nw(n){return n instanceof Pt?function(t){return`${t.field.canonicalString()} ${t.op} ${rl(t.value)}`}(n):n instanceof xr?function(t){return t.op.toString()+" {"+t.getFilters().map(nw).join(" ,")+"}"}(n):"Filter"}class Fk extends Pt{constructor(e,t,i){super(e,t,i),this.key=Ee.fromName(i.referenceValue)}matches(e){const t=Ee.comparator(e.key,this.key);return this.matchesComparison(t)}}class Hk extends Pt{constructor(e,t){super(e,"in",t),this.keys=rw("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Gk extends Pt{constructor(e,t){super(e,"not-in",t),this.keys=rw("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function rw(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>Ee.fromName(i.referenceValue))}class $k extends Pt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return pv(t)&&ac(t.arrayValue,this.value)}}class Kk extends Pt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&ac(this.value.arrayValue,t)}}class Yk extends Pt{constructor(e,t){super(e,"not-in",t)}matches(e){if(ac(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!ac(this.value.arrayValue,t)}}class Qk extends Pt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!pv(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>ac(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{constructor(e,t=null,i=[],a=[],l=null,c=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=a,this.limit=l,this.startAt=c,this.endAt=d,this.Ie=null}}function iT(n,e=null,t=[],i=[],a=null,l=null,c=null){return new Xk(n,e,t,i,a,l,c)}function mv(n){const e=xe(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>mg(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(l){return l.field.canonicalString()+l.dir}(i)).join(","),hd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>rl(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>rl(i)).join(",")),e.Ie=t}return e.Ie}function gv(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Bk(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!tw(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!rT(n.startAt,e.startAt)&&rT(n.endAt,e.endAt)}function gg(n){return Ee.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(e,t=null,i=[],a=[],l=null,c="F",d=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=a,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=p,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function Wk(n,e,t,i,a,l,c,d){return new yl(n,e,t,i,a,l,c,d)}function vv(n){return new yl(n)}function sT(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function iw(n){return n.collectionGroup!==null}function Hu(n){const e=xe(n);if(e.Ee===null){e.Ee=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ee.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Bt(on.comparator);return c.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(d=d.add(g.field))})}),d})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ee.push(new oc(l,i))}),t.has(on.keyField().canonicalString())||e.Ee.push(new oc(on.keyField(),i))}return e.Ee}function ri(n){const e=xe(n);return e.de||(e.de=Zk(e,Hu(n))),e.de}function Zk(n,e){if(n.limitType==="F")return iT(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(a=>{const l=a.dir==="desc"?"asc":"desc";return new oc(a.field,l)});const t=n.endAt?new qf(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new qf(n.startAt.position,n.startAt.inclusive):null;return iT(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function vg(n,e){const t=n.filters.concat([e]);return new yl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function yg(n,e,t){return new yl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function dd(n,e){return gv(ri(n),ri(e))&&n.limitType===e.limitType}function sw(n){return`${mv(ri(n))}|lt:${n.limitType}`}function Uo(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(a=>nw(a)).join(", ")}]`),hd(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(a=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(a)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(a=>rl(a)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(a=>rl(a)).join(",")),`Target(${i})`}(ri(n))}; limitType=${n.limitType})`}function pd(n,e){return e.isFoundDocument()&&function(i,a){const l=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):Ee.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)}(n,e)&&function(i,a){for(const l of Hu(i))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0}(n,e)&&function(i,a){for(const l of i.filters)if(!l.matches(a))return!1;return!0}(n,e)&&function(i,a){return!(i.startAt&&!function(c,d,p){const g=nT(c,d,p);return c.inclusive?g<=0:g<0}(i.startAt,Hu(i),a)||i.endAt&&!function(c,d,p){const g=nT(c,d,p);return c.inclusive?g>=0:g>0}(i.endAt,Hu(i),a))}(n,e)}function Jk(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function aw(n){return(e,t)=>{let i=!1;for(const a of Hu(n)){const l=eM(a,e,t);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function eM(n,e,t){const i=n.field.isKeyField()?Ee.comparator(e.key,t.key):function(l,c,d){const p=c.data.field(l),g=d.data.field(l);return p!==null&&g!==null?nl(p,g):we(42886)}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return we(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[a,l]of i)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return i.length===1?delete this.inner[t]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){za(this.inner,(t,i)=>{for(const[a,l]of i)e(a,l)})}isEmpty(){return FS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tM=new vt(Ee.comparator);function Gi(){return tM}const ow=new vt(Ee.comparator);function Lu(...n){let e=ow;for(const t of n)e=e.insert(t.key,t);return e}function lw(n){let e=ow;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Sa(){return Gu()}function uw(){return Gu()}function Gu(){return new Ba(n=>n.toString(),(n,e)=>n.isEqual(e))}const nM=new vt(Ee.comparator),rM=new Bt(Ee.comparator);function ze(...n){let e=rM;for(const t of n)e=e.add(t);return e}const iM=new Bt(ke);function sM(){return iM}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yv(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:jf(e)?"-0":e}}function cw(n){return{integerValue:""+n}}function aM(n,e){return Pk(e)?cw(e):yv(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(){this._=void 0}}function oM(n,e,t){return n instanceof lc?function(a,l){const c={fields:{[$S]:{stringValue:GS},[YS]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&dv(l)&&(l=fd(l)),l&&(c.fields[KS]=l),{mapValue:c}}(t,e):n instanceof uc?fw(n,e):n instanceof cc?dw(n,e):function(a,l){const c=hw(a,l),d=aT(c)+aT(a.Re);return pg(c)&&pg(a.Re)?cw(d):yv(a.serializer,d)}(n,e)}function lM(n,e,t){return n instanceof uc?fw(n,e):n instanceof cc?dw(n,e):t}function hw(n,e){return n instanceof Ff?function(i){return pg(i)||function(l){return!!l&&"doubleValue"in l}(i)}(e)?e:{integerValue:0}:null}class lc extends md{}class uc extends md{constructor(e){super(),this.elements=e}}function fw(n,e){const t=pw(e);for(const i of n.elements)t.some(a=>oi(a,i))||t.push(i);return{arrayValue:{values:t}}}class cc extends md{constructor(e){super(),this.elements=e}}function dw(n,e){let t=pw(e);for(const i of n.elements)t=t.filter(a=>!oi(a,i));return{arrayValue:{values:t}}}class Ff extends md{constructor(e,t){super(),this.serializer=e,this.Re=t}}function aT(n){return wt(n.integerValue||n.doubleValue)}function pw(n){return pv(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uM{constructor(e,t){this.field=e,this.transform=t}}function cM(n,e){return n.field.isEqual(e.field)&&function(i,a){return i instanceof uc&&a instanceof uc||i instanceof cc&&a instanceof cc?tl(i.elements,a.elements,oi):i instanceof Ff&&a instanceof Ff?oi(i.Re,a.Re):i instanceof lc&&a instanceof lc}(n.transform,e.transform)}class hM{constructor(e,t){this.version=e,this.transformResults=t}}class ii{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ii}static exists(e){return new ii(void 0,e)}static updateTime(e){return new ii(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Af(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class gd{}function mw(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new vw(n.key,ii.none()):new bc(n.key,n.data,ii.none());{const t=n.data,i=fr.empty();let a=new Bt(on.comparator);for(let l of e.fields)if(!a.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?i.delete(l):i.set(l,c),a=a.add(l)}return new qa(n.key,i,new Rr(a.toArray()),ii.none())}}function fM(n,e,t){n instanceof bc?function(a,l,c){const d=a.value.clone(),p=lT(a.fieldTransforms,l,c.transformResults);d.setAll(p),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(n,e,t):n instanceof qa?function(a,l,c){if(!Af(a.precondition,l))return void l.convertToUnknownDocument(c.version);const d=lT(a.fieldTransforms,l,c.transformResults),p=l.data;p.setAll(gw(a)),p.setAll(d),l.convertToFoundDocument(c.version,p).setHasCommittedMutations()}(n,e,t):function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,t)}function $u(n,e,t,i){return n instanceof bc?function(l,c,d,p){if(!Af(l.precondition,c))return d;const g=l.value.clone(),v=uT(l.fieldTransforms,p,c);return g.setAll(v),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null}(n,e,t,i):n instanceof qa?function(l,c,d,p){if(!Af(l.precondition,c))return d;const g=uT(l.fieldTransforms,p,c),v=c.data;return v.setAll(gw(l)),v.setAll(g),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(b=>b.field))}(n,e,t,i):function(l,c,d){return Af(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d}(n,e,t)}function dM(n,e){let t=null;for(const i of n.fieldTransforms){const a=e.data.field(i.field),l=hw(i.transform,a||null);l!=null&&(t===null&&(t=fr.empty()),t.set(i.field,l))}return t||null}function oT(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&tl(i,a,(l,c)=>cM(l,c))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class bc extends gd{constructor(e,t,i,a=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class qa extends gd{constructor(e,t,i,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function gw(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function lT(n,e,t){const i=new Map;Ze(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let a=0;a<t.length;a++){const l=n[a],c=l.transform,d=e.data.field(l.field);i.set(l.field,lM(c,d,t[a]))}return i}function uT(n,e,t){const i=new Map;for(const a of n){const l=a.transform,c=t.data.field(a.field);i.set(a.field,oM(l,c,e))}return i}class vw extends gd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class pM extends gd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mM{constructor(e,t,i,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&fM(l,e,i[a])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=$u(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=$u(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=uw();return this.mutations.forEach(a=>{const l=e.get(a.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=t.has(a.key)?null:d;const p=mw(c,d);p!==null&&i.set(a.key,p),c.isValidDocument()||c.convertToNoDocument(Ie.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ze())}isEqual(e){return this.batchId===e.batchId&&tl(this.mutations,e.mutations,(t,i)=>oT(t,i))&&tl(this.baseMutations,e.baseMutations,(t,i)=>oT(t,i))}}class _v{constructor(e,t,i,a){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=a}static from(e,t,i){Ze(e.mutations.length===i.length,58842,{fe:e.mutations.length,ge:i.length});let a=function(){return nM}();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,i[c].version);return new _v(e,t,i,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gM{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vM{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nt,He;function yM(n){switch(n){case se.OK:return we(64938);case se.CANCELLED:case se.UNKNOWN:case se.DEADLINE_EXCEEDED:case se.RESOURCE_EXHAUSTED:case se.INTERNAL:case se.UNAVAILABLE:case se.UNAUTHENTICATED:return!1;case se.INVALID_ARGUMENT:case se.NOT_FOUND:case se.ALREADY_EXISTS:case se.PERMISSION_DENIED:case se.FAILED_PRECONDITION:case se.ABORTED:case se.OUT_OF_RANGE:case se.UNIMPLEMENTED:case se.DATA_LOSS:return!0;default:return we(15467,{code:n})}}function yw(n){if(n===void 0)return Hi("GRPC error has no .code"),se.UNKNOWN;switch(n){case Nt.OK:return se.OK;case Nt.CANCELLED:return se.CANCELLED;case Nt.UNKNOWN:return se.UNKNOWN;case Nt.DEADLINE_EXCEEDED:return se.DEADLINE_EXCEEDED;case Nt.RESOURCE_EXHAUSTED:return se.RESOURCE_EXHAUSTED;case Nt.INTERNAL:return se.INTERNAL;case Nt.UNAVAILABLE:return se.UNAVAILABLE;case Nt.UNAUTHENTICATED:return se.UNAUTHENTICATED;case Nt.INVALID_ARGUMENT:return se.INVALID_ARGUMENT;case Nt.NOT_FOUND:return se.NOT_FOUND;case Nt.ALREADY_EXISTS:return se.ALREADY_EXISTS;case Nt.PERMISSION_DENIED:return se.PERMISSION_DENIED;case Nt.FAILED_PRECONDITION:return se.FAILED_PRECONDITION;case Nt.ABORTED:return se.ABORTED;case Nt.OUT_OF_RANGE:return se.OUT_OF_RANGE;case Nt.UNIMPLEMENTED:return se.UNIMPLEMENTED;case Nt.DATA_LOSS:return se.DATA_LOSS;default:return we(39323,{code:n})}}(He=Nt||(Nt={}))[He.OK=0]="OK",He[He.CANCELLED=1]="CANCELLED",He[He.UNKNOWN=2]="UNKNOWN",He[He.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",He[He.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",He[He.NOT_FOUND=5]="NOT_FOUND",He[He.ALREADY_EXISTS=6]="ALREADY_EXISTS",He[He.PERMISSION_DENIED=7]="PERMISSION_DENIED",He[He.UNAUTHENTICATED=16]="UNAUTHENTICATED",He[He.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",He[He.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",He[He.ABORTED=10]="ABORTED",He[He.OUT_OF_RANGE=11]="OUT_OF_RANGE",He[He.UNIMPLEMENTED=12]="UNIMPLEMENTED",He[He.INTERNAL=13]="INTERNAL",He[He.UNAVAILABLE=14]="UNAVAILABLE",He[He.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _M=new Os([4294967295,4294967295],0);function cT(n){const e=zS().encode(n),t=new DS;return t.update(e),new Uint8Array(t.digest())}function hT(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Os([t,i],0),new Os([a,l],0)]}class Ev{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Uu(`Invalid padding: ${t}`);if(i<0)throw new Uu(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Uu(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Uu(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=Os.fromNumber(this.pe)}we(e,t,i){let a=e.add(t.multiply(Os.fromNumber(i)));return a.compare(_M)===1&&(a=new Os([a.getBits(0),a.getBits(1)],0)),a.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=cT(e),[i,a]=hT(t);for(let l=0;l<this.hashCount;l++){const c=this.we(i,a,l);if(!this.be(c))return!1}return!0}static create(e,t,i){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new Ev(l,a,t);return i.forEach(d=>c.insert(d)),c}insert(e){if(this.pe===0)return;const t=cT(e),[i,a]=hT(t);for(let l=0;l<this.hashCount;l++){const c=this.we(i,a,l);this.Se(c)}}Se(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class Uu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(e,t,i,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const a=new Map;return a.set(e,Tc.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new vd(Ie.min(),a,new vt(ke),Gi(),ze())}}class Tc{constructor(e,t,i,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Tc(i,t,ze(),ze(),ze())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(e,t,i,a){this.De=e,this.removedTargetIds=t,this.key=i,this.ve=a}}class _w{constructor(e,t){this.targetId=e,this.Ce=t}}class Ew{constructor(e,t,i=ln.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=a}}class fT{constructor(){this.Fe=0,this.Me=dT(),this.xe=ln.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=ze(),t=ze(),i=ze();return this.Me.forEach((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:i=i.add(a);break;default:we(38017,{changeType:l})}}),new Tc(this.xe,this.Oe,e,t,i)}Qe(){this.Ne=!1,this.Me=dT()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Ze(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class EM{constructor(e){this.ze=e,this.je=new Map,this.He=Gi(),this.Je=sf(),this.Ye=sf(),this.Ze=new vt(ke)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const i=this.rt(t);switch(e.state){case 0:this.it(t)&&i.ke(e.resumeToken);break;case 1:i.We(),i.Be||i.Qe(),i.ke(e.resumeToken);break;case 2:i.We(),i.Be||this.removeTarget(t);break;case 3:this.it(t)&&(i.Ge(),i.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),i.ke(e.resumeToken));break;default:we(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((i,a)=>{this.it(a)&&t(a)})}ot(e){const t=e.targetId,i=e.Ce.count,a=this._t(t);if(a){const l=a.target;if(gg(l))if(i===0){const c=new Ee(l.path);this.tt(t,c,_n.newNoDocument(c,Ie.min()))}else Ze(i===1,20013,{expectedCount:i});else{const c=this.ut(t);if(c!==i){const d=this.ct(e),p=d?this.lt(d,e,c):1;if(p!==0){this.st(t);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,g)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:l=0}=t;let c,d;try{c=Vs(i).toUint8Array()}catch(p){if(p instanceof HS)return el("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new Ev(c,a,l)}catch(p){return el(p instanceof Uu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.pe===0?null:d}lt(e,t,i){return t.Ce.count===i-this.Tt(e,t.targetId)?0:2}Tt(e,t){const i=this.ze.getRemoteKeysForTarget(t);let a=0;return i.forEach(l=>{const c=this.ze.Pt(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.tt(t,l,null),a++)}),a}It(e){const t=new Map;this.je.forEach((l,c)=>{const d=this._t(c);if(d){if(l.current&&gg(d.target)){const p=new Ee(d.target.path);this.Et(p).has(c)||this.dt(c,p)||this.tt(c,p,_n.newNoDocument(p,e))}l.Le&&(t.set(c,l.qe()),l.Qe())}});let i=ze();this.Ye.forEach((l,c)=>{let d=!0;c.forEachWhile(p=>{const g=this._t(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(i=i.add(l))}),this.He.forEach((l,c)=>c.setReadTime(e));const a=new vd(e,t,this.Ze,this.He,i);return this.He=Gi(),this.Je=sf(),this.Ye=sf(),this.Ze=new vt(ke),a}et(e,t){if(!this.it(e))return;const i=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,i),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,i){if(!this.it(e))return;const a=this.rt(e);this.dt(e,t)?a.$e(t,1):a.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),i&&(this.He=this.He.insert(t,i))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new fT,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new Bt(ke),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new Bt(ke),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||de("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new fT),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function sf(){return new vt(Ee.comparator)}function dT(){return new vt(Ee.comparator)}const bM={asc:"ASCENDING",desc:"DESCENDING"},TM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},AM={and:"AND",or:"OR"};class SM{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function _g(n,e){return n.useProto3Json||hd(e)?e:{value:e}}function Hf(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function bw(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function wM(n,e){return Hf(n,e.toTimestamp())}function si(n){return Ze(!!n,49232),Ie.fromTimestamp(function(t){const i=Ms(t);return new zt(i.seconds,i.nanos)}(n))}function bv(n,e){return Eg(n,e).canonicalString()}function Eg(n,e){const t=function(a){return new ht(["projects",a.projectId,"databases",a.database])}(n).child("documents");return e===void 0?t:t.child(e)}function Tw(n){const e=ht.fromString(n);return Ze(Cw(e),10190,{key:e.toString()}),e}function bg(n,e){return bv(n.databaseId,e.path)}function qm(n,e){const t=Tw(e);if(t.get(1)!==n.databaseId.projectId)throw new pe(se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new pe(se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ee(Sw(t))}function Aw(n,e){return bv(n.databaseId,e)}function RM(n){const e=Tw(n);return e.length===4?ht.emptyPath():Sw(e)}function Tg(n){return new ht(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Sw(n){return Ze(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function pT(n,e,t){return{name:bg(n,e),fields:t.value.mapValue.fields}}function CM(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:we(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=function(g,v){return g.useProto3Json?(Ze(v===void 0||typeof v=="string",58123),ln.fromBase64String(v||"")):(Ze(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),ln.fromUint8Array(v||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&function(g){const v=g.code===void 0?se.UNKNOWN:yw(g.code);return new pe(v,g.message||"")}(c);t=new Ew(i,a,l,d||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const a=qm(n,i.document.name),l=si(i.document.updateTime),c=i.document.createTime?si(i.document.createTime):Ie.min(),d=new fr({mapValue:{fields:i.document.fields}}),p=_n.newFoundDocument(a,l,c,d),g=i.targetIds||[],v=i.removedTargetIds||[];t=new Sf(g,v,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const a=qm(n,i.document),l=i.readTime?si(i.readTime):Ie.min(),c=_n.newNoDocument(a,l),d=i.removedTargetIds||[];t=new Sf([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const a=qm(n,i.document),l=i.removedTargetIds||[];t=new Sf([],l,a,null)}else{if(!("filter"in e))return we(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:a=0,unchangedNames:l}=i,c=new vM(a,l),d=i.targetId;t=new _w(d,c)}}return t}function IM(n,e){let t;if(e instanceof bc)t={update:pT(n,e.key,e.value)};else if(e instanceof vw)t={delete:bg(n,e.key)};else if(e instanceof qa)t={update:pT(n,e.key,e.data),updateMask:LM(e.fieldMask)};else{if(!(e instanceof pM))return we(16599,{ft:e.type});t={verify:bg(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(l,c){const d=c.transform;if(d instanceof lc)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof uc)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof cc)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Ff)return{fieldPath:c.field.canonicalString(),increment:d.Re};throw we(20930,{transform:c.transform})}(0,i))),e.precondition.isNone||(t.currentDocument=function(a,l){return l.updateTime!==void 0?{updateTime:wM(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:we(27497)}(n,e.precondition)),t}function xM(n,e){return n&&n.length>0?(Ze(e!==void 0,14353),n.map(t=>function(a,l){let c=a.updateTime?si(a.updateTime):si(l);return c.isEqual(Ie.min())&&(c=si(l)),new hM(c,a.transformResults||[])}(t,e))):[]}function OM(n,e){return{documents:[Aw(n,e.path)]}}function NM(n,e){const t={structuredQuery:{}},i=e.path;let a;e.collectionGroup!==null?(a=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=Aw(n,a);const l=function(g){if(g.length!==0)return Rw(xr.create(g,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const c=function(g){if(g.length!==0)return g.map(v=>function(S){return{field:jo(S.field),direction:kM(S.dir)}}(v))}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const d=_g(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{gt:t,parent:a}}function DM(n){let e=RM(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let a=null;if(i>0){Ze(i===1,65062);const v=t.from[0];v.allDescendants?a=v.collectionId:e=e.child(v.collectionId)}let l=[];t.where&&(l=function(b){const S=ww(b);return S instanceof xr&&ew(S)?S.getFilters():[S]}(t.where));let c=[];t.orderBy&&(c=function(b){return b.map(S=>function(C){return new oc(zo(C.field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(S))}(t.orderBy));let d=null;t.limit&&(d=function(b){let S;return S=typeof b=="object"?b.value:b,hd(S)?null:S}(t.limit));let p=null;t.startAt&&(p=function(b){const S=!!b.before,O=b.values||[];return new qf(O,S)}(t.startAt));let g=null;return t.endAt&&(g=function(b){const S=!b.before,O=b.values||[];return new qf(O,S)}(t.endAt)),Wk(e,a,c,l,d,"F",p,g)}function PM(n,e){const t=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return we(28987,{purpose:a})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function ww(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=zo(t.unaryFilter.field);return Pt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=zo(t.unaryFilter.field);return Pt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=zo(t.unaryFilter.field);return Pt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=zo(t.unaryFilter.field);return Pt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return we(61313);default:return we(60726)}}(n):n.fieldFilter!==void 0?function(t){return Pt.create(zo(t.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return we(58110);default:return we(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return xr.create(t.compositeFilter.filters.map(i=>ww(i)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return we(1026)}}(t.compositeFilter.op))}(n):we(30097,{filter:n})}function kM(n){return bM[n]}function MM(n){return TM[n]}function VM(n){return AM[n]}function jo(n){return{fieldPath:n.canonicalString()}}function zo(n){return on.fromServerFormat(n.fieldPath)}function Rw(n){return n instanceof Pt?function(t){if(t.op==="=="){if(tT(t.value))return{unaryFilter:{field:jo(t.field),op:"IS_NAN"}};if(eT(t.value))return{unaryFilter:{field:jo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(tT(t.value))return{unaryFilter:{field:jo(t.field),op:"IS_NOT_NAN"}};if(eT(t.value))return{unaryFilter:{field:jo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:jo(t.field),op:MM(t.op),value:t.value}}}(n):n instanceof xr?function(t){const i=t.getFilters().map(a=>Rw(a));return i.length===1?i[0]:{compositeFilter:{op:VM(t.op),filters:i}}}(n):we(54877,{filter:n})}function LM(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Cw(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(e,t,i,a,l=Ie.min(),c=Ie.min(),d=ln.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(e){return new Rs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Rs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Rs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Rs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UM{constructor(e){this.wt=e}}function jM(n){const e=DM({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?yg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zM{constructor(){this.yn=new BM}addToCollectionParentIndex(e,t){return this.yn.add(t),ae.resolve()}getCollectionParents(e,t){return ae.resolve(this.yn.getEntries(t))}addFieldIndex(e,t){return ae.resolve()}deleteFieldIndex(e,t){return ae.resolve()}deleteAllFieldIndexes(e){return ae.resolve()}createTargetIndexes(e,t){return ae.resolve()}getDocumentsMatchingTarget(e,t){return ae.resolve(null)}getIndexType(e,t){return ae.resolve(0)}getFieldIndexes(e,t){return ae.resolve([])}getNextCollectionGroupToUpdate(e){return ae.resolve(null)}getMinOffset(e,t){return ae.resolve(ks.min())}getMinOffsetFromCollectionGroup(e,t){return ae.resolve(ks.min())}updateCollectionGroup(e,t,i){return ae.resolve()}updateIndexEntries(e,t){return ae.resolve()}}class BM{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t]||new Bt(ht.comparator),l=!a.has(i);return this.index[t]=a.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t];return a&&a.has(i)}getEntries(e){return(this.index[e]||new Bt(ht.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Iw=41943040;class Dn{static withCacheSize(e){return new Dn(e,Dn.DEFAULT_COLLECTION_PERCENTILE,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Dn.DEFAULT_COLLECTION_PERCENTILE=10,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Dn.DEFAULT=new Dn(Iw,Dn.DEFAULT_COLLECTION_PERCENTILE,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Dn.DISABLED=new Dn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new il(0)}static ir(){return new il(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gT="LruGarbageCollector",qM=1048576;function vT([n,e],[t,i]){const a=ke(n,t);return a===0?ke(e,i):a}class FM{constructor(e){this.cr=e,this.buffer=new Bt(vT),this.lr=0}hr(){return++this.lr}Pr(e){const t=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();vT(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class HM{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){de(gT,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){vl(t)?de(gT,"Ignoring IndexedDB error during garbage collection: ",t):await gl(t)}await this.Ir(3e5)})}}class GM{constructor(e,t){this.Er=e,this.params=t}calculateTargetCount(e,t){return this.Er.dr(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return ae.resolve(cd.le);const i=new FM(t);return this.Er.forEachTarget(e,a=>i.Pr(a.sequenceNumber)).next(()=>this.Er.Ar(e,a=>i.Pr(a))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.Er.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Er.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(de("LruGarbageCollector","Garbage collection skipped; disabled"),ae.resolve(mT)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),mT):this.Rr(e,t))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,t){let i,a,l,c,d,p,g;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),a=this.params.maximumSequenceNumbersToCollect):a=b,c=Date.now(),this.nthSequenceNumber(e,a))).next(b=>(i=b,d=Date.now(),this.removeTargets(e,i,t))).next(b=>(l=b,p=Date.now(),this.removeOrphanedDocuments(e,i))).next(b=>(g=Date.now(),Lo()<=je.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${a} in `+(d-c)+`ms
	Removed ${l} targets in `+(p-d)+`ms
	Removed ${b} documents in `+(g-p)+`ms
Total Duration: ${g-v}ms`),ae.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:b})))}}function $M(n,e){return new GM(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KM{constructor(){this.changes=new Ba(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,_n.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?ae.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YM{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QM{constructor(e,t,i,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(i=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(i!==null&&$u(i.mutation,a,Rr.empty(),zt.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,ze()).next(()=>i))}getLocalViewOfDocuments(e,t,i=ze()){const a=Sa();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,i).next(l=>{let c=Lu();return l.forEach((d,p)=>{c=c.insert(d,p.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const i=Sa();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,ze()))}populateOverlays(e,t,i){const a=[];return i.forEach(l=>{t.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(e,a).next(l=>{l.forEach((c,d)=>{t.set(c,d)})})}computeViews(e,t,i,a){let l=Gi();const c=Gu(),d=function(){return Gu()}();return t.forEach((p,g)=>{const v=i.get(g.key);a.has(g.key)&&(v===void 0||v.mutation instanceof qa)?l=l.insert(g.key,g):v!==void 0?(c.set(g.key,v.mutation.getFieldMask()),$u(v.mutation,g,v.mutation.getFieldMask(),zt.now())):c.set(g.key,Rr.empty())}),this.recalculateAndSaveOverlays(e,l).next(p=>(p.forEach((g,v)=>c.set(g,v)),t.forEach((g,v)=>{var b;return d.set(g,new YM(v,(b=c.get(g))!==null&&b!==void 0?b:null))}),d))}recalculateAndSaveOverlays(e,t){const i=Gu();let a=new vt((c,d)=>c-d),l=ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const d of c)d.keys().forEach(p=>{const g=t.get(p);if(g===null)return;let v=i.get(p)||Rr.empty();v=d.applyToLocalView(g,v),i.set(p,v);const b=(a.get(d.batchId)||ze()).add(p);a=a.insert(d.batchId,b)})}).next(()=>{const c=[],d=a.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),g=p.key,v=p.value,b=uw();v.forEach(S=>{if(!l.has(S)){const O=mw(t.get(S),i.get(S));O!==null&&b.set(S,O),l=l.add(S)}}),c.push(this.documentOverlayCache.saveOverlays(e,g,b))}return ae.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,a){return function(c){return Ee.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):iw(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,a):this.getDocumentsMatchingCollectionQuery(e,t,i,a)}getNextDocuments(e,t,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,a).next(l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,a-l.size):ae.resolve(Sa());let d=rc,p=l;return c.next(g=>ae.forEach(g,(v,b)=>(d<b.largestBatchId&&(d=b.largestBatchId),l.get(v)?ae.resolve():this.remoteDocumentCache.getEntry(e,v).next(S=>{p=p.insert(v,S)}))).next(()=>this.populateOverlays(e,g,l)).next(()=>this.computeViews(e,p,g,ze())).next(v=>({batchId:d,changes:lw(v)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ee(t)).next(i=>{let a=Lu();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,i,a){const l=t.collectionGroup;let c=Lu();return this.indexManager.getCollectionParents(e,l).next(d=>ae.forEach(d,p=>{const g=function(b,S){return new yl(S,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(t,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,i,a).next(v=>{v.forEach((b,S)=>{c=c.insert(b,S)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,i,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,a))).next(c=>{l.forEach((p,g)=>{const v=g.getKey();c.get(v)===null&&(c=c.insert(v,_n.newInvalidDocument(v)))});let d=Lu();return c.forEach((p,g)=>{const v=l.get(p);v!==void 0&&$u(v.mutation,g,Rr.empty(),zt.now()),pd(t,g)&&(d=d.insert(p,g))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XM{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,t){return ae.resolve(this.Fr.get(t))}saveBundleMetadata(e,t){return this.Fr.set(t.id,function(a){return{id:a.id,version:a.version,createTime:si(a.createTime)}}(t)),ae.resolve()}getNamedQuery(e,t){return ae.resolve(this.Mr.get(t))}saveNamedQuery(e,t){return this.Mr.set(t.name,function(a){return{name:a.name,query:jM(a.bundledQuery),readTime:si(a.readTime)}}(t)),ae.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WM{constructor(){this.overlays=new vt(Ee.comparator),this.Or=new Map}getOverlay(e,t){return ae.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Sa();return ae.forEach(t,a=>this.getOverlay(e,a).next(l=>{l!==null&&i.set(a,l)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((a,l)=>{this.St(e,t,l)}),ae.resolve()}removeOverlaysForBatchId(e,t,i){const a=this.Or.get(i);return a!==void 0&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.Or.delete(i)),ae.resolve()}getOverlaysForCollection(e,t,i){const a=Sa(),l=t.length+1,c=new Ee(t.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const p=d.getNext().value,g=p.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===l&&p.largestBatchId>i&&a.set(p.getKey(),p)}return ae.resolve(a)}getOverlaysForCollectionGroup(e,t,i,a){let l=new vt((g,v)=>g-v);const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>i){let v=l.get(g.largestBatchId);v===null&&(v=Sa(),l=l.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const d=Sa(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,v)=>d.set(g,v)),!(d.size()>=a)););return ae.resolve(d)}St(e,t,i){const a=this.overlays.get(i.key);if(a!==null){const c=this.Or.get(a.largestBatchId).delete(i.key);this.Or.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new gM(t,i));let l=this.Or.get(t);l===void 0&&(l=ze(),this.Or.set(t,l)),this.Or.set(t,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZM{constructor(){this.sessionToken=ln.EMPTY_BYTE_STRING}getSessionToken(e){return ae.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ae.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv{constructor(){this.Nr=new Bt(Xt.Br),this.Lr=new Bt(Xt.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,t){const i=new Xt(e,t);this.Nr=this.Nr.add(i),this.Lr=this.Lr.add(i)}qr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.Qr(new Xt(e,t))}$r(e,t){e.forEach(i=>this.removeReference(i,t))}Ur(e){const t=new Ee(new ht([])),i=new Xt(t,e),a=new Xt(t,e+1),l=[];return this.Lr.forEachInRange([i,a],c=>{this.Qr(c),l.push(c.key)}),l}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const t=new Ee(new ht([])),i=new Xt(t,e),a=new Xt(t,e+1);let l=ze();return this.Lr.forEachInRange([i,a],c=>{l=l.add(c.key)}),l}containsKey(e){const t=new Xt(e,0),i=this.Nr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Xt{constructor(e,t){this.key=e,this.Gr=t}static Br(e,t){return Ee.comparator(e.key,t.key)||ke(e.Gr,t.Gr)}static kr(e,t){return ke(e.Gr,t.Gr)||Ee.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JM{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Jn=1,this.zr=new Bt(Xt.Br)}checkEmpty(e){return ae.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,a){const l=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new mM(l,t,i,a);this.mutationQueue.push(c);for(const d of a)this.zr=this.zr.add(new Xt(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return ae.resolve(c)}lookupMutationBatch(e,t){return ae.resolve(this.jr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,a=this.Hr(i),l=a<0?0:a;return ae.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ae.resolve(this.mutationQueue.length===0?fv:this.Jn-1)}getAllMutationBatches(e){return ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Xt(t,0),a=new Xt(t,Number.POSITIVE_INFINITY),l=[];return this.zr.forEachInRange([i,a],c=>{const d=this.jr(c.Gr);l.push(d)}),ae.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Bt(ke);return t.forEach(a=>{const l=new Xt(a,0),c=new Xt(a,Number.POSITIVE_INFINITY);this.zr.forEachInRange([l,c],d=>{i=i.add(d.Gr)})}),ae.resolve(this.Jr(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,a=i.length+1;let l=i;Ee.isDocumentKey(l)||(l=l.child(""));const c=new Xt(new Ee(l),0);let d=new Bt(ke);return this.zr.forEachWhile(p=>{const g=p.key.path;return!!i.isPrefixOf(g)&&(g.length===a&&(d=d.add(p.Gr)),!0)},c),ae.resolve(this.Jr(d))}Jr(e){const t=[];return e.forEach(i=>{const a=this.jr(i);a!==null&&t.push(a)}),t}removeMutationBatch(e,t){Ze(this.Yr(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.zr;return ae.forEach(t.mutations,a=>{const l=new Xt(a.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.zr=i})}Xn(e){}containsKey(e,t){const i=new Xt(t,0),a=this.zr.firstAfterOrEqual(i);return ae.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,ae.resolve()}Yr(e,t){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const t=this.Hr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eV{constructor(e){this.Zr=e,this.docs=function(){return new vt(Ee.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,a=this.docs.get(i),l=a?a.size:0,c=this.Zr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return ae.resolve(i?i.document.mutableCopy():_n.newInvalidDocument(t))}getEntries(e,t){let i=Gi();return t.forEach(a=>{const l=this.docs.get(a);i=i.insert(a,l?l.document.mutableCopy():_n.newInvalidDocument(a))}),ae.resolve(i)}getDocumentsMatchingQuery(e,t,i,a){let l=Gi();const c=t.path,d=new Ee(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:g,value:{document:v}}=p.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||xk(Ik(v),i)<=0||(a.has(v.key)||pd(t,v))&&(l=l.insert(v.key,v.mutableCopy()))}return ae.resolve(l)}getAllFromCollectionGroup(e,t,i,a){we(9500)}Xr(e,t){return ae.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new tV(this)}getSize(e){return ae.resolve(this.size)}}class tV extends KM{constructor(e){super(),this.vr=e}applyChanges(e){const t=[];return this.changes.forEach((i,a)=>{a.isValidDocument()?t.push(this.vr.addEntry(e,a)):this.vr.removeEntry(i)}),ae.waitFor(t)}getFromCache(e,t){return this.vr.getEntry(e,t)}getAllFromCache(e,t){return this.vr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nV{constructor(e){this.persistence=e,this.ei=new Ba(t=>mv(t),gv),this.lastRemoteSnapshotVersion=Ie.min(),this.highestTargetId=0,this.ti=0,this.ni=new Tv,this.targetCount=0,this.ri=il.rr()}forEachTarget(e,t){return this.ei.forEach((i,a)=>t(a)),ae.resolve()}getLastRemoteSnapshotVersion(e){return ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ae.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),ae.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.ti&&(this.ti=t),ae.resolve()}ar(e){this.ei.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ri=new il(t),this.highestTargetId=t),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,t){return this.ar(t),this.targetCount+=1,ae.resolve()}updateTargetData(e,t){return this.ar(t),ae.resolve()}removeTargetData(e,t){return this.ei.delete(t.target),this.ni.Ur(t.targetId),this.targetCount-=1,ae.resolve()}removeTargets(e,t,i){let a=0;const l=[];return this.ei.forEach((c,d)=>{d.sequenceNumber<=t&&i.get(d.targetId)===null&&(this.ei.delete(c),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)}),ae.waitFor(l).next(()=>a)}getTargetCount(e){return ae.resolve(this.targetCount)}getTargetData(e,t){const i=this.ei.get(t)||null;return ae.resolve(i)}addMatchingKeys(e,t,i){return this.ni.qr(t,i),ae.resolve()}removeMatchingKeys(e,t,i){this.ni.$r(t,i);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach(c=>{l.push(a.markPotentiallyOrphaned(e,c))}),ae.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.ni.Ur(t),ae.resolve()}getMatchingKeysForTargetId(e,t){const i=this.ni.Wr(t);return ae.resolve(i)}containsKey(e,t){return ae.resolve(this.ni.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw{constructor(e,t){this.ii={},this.overlays={},this.si=new cd(0),this.oi=!1,this.oi=!0,this._i=new ZM,this.referenceDelegate=e(this),this.ai=new nV(this),this.indexManager=new zM,this.remoteDocumentCache=function(a){return new eV(a)}(i=>this.referenceDelegate.ui(i)),this.serializer=new UM(t),this.ci=new XM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new WM,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ii[e.toKey()];return i||(i=new JM(t,this.referenceDelegate),this.ii[e.toKey()]=i),i}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,t,i){de("MemoryPersistence","Starting transaction:",e);const a=new rV(this.si.next());return this.referenceDelegate.li(),i(a).next(l=>this.referenceDelegate.hi(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}Pi(e,t){return ae.or(Object.values(this.ii).map(i=>()=>i.containsKey(e,t)))}}class rV extends Nk{constructor(e){super(),this.currentSequenceNumber=e}}class Av{constructor(e){this.persistence=e,this.Ti=new Tv,this.Ii=null}static Ei(e){return new Av(e)}get di(){if(this.Ii)return this.Ii;throw we(60996)}addReference(e,t,i){return this.Ti.addReference(i,t),this.di.delete(i.toString()),ae.resolve()}removeReference(e,t,i){return this.Ti.removeReference(i,t),this.di.add(i.toString()),ae.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),ae.resolve()}removeTarget(e,t){this.Ti.Ur(t.targetId).forEach(a=>this.di.add(a.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(l=>this.di.add(l.toString()))}).next(()=>i.removeTargetData(e,t))}li(){this.Ii=new Set}hi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ae.forEach(this.di,i=>{const a=Ee.fromPath(i);return this.Ai(e,a).next(l=>{l||t.removeEntry(a,Ie.min())})}).next(()=>(this.Ii=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ai(e,t).next(i=>{i?this.di.delete(t.toString()):this.di.add(t.toString())})}ui(e){return 0}Ai(e,t){return ae.or([()=>ae.resolve(this.Ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Pi(e,t)])}}class Gf{constructor(e,t){this.persistence=e,this.Ri=new Ba(i=>kk(i.path),(i,a)=>i.isEqual(a)),this.garbageCollector=$M(this,t)}static Ei(e,t){return new Gf(e,t)}li(){}hi(e){return ae.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(a=>i+a))}Vr(e){let t=0;return this.Ar(e,i=>{t++}).next(()=>t)}Ar(e,t){return ae.forEach(this.Ri,(i,a)=>this.gr(e,i,a).next(l=>l?ae.resolve():t(a)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.Xr(e,c=>this.gr(e,c,t).next(d=>{d||(i++,l.removeEntry(c,Ie.min()))})).next(()=>l.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.Ri.set(t,e.currentSequenceNumber),ae.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.Ri.set(i,e.currentSequenceNumber),ae.resolve()}removeReference(e,t,i){return this.Ri.set(i,e.currentSequenceNumber),ae.resolve()}updateLimboDocument(e,t){return this.Ri.set(t,e.currentSequenceNumber),ae.resolve()}ui(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=bf(e.data.value)),t}gr(e,t,i){return ae.or([()=>this.persistence.Pi(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.Ri.get(t);return ae.resolve(a!==void 0&&a>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sv{constructor(e,t,i,a){this.targetId=e,this.fromCache=t,this.ls=i,this.hs=a}static Ps(e,t){let i=ze(),a=ze();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Sv(e,t.fromCache,i,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sV{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return kN()?8:Dk(En())>0?6:4}()}initialize(e,t){this.As=e,this.indexManager=t,this.Ts=!0}getDocumentsMatchingQuery(e,t,i,a){const l={result:null};return this.Rs(e,t).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.Vs(e,t,a,i).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new iV;return this.fs(e,t,c).next(d=>{if(l.result=d,this.Is)return this.gs(e,t,c,d.size)})}).next(()=>l.result)}gs(e,t,i,a){return i.documentReadCount<this.Es?(Lo()<=je.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",Uo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),ae.resolve()):(Lo()<=je.DEBUG&&de("QueryEngine","Query:",Uo(t),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.ds*a?(Lo()<=je.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",Uo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ri(t))):ae.resolve())}Rs(e,t){if(sT(t))return ae.resolve(null);let i=ri(t);return this.indexManager.getIndexType(e,i).next(a=>a===0?null:(t.limit!==null&&a===1&&(t=yg(t,null,"F"),i=ri(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(l=>{const c=ze(...l);return this.As.getDocuments(e,c).next(d=>this.indexManager.getMinOffset(e,i).next(p=>{const g=this.ps(t,d);return this.ys(t,g,c,p.readTime)?this.Rs(e,yg(t,null,"F")):this.ws(e,g,t,p)}))})))}Vs(e,t,i,a){return sT(t)||a.isEqual(Ie.min())?ae.resolve(null):this.As.getDocuments(e,i).next(l=>{const c=this.ps(t,l);return this.ys(t,c,i,a)?ae.resolve(null):(Lo()<=je.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Uo(t)),this.ws(e,c,t,Ck(a,rc)).next(d=>d))})}ps(e,t){let i=new Bt(aw(e));return t.forEach((a,l)=>{pd(e,l)&&(i=i.add(l))}),i}ys(e,t,i,a){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}fs(e,t,i){return Lo()<=je.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",Uo(t)),this.As.getDocumentsMatchingQuery(e,t,ks.min(),i)}ws(e,t,i,a){return this.As.getDocumentsMatchingQuery(e,i,a).next(l=>(t.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wv="LocalStore",aV=3e8;class oV{constructor(e,t,i,a){this.persistence=e,this.bs=t,this.serializer=a,this.Ss=new vt(ke),this.Ds=new Ba(l=>mv(l),gv),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(i)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new QM(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ss))}}function lV(n,e,t,i){return new oV(n,e,t,i)}async function Ow(n,e){const t=xe(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let a;return t.mutationQueue.getAllMutationBatches(i).next(l=>(a=l,t.Fs(e),t.mutationQueue.getAllMutationBatches(i))).next(l=>{const c=[],d=[];let p=ze();for(const g of a){c.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}for(const g of l){d.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}return t.localDocuments.getDocuments(i,p).next(g=>({Ms:g,removedBatchIds:c,addedBatchIds:d}))})})}function uV(n,e){const t=xe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const a=e.batch.keys(),l=t.Cs.newChangeBuffer({trackRemovals:!0});return function(d,p,g,v){const b=g.batch,S=b.keys();let O=ae.resolve();return S.forEach(C=>{O=O.next(()=>v.getEntry(p,C)).next(M=>{const P=g.docVersions.get(C);Ze(P!==null,48541),M.version.compareTo(P)<0&&(b.applyToRemoteDocument(M,g),M.isValidDocument()&&(M.setReadTime(g.commitVersion),v.addEntry(M)))})}),O.next(()=>d.mutationQueue.removeMutationBatch(p,b))}(t,i,e,l).next(()=>l.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(d){let p=ze();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(p=p.add(d.batch.mutations[g].key));return p}(e))).next(()=>t.localDocuments.getDocuments(i,a))})}function Nw(n){const e=xe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ai.getLastRemoteSnapshotVersion(t))}function cV(n,e){const t=xe(n),i=e.snapshotVersion;let a=t.Ss;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=t.Cs.newChangeBuffer({trackRemovals:!0});a=t.Ss;const d=[];e.targetChanges.forEach((v,b)=>{const S=a.get(b);if(!S)return;d.push(t.ai.removeMatchingKeys(l,v.removedDocuments,b).next(()=>t.ai.addMatchingKeys(l,v.addedDocuments,b)));let O=S.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(b)!==null?O=O.withResumeToken(ln.EMPTY_BYTE_STRING,Ie.min()).withLastLimboFreeSnapshotVersion(Ie.min()):v.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(v.resumeToken,i)),a=a.insert(b,O),function(M,P,B){return M.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=aV?!0:B.addedDocuments.size+B.modifiedDocuments.size+B.removedDocuments.size>0}(S,O,v)&&d.push(t.ai.updateTargetData(l,O))});let p=Gi(),g=ze();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(l,v))}),d.push(hV(l,c,e.documentUpdates).next(v=>{p=v.xs,g=v.Os})),!i.isEqual(Ie.min())){const v=t.ai.getLastRemoteSnapshotVersion(l).next(b=>t.ai.setTargetsMetadata(l,l.currentSequenceNumber,i));d.push(v)}return ae.waitFor(d).next(()=>c.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,p,g)).next(()=>p)}).then(l=>(t.Ss=a,l))}function hV(n,e,t){let i=ze(),a=ze();return t.forEach(l=>i=i.add(l)),e.getEntries(n,i).next(l=>{let c=Gi();return t.forEach((d,p)=>{const g=l.get(d);p.isFoundDocument()!==g.isFoundDocument()&&(a=a.add(d)),p.isNoDocument()&&p.version.isEqual(Ie.min())?(e.removeEntry(d,p.readTime),c=c.insert(d,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),c=c.insert(d,p)):de(wv,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",p.version)}),{xs:c,Os:a}})}function fV(n,e){const t=xe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=fv),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function dV(n,e){const t=xe(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let a;return t.ai.getTargetData(i,e).next(l=>l?(a=l,ae.resolve(a)):t.ai.allocateTargetId(i).next(c=>(a=new Rs(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.ai.addTargetData(i,a).next(()=>a))))}).then(i=>{const a=t.Ss.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ss=t.Ss.insert(i.targetId,i),t.Ds.set(e,i.targetId)),i})}async function Ag(n,e,t){const i=xe(n),a=i.Ss.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,c=>i.persistence.referenceDelegate.removeTarget(c,a))}catch(c){if(!vl(c))throw c;de(wv,`Failed to update sequence numbers for target ${e}: ${c}`)}i.Ss=i.Ss.remove(e),i.Ds.delete(a.target)}function yT(n,e,t){const i=xe(n);let a=Ie.min(),l=ze();return i.persistence.runTransaction("Execute query","readwrite",c=>function(p,g,v){const b=xe(p),S=b.Ds.get(v);return S!==void 0?ae.resolve(b.Ss.get(S)):b.ai.getTargetData(g,v)}(i,c,ri(e)).next(d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,i.ai.getMatchingKeysForTargetId(c,d.targetId).next(p=>{l=p})}).next(()=>i.bs.getDocumentsMatchingQuery(c,e,t?a:Ie.min(),t?l:ze())).next(d=>(pV(i,Jk(e),d),{documents:d,Ns:l})))}function pV(n,e,t){let i=n.vs.get(e)||Ie.min();t.forEach((a,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)}),n.vs.set(e,i)}class _T{constructor(){this.activeTargetIds=sM()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class mV{constructor(){this.So=new _T,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,t,i){this.Do[e]=t}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new _T,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gV{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ET="ConnectivityMonitor";class bT{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){de(ET,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){de(ET,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let af=null;function Sg(){return af===null?af=function(){return 268435456+Math.round(2147483648*Math.random())}():af++,"0x"+af.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fm="RestConnection",vV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class yV{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Lo=t+"://"+e.host,this.ko=`projects/${i}/databases/${a}`,this.qo=this.databaseId.database===zf?`project_id=${i}`:`project_id=${i}&database_id=${a}`}Qo(e,t,i,a,l){const c=Sg(),d=this.$o(e,t.toUriEncodedString());de(Fm,`Sending RPC '${e}' ${c}:`,d,i);const p={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};this.Uo(p,a,l);const{host:g}=new URL(d),v=fl(g);return this.Ko(e,d,p,i,v).then(b=>(de(Fm,`Received RPC '${e}' ${c}: `,b),b),b=>{throw el(Fm,`RPC '${e}' ${c} failed with error: `,b,"url: ",d,"request:",i),b})}Wo(e,t,i,a,l,c){return this.Qo(e,t,i,a,l)}Uo(e,t,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ml}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,l)=>e[l]=a),i&&i.headers.forEach((a,l)=>e[l]=a)}$o(e,t){const i=vV[e];return`${this.Lo}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _V{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gn="WebChannelConnection";class EV extends yV{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,t,i,a,l){const c=Sg();return new Promise((d,p)=>{const g=new PS;g.setWithCredentials(!0),g.listenOnce(kS.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case Ef.NO_ERROR:const b=g.getResponseJson();de(gn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(b)),d(b);break;case Ef.TIMEOUT:de(gn,`RPC '${e}' ${c} timed out`),p(new pe(se.DEADLINE_EXCEEDED,"Request time out"));break;case Ef.HTTP_ERROR:const S=g.getStatus();if(de(gn,`RPC '${e}' ${c} failed with status:`,S,"response text:",g.getResponseText()),S>0){let O=g.getResponseJson();Array.isArray(O)&&(O=O[0]);const C=O==null?void 0:O.error;if(C&&C.status&&C.message){const M=function(B){const F=B.toLowerCase().replace(/_/g,"-");return Object.values(se).indexOf(F)>=0?F:se.UNKNOWN}(C.status);p(new pe(M,C.message))}else p(new pe(se.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new pe(se.UNAVAILABLE,"Connection failed."));break;default:we(9055,{s_:e,streamId:c,o_:g.getLastErrorCode(),__:g.getLastError()})}}finally{de(gn,`RPC '${e}' ${c} completed.`)}});const v=JSON.stringify(a);de(gn,`RPC '${e}' ${c} sending request:`,a),g.send(t,"POST",v,i,15)})}a_(e,t,i){const a=Sg(),l=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=LS(),d=VS(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Uo(p.initMessageHeaders,t,i),p.encodeInitMessageHeaders=!0;const v=l.join("");de(gn,`Creating RPC '${e}' stream ${a}: ${v}`,p);const b=c.createWebChannel(v,p);let S=!1,O=!1;const C=new _V({Go:P=>{O?de(gn,`Not sending because RPC '${e}' stream ${a} is closed:`,P):(S||(de(gn,`Opening RPC '${e}' stream ${a} transport.`),b.open(),S=!0),de(gn,`RPC '${e}' stream ${a} sending:`,P),b.send(P))},zo:()=>b.close()}),M=(P,B,F)=>{P.listen(B,j=>{try{F(j)}catch(G){setTimeout(()=>{throw G},0)}})};return M(b,Vu.EventType.OPEN,()=>{O||(de(gn,`RPC '${e}' stream ${a} transport opened.`),C.t_())}),M(b,Vu.EventType.CLOSE,()=>{O||(O=!0,de(gn,`RPC '${e}' stream ${a} transport closed`),C.r_())}),M(b,Vu.EventType.ERROR,P=>{O||(O=!0,el(gn,`RPC '${e}' stream ${a} transport errored. Name:`,P.name,"Message:",P.message),C.r_(new pe(se.UNAVAILABLE,"The operation could not be completed")))}),M(b,Vu.EventType.MESSAGE,P=>{var B;if(!O){const F=P.data[0];Ze(!!F,16349);const j=F,G=(j==null?void 0:j.error)||((B=j[0])===null||B===void 0?void 0:B.error);if(G){de(gn,`RPC '${e}' stream ${a} received error:`,G);const X=G.status;let J=function(I){const N=Nt[I];if(N!==void 0)return yw(N)}(X),x=G.message;J===void 0&&(J=se.INTERNAL,x="Unknown error status: "+X+" with message "+G.message),O=!0,C.r_(new pe(J,x)),b.close()}else de(gn,`RPC '${e}' stream ${a} received:`,F),C.i_(F)}}),M(d,MS.STAT_EVENT,P=>{P.stat===hg.PROXY?de(gn,`RPC '${e}' stream ${a} detected buffering proxy`):P.stat===hg.NOPROXY&&de(gn,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{C.n_()},0),C}}function Hm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yd(n){return new SM(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{constructor(e,t,i=1e3,a=1.5,l=6e4){this.bi=e,this.timerId=t,this.u_=i,this.c_=a,this.l_=l,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const t=Math.floor(this.h_+this.d_()),i=Math.max(0,Date.now()-this.T_),a=Math.max(0,t-i);a>0&&de("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.h_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,a,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TT="PersistentStream";class Pw{constructor(e,t,i,a,l,c,d,p){this.bi=e,this.R_=i,this.V_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new Dw(e,t)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,t){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():t&&t.code===se.RESOURCE_EXHAUSTED?(Hi(t.toString()),Hi("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):t&&t.code===se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(t)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),t=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,a])=>{this.m_===t&&this.B_(i,a)},i=>{e(()=>{const a=new pe(se.UNKNOWN,"Fetching auth token failed: "+i.message);return this.L_(a)})})}B_(e,t){const i=this.N_(this.m_);this.stream=this.k_(e,t),this.stream.jo(()=>{i(()=>this.listener.jo())}),this.stream.Jo(()=>{i(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(a=>{i(()=>this.L_(a))}),this.stream.onMessage(a=>{i(()=>++this.p_==1?this.q_(a):this.onNext(a))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return de(TT,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return t=>{this.bi.enqueueAndForget(()=>this.m_===e?t():(de(TT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class bV extends Pw{constructor(e,t,i,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,a,c),this.serializer=l}k_(e,t){return this.connection.a_("Listen",e,t)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const t=CM(this.serializer,e),i=function(l){if(!("targetChange"in l))return Ie.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Ie.min():c.readTime?si(c.readTime):Ie.min()}(e);return this.listener.Q_(t,i)}U_(e){const t={};t.database=Tg(this.serializer),t.addTarget=function(l,c){let d;const p=c.target;if(d=gg(p)?{documents:OM(l,p)}:{query:NM(l,p).gt},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=bw(l,c.resumeToken);const g=_g(l,c.expectedCount);g!==null&&(d.expectedCount=g)}else if(c.snapshotVersion.compareTo(Ie.min())>0){d.readTime=Hf(l,c.snapshotVersion.toTimestamp());const g=_g(l,c.expectedCount);g!==null&&(d.expectedCount=g)}return d}(this.serializer,e);const i=PM(this.serializer,e);i&&(t.labels=i),this.F_(t)}K_(e){const t={};t.database=Tg(this.serializer),t.removeTarget=e,this.F_(t)}}class TV extends Pw{constructor(e,t,i,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,a,c),this.serializer=l}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,t){return this.connection.a_("Write",e,t)}q_(e){return Ze(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ze(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){Ze(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const t=xM(e.writeResults,e.commitTime),i=si(e.commitTime);return this.listener.j_(i,t)}H_(){const e={};e.database=Tg(this.serializer),this.F_(e)}G_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>IM(this.serializer,i))};this.F_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AV{}class SV extends AV{constructor(e,t,i,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=a,this.J_=!1}Y_(){if(this.J_)throw new pe(se.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,t,i,a){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Qo(e,Eg(t,i),a,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new pe(se.UNKNOWN,l.toString())})}Wo(e,t,i,a,l){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Wo(e,Eg(t,i),a,c,d,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new pe(se.UNKNOWN,c.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class wV{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(Hi(t),this.ea=!1):de("OnlineStateTracker",t)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ma="RemoteStore";class RV{constructor(e,t,i,a,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=l,this.ca.vo(c=>{i.enqueueAndForget(async()=>{Fa(this)&&(de(Ma,"Restarting streams for network reachability change."),await async function(p){const g=xe(p);g.aa.add(4),await Ac(g),g.la.set("Unknown"),g.aa.delete(4),await _d(g)}(this))})}),this.la=new wV(i,a)}}async function _d(n){if(Fa(n))for(const e of n.ua)await e(!0)}async function Ac(n){for(const e of n.ua)await e(!1)}function kw(n,e){const t=xe(n);t._a.has(e.targetId)||(t._a.set(e.targetId,e),xv(t)?Iv(t):_l(t).b_()&&Cv(t,e))}function Rv(n,e){const t=xe(n),i=_l(t);t._a.delete(e),i.b_()&&Mw(t,e),t._a.size===0&&(i.b_()?i.v_():Fa(t)&&t.la.set("Unknown"))}function Cv(n,e){if(n.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ie.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}_l(n).U_(e)}function Mw(n,e){n.ha.Ke(e),_l(n).K_(e)}function Iv(n){n.ha=new EM({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n._a.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),_l(n).start(),n.la.ta()}function xv(n){return Fa(n)&&!_l(n).w_()&&n._a.size>0}function Fa(n){return xe(n).aa.size===0}function Vw(n){n.ha=void 0}async function CV(n){n.la.set("Online")}async function IV(n){n._a.forEach((e,t)=>{Cv(n,e)})}async function xV(n,e){Vw(n),xv(n)?(n.la.ia(e),Iv(n)):n.la.set("Unknown")}async function OV(n,e,t){if(n.la.set("Online"),e instanceof Ew&&e.state===2&&e.cause)try{await async function(a,l){const c=l.cause;for(const d of l.targetIds)a._a.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a._a.delete(d),a.ha.removeTarget(d))}(n,e)}catch(i){de(Ma,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await $f(n,i)}else if(e instanceof Sf?n.ha.Xe(e):e instanceof _w?n.ha.ot(e):n.ha.nt(e),!t.isEqual(Ie.min()))try{const i=await Nw(n.localStore);t.compareTo(i)>=0&&await function(l,c){const d=l.ha.It(c);return d.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const v=l._a.get(g);v&&l._a.set(g,v.withResumeToken(p.resumeToken,c))}}),d.targetMismatches.forEach((p,g)=>{const v=l._a.get(p);if(!v)return;l._a.set(p,v.withResumeToken(ln.EMPTY_BYTE_STRING,v.snapshotVersion)),Mw(l,p);const b=new Rs(v.target,p,g,v.sequenceNumber);Cv(l,b)}),l.remoteSyncer.applyRemoteEvent(d)}(n,t)}catch(i){de(Ma,"Failed to raise snapshot:",i),await $f(n,i)}}async function $f(n,e,t){if(!vl(e))throw e;n.aa.add(1),await Ac(n),n.la.set("Offline"),t||(t=()=>Nw(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{de(Ma,"Retrying IndexedDB access"),await t(),n.aa.delete(1),await _d(n)})}function Lw(n,e){return e().catch(t=>$f(n,t,e))}async function Ed(n){const e=xe(n),t=Us(e);let i=e.oa.length>0?e.oa[e.oa.length-1].batchId:fv;for(;NV(e);)try{const a=await fV(e.localStore,i);if(a===null){e.oa.length===0&&t.v_();break}i=a.batchId,DV(e,a)}catch(a){await $f(e,a)}Uw(e)&&jw(e)}function NV(n){return Fa(n)&&n.oa.length<10}function DV(n,e){n.oa.push(e);const t=Us(n);t.b_()&&t.W_&&t.G_(e.mutations)}function Uw(n){return Fa(n)&&!Us(n).w_()&&n.oa.length>0}function jw(n){Us(n).start()}async function PV(n){Us(n).H_()}async function kV(n){const e=Us(n);for(const t of n.oa)e.G_(t.mutations)}async function MV(n,e,t){const i=n.oa.shift(),a=_v.from(i,e,t);await Lw(n,()=>n.remoteSyncer.applySuccessfulWrite(a)),await Ed(n)}async function VV(n,e){e&&Us(n).W_&&await async function(i,a){if(function(c){return yM(c)&&c!==se.ABORTED}(a.code)){const l=i.oa.shift();Us(i).D_(),await Lw(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,a)),await Ed(i)}}(n,e),Uw(n)&&jw(n)}async function AT(n,e){const t=xe(n);t.asyncQueue.verifyOperationInProgress(),de(Ma,"RemoteStore received new credentials");const i=Fa(t);t.aa.add(3),await Ac(t),i&&t.la.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.aa.delete(3),await _d(t)}async function LV(n,e){const t=xe(n);e?(t.aa.delete(2),await _d(t)):e||(t.aa.add(2),await Ac(t),t.la.set("Unknown"))}function _l(n){return n.Pa||(n.Pa=function(t,i,a){const l=xe(t);return l.Y_(),new bV(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(n.datastore,n.asyncQueue,{jo:CV.bind(null,n),Jo:IV.bind(null,n),Zo:xV.bind(null,n),Q_:OV.bind(null,n)}),n.ua.push(async e=>{e?(n.Pa.D_(),xv(n)?Iv(n):n.la.set("Unknown")):(await n.Pa.stop(),Vw(n))})),n.Pa}function Us(n){return n.Ta||(n.Ta=function(t,i,a){const l=xe(t);return l.Y_(),new TV(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(n.datastore,n.asyncQueue,{jo:()=>Promise.resolve(),Jo:PV.bind(null,n),Zo:VV.bind(null,n),z_:kV.bind(null,n),j_:MV.bind(null,n)}),n.ua.push(async e=>{e?(n.Ta.D_(),await Ed(n)):(await n.Ta.stop(),n.oa.length>0&&(de(Ma,`Stopping write stream with ${n.oa.length} pending writes`),n.oa=[]))})),n.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ov{constructor(e,t,i,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=a,this.removalCallback=l,this.deferred=new Ui,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,a,l){const c=Date.now()+i,d=new Ov(e,t,c,a,l);return d.start(i),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pe(se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Nv(n,e){if(Hi("AsyncQueue",`${e}: ${n}`),vl(n))return new pe(se.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{static emptySet(e){return new Ko(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||Ee.comparator(t.key,i.key):(t,i)=>Ee.comparator(t.key,i.key),this.keyedMap=Lu(),this.sortedSet=new vt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ko)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=i.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new Ko;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{constructor(){this.Ia=new vt(Ee.comparator)}track(e){const t=e.doc.key,i=this.Ia.get(t);i?e.type!==0&&i.type===3?this.Ia=this.Ia.insert(t,e):e.type===3&&i.type!==1?this.Ia=this.Ia.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.Ia=this.Ia.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.Ia=this.Ia.remove(t):e.type===1&&i.type===2?this.Ia=this.Ia.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):we(63341,{Vt:e,Ea:i}):this.Ia=this.Ia.insert(t,e)}da(){const e=[];return this.Ia.inorderTraversal((t,i)=>{e.push(i)}),e}}class sl{constructor(e,t,i,a,l,c,d,p,g){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,t,i,a,l){const c=[];return t.forEach(d=>{c.push({type:0,doc:d})}),new sl(e,t,Ko.emptySet(t),c,i,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&dd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==i[a].type||!t[a].doc.isEqual(i[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UV{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class jV{constructor(){this.queries=wT(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(t,i){const a=xe(t),l=a.queries;a.queries=wT(),l.forEach((c,d)=>{for(const p of d.Ra)p.onError(i)})})(this,new pe(se.ABORTED,"Firestore shutting down"))}}function wT(){return new Ba(n=>sw(n),dd)}async function zw(n,e){const t=xe(n);let i=3;const a=e.query;let l=t.queries.get(a);l?!l.Va()&&e.ma()&&(i=2):(l=new UV,i=e.ma()?0:1);try{switch(i){case 0:l.Aa=await t.onListen(a,!0);break;case 1:l.Aa=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(c){const d=Nv(c,`Initialization of query '${Uo(e.query)}' failed`);return void e.onError(d)}t.queries.set(a,l),l.Ra.push(e),e.ga(t.onlineState),l.Aa&&e.pa(l.Aa)&&Dv(t)}async function Bw(n,e){const t=xe(n),i=e.query;let a=3;const l=t.queries.get(i);if(l){const c=l.Ra.indexOf(e);c>=0&&(l.Ra.splice(c,1),l.Ra.length===0?a=e.ma()?0:1:!l.Va()&&e.ma()&&(a=2))}switch(a){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function zV(n,e){const t=xe(n);let i=!1;for(const a of e){const l=a.query,c=t.queries.get(l);if(c){for(const d of c.Ra)d.pa(a)&&(i=!0);c.Aa=a}}i&&Dv(t)}function BV(n,e,t){const i=xe(n),a=i.queries.get(e);if(a)for(const l of a.Ra)l.onError(t);i.queries.delete(e)}function Dv(n){n.fa.forEach(e=>{e.next()})}var wg,RT;(RT=wg||(wg={})).ya="default",RT.Cache="cache";class qw{constructor(e,t,i){this.query=e,this.wa=t,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=i||{}}pa(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)a.type!==3&&i.push(a);e=new sl(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ba?this.Da(e)&&(this.wa.next(e),t=!0):this.va(e,this.onlineState)&&(this.Ca(e),t=!0),this.Sa=e,t}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let t=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),t=!0),t}va(e,t){if(!e.fromCache||!this.ma())return!0;const i=t!=="Offline";return(!this.options.Fa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const t=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Ca(e){e=sl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==wg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(e){this.key=e}}class Hw{constructor(e){this.key=e}}class qV{constructor(e,t){this.query=e,this.qa=t,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=ze(),this.mutatedKeys=ze(),this.Ua=aw(e),this.Ka=new Ko(this.Ua)}get Wa(){return this.qa}Ga(e,t){const i=t?t.za:new ST,a=t?t.Ka:this.Ka;let l=t?t.mutatedKeys:this.mutatedKeys,c=a,d=!1;const p=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,g=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((v,b)=>{const S=a.get(v),O=pd(this.query,b)?b:null,C=!!S&&this.mutatedKeys.has(S.key),M=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let P=!1;S&&O?S.data.isEqual(O.data)?C!==M&&(i.track({type:3,doc:O}),P=!0):this.ja(S,O)||(i.track({type:2,doc:O}),P=!0,(p&&this.Ua(O,p)>0||g&&this.Ua(O,g)<0)&&(d=!0)):!S&&O?(i.track({type:0,doc:O}),P=!0):S&&!O&&(i.track({type:1,doc:S}),P=!0,(p||g)&&(d=!0)),P&&(O?(c=c.add(O),l=M?l.add(v):l.delete(v)):(c=c.delete(v),l=l.delete(v)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),l=l.delete(v.key),i.track({type:1,doc:v})}return{Ka:c,za:i,ys:d,mutatedKeys:l}}ja(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,a){const l=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const c=e.za.da();c.sort((v,b)=>function(O,C){const M=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we(20277,{Vt:P})}};return M(O)-M(C)}(v.type,b.type)||this.Ua(v.doc,b.doc)),this.Ha(i),a=a!=null&&a;const d=t&&!a?this.Ja():[],p=this.$a.size===0&&this.current&&!a?1:0,g=p!==this.Qa;return this.Qa=p,c.length!==0||g?{snapshot:new sl(this.query,e.Ka,l,c,e.mutatedKeys,p===0,g,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ya:d}:{Ya:d}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new ST,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(t=>this.qa=this.qa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qa=this.qa.delete(t)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=ze(),this.Ka.forEach(i=>{this.Za(i.key)&&(this.$a=this.$a.add(i.key))});const t=[];return e.forEach(i=>{this.$a.has(i)||t.push(new Hw(i))}),this.$a.forEach(i=>{e.has(i)||t.push(new Fw(i))}),t}Xa(e){this.qa=e.Ns,this.$a=ze();const t=this.Ga(e.documents);return this.applyChanges(t,!0)}eu(){return sl.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const Pv="SyncEngine";class FV{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class HV{constructor(e){this.key=e,this.tu=!1}}class GV{constructor(e,t,i,a,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.nu={},this.ru=new Ba(d=>sw(d),dd),this.iu=new Map,this.su=new Set,this.ou=new vt(Ee.comparator),this._u=new Map,this.au=new Tv,this.uu={},this.cu=new Map,this.lu=il.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function $V(n,e,t=!0){const i=Xw(n);let a;const l=i.ru.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.eu()):a=await Gw(i,e,t,!0),a}async function KV(n,e){const t=Xw(n);await Gw(t,e,!0,!1)}async function Gw(n,e,t,i){const a=await dV(n.localStore,ri(e)),l=a.targetId,c=n.sharedClientState.addLocalQueryTarget(l,t);let d;return i&&(d=await YV(n,e,l,c==="current",a.resumeToken)),n.isPrimaryClient&&t&&kw(n.remoteStore,a),d}async function YV(n,e,t,i,a){n.Pu=(b,S,O)=>async function(M,P,B,F){let j=P.view.Ga(B);j.ys&&(j=await yT(M.localStore,P.query,!1).then(({documents:x})=>P.view.Ga(x,j)));const G=F&&F.targetChanges.get(P.targetId),X=F&&F.targetMismatches.get(P.targetId)!=null,J=P.view.applyChanges(j,M.isPrimaryClient,G,X);return IT(M,P.targetId,J.Ya),J.snapshot}(n,b,S,O);const l=await yT(n.localStore,e,!0),c=new qV(e,l.Ns),d=c.Ga(l.documents),p=Tc.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",a),g=c.applyChanges(d,n.isPrimaryClient,p);IT(n,t,g.Ya);const v=new FV(e,t,c);return n.ru.set(e,v),n.iu.has(t)?n.iu.get(t).push(e):n.iu.set(t,[e]),g.snapshot}async function QV(n,e,t){const i=xe(n),a=i.ru.get(e),l=i.iu.get(a.targetId);if(l.length>1)return i.iu.set(a.targetId,l.filter(c=>!dd(c,e))),void i.ru.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await Ag(i.localStore,a.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(a.targetId),t&&Rv(i.remoteStore,a.targetId),Rg(i,a.targetId)}).catch(gl)):(Rg(i,a.targetId),await Ag(i.localStore,a.targetId,!0))}async function XV(n,e){const t=xe(n),i=t.ru.get(e),a=t.iu.get(i.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),Rv(t.remoteStore,i.targetId))}async function WV(n,e,t){const i=iL(n);try{const a=await function(c,d){const p=xe(c),g=zt.now(),v=d.reduce((O,C)=>O.add(C.key),ze());let b,S;return p.persistence.runTransaction("Locally write mutations","readwrite",O=>{let C=Gi(),M=ze();return p.Cs.getEntries(O,v).next(P=>{C=P,C.forEach((B,F)=>{F.isValidDocument()||(M=M.add(B))})}).next(()=>p.localDocuments.getOverlayedDocuments(O,C)).next(P=>{b=P;const B=[];for(const F of d){const j=dM(F,b.get(F.key).overlayedDocument);j!=null&&B.push(new qa(F.key,j,WS(j.value.mapValue),ii.exists(!0)))}return p.mutationQueue.addMutationBatch(O,g,B,d)}).next(P=>{S=P;const B=P.applyToLocalDocumentSet(b,M);return p.documentOverlayCache.saveOverlays(O,P.batchId,B)})}).then(()=>({batchId:S.batchId,changes:lw(b)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),function(c,d,p){let g=c.uu[c.currentUser.toKey()];g||(g=new vt(ke)),g=g.insert(d,p),c.uu[c.currentUser.toKey()]=g}(i,a.batchId,t),await Sc(i,a.changes),await Ed(i.remoteStore)}catch(a){const l=Nv(a,"Failed to persist write");t.reject(l)}}async function $w(n,e){const t=xe(n);try{const i=await cV(t.localStore,e);e.targetChanges.forEach((a,l)=>{const c=t._u.get(l);c&&(Ze(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.tu=!0:a.modifiedDocuments.size>0?Ze(c.tu,14607):a.removedDocuments.size>0&&(Ze(c.tu,42227),c.tu=!1))}),await Sc(t,i,e)}catch(i){await gl(i)}}function CT(n,e,t){const i=xe(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const a=[];i.ru.forEach((l,c)=>{const d=c.view.ga(e);d.snapshot&&a.push(d.snapshot)}),function(c,d){const p=xe(c);p.onlineState=d;let g=!1;p.queries.forEach((v,b)=>{for(const S of b.Ra)S.ga(d)&&(g=!0)}),g&&Dv(p)}(i.eventManager,e),a.length&&i.nu.Q_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function ZV(n,e,t){const i=xe(n);i.sharedClientState.updateQueryState(e,"rejected",t);const a=i._u.get(e),l=a&&a.key;if(l){let c=new vt(Ee.comparator);c=c.insert(l,_n.newNoDocument(l,Ie.min()));const d=ze().add(l),p=new vd(Ie.min(),new Map,new vt(ke),c,d);await $w(i,p),i.ou=i.ou.remove(l),i._u.delete(e),kv(i)}else await Ag(i.localStore,e,!1).then(()=>Rg(i,e,t)).catch(gl)}async function JV(n,e){const t=xe(n),i=e.batch.batchId;try{const a=await uV(t.localStore,e);Yw(t,i,null),Kw(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await Sc(t,a)}catch(a){await gl(a)}}async function eL(n,e,t){const i=xe(n);try{const a=await function(c,d){const p=xe(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let v;return p.mutationQueue.lookupMutationBatch(g,d).next(b=>(Ze(b!==null,37113),v=b.keys(),p.mutationQueue.removeMutationBatch(g,b))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,v,d)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v)).next(()=>p.localDocuments.getDocuments(g,v))})}(i.localStore,e);Yw(i,e,t),Kw(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await Sc(i,a)}catch(a){await gl(a)}}function Kw(n,e){(n.cu.get(e)||[]).forEach(t=>{t.resolve()}),n.cu.delete(e)}function Yw(n,e,t){const i=xe(n);let a=i.uu[i.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),i.uu[i.currentUser.toKey()]=a}}function Rg(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.iu.get(e))n.ru.delete(i),t&&n.nu.Tu(i,t);n.iu.delete(e),n.isPrimaryClient&&n.au.Ur(e).forEach(i=>{n.au.containsKey(i)||Qw(n,i)})}function Qw(n,e){n.su.delete(e.path.canonicalString());const t=n.ou.get(e);t!==null&&(Rv(n.remoteStore,t),n.ou=n.ou.remove(e),n._u.delete(t),kv(n))}function IT(n,e,t){for(const i of t)i instanceof Fw?(n.au.addReference(i.key,e),tL(n,i)):i instanceof Hw?(de(Pv,"Document no longer in limbo: "+i.key),n.au.removeReference(i.key,e),n.au.containsKey(i.key)||Qw(n,i.key)):we(19791,{Iu:i})}function tL(n,e){const t=e.key,i=t.path.canonicalString();n.ou.get(t)||n.su.has(i)||(de(Pv,"New document in limbo: "+t),n.su.add(i),kv(n))}function kv(n){for(;n.su.size>0&&n.ou.size<n.maxConcurrentLimboResolutions;){const e=n.su.values().next().value;n.su.delete(e);const t=new Ee(ht.fromString(e)),i=n.lu.next();n._u.set(i,new HV(t)),n.ou=n.ou.insert(t,i),kw(n.remoteStore,new Rs(ri(vv(t.path)),i,"TargetPurposeLimboResolution",cd.le))}}async function Sc(n,e,t){const i=xe(n),a=[],l=[],c=[];i.ru.isEmpty()||(i.ru.forEach((d,p)=>{c.push(i.Pu(p,e,t).then(g=>{var v;if((g||t)&&i.isPrimaryClient){const b=g?!g.fromCache:(v=t==null?void 0:t.targetChanges.get(p.targetId))===null||v===void 0?void 0:v.current;i.sharedClientState.updateQueryState(p.targetId,b?"current":"not-current")}if(g){a.push(g);const b=Sv.Ps(p.targetId,g);l.push(b)}}))}),await Promise.all(c),i.nu.Q_(a),await async function(p,g){const v=xe(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>ae.forEach(g,S=>ae.forEach(S.ls,O=>v.persistence.referenceDelegate.addReference(b,S.targetId,O)).next(()=>ae.forEach(S.hs,O=>v.persistence.referenceDelegate.removeReference(b,S.targetId,O)))))}catch(b){if(!vl(b))throw b;de(wv,"Failed to update sequence numbers: "+b)}for(const b of g){const S=b.targetId;if(!b.fromCache){const O=v.Ss.get(S),C=O.snapshotVersion,M=O.withLastLimboFreeSnapshotVersion(C);v.Ss=v.Ss.insert(S,M)}}}(i.localStore,l))}async function nL(n,e){const t=xe(n);if(!t.currentUser.isEqual(e)){de(Pv,"User change. New user:",e.toKey());const i=await Ow(t.localStore,e);t.currentUser=e,function(l,c){l.cu.forEach(d=>{d.forEach(p=>{p.reject(new pe(se.CANCELLED,c))})}),l.cu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Sc(t,i.Ms)}}function rL(n,e){const t=xe(n),i=t._u.get(e);if(i&&i.tu)return ze().add(i.key);{let a=ze();const l=t.iu.get(e);if(!l)return a;for(const c of l){const d=t.ru.get(c);a=a.unionWith(d.view.Wa)}return a}}function Xw(n){const e=xe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=$w.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=rL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ZV.bind(null,e),e.nu.Q_=zV.bind(null,e.eventManager),e.nu.Tu=BV.bind(null,e.eventManager),e}function iL(n){const e=xe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=JV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=eL.bind(null,e),e}class Kf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=yd(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,t){return null}fu(e,t){return null}Vu(e){return lV(this.persistence,new sV,e.initialUser,this.serializer)}Ru(e){return new xw(Av.Ei,this.serializer)}Au(e){return new mV}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Kf.provider={build:()=>new Kf};class sL extends Kf{constructor(e){super(),this.cacheSizeBytes=e}mu(e,t){Ze(this.persistence.referenceDelegate instanceof Gf,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new HM(i,e.asyncQueue,t)}Ru(e){const t=this.cacheSizeBytes!==void 0?Dn.withCacheSize(this.cacheSizeBytes):Dn.DEFAULT;return new xw(i=>Gf.Ei(i,t),this.serializer)}}class Cg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>CT(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=nL.bind(null,this.syncEngine),await LV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new jV}()}createDatastore(e){const t=yd(e.databaseInfo.databaseId),i=function(l){return new EV(l)}(e.databaseInfo);return function(l,c,d,p){return new SV(l,c,d,p)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,a,l,c,d){return new RV(i,a,l,c,d)}(this.localStore,this.datastore,e.asyncQueue,t=>CT(this.syncEngine,t,0),function(){return bT.C()?new bT:new gV}())}createSyncEngine(e,t){return function(a,l,c,d,p,g,v){const b=new GV(a,l,c,d,p,g);return v&&(b.hu=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(a){const l=xe(a);de(Ma,"RemoteStore shutting down."),l.aa.add(5),await Ac(l),l.ca.shutdown(),l.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Cg.provider={build:()=>new Cg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):Hi("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const js="FirestoreClient";class aL{constructor(e,t,i,a,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=a,this.user=yn.UNAUTHENTICATED,this.clientId=BS.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,async c=>{de(js,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(i,c=>(de(js,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ui;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=Nv(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Gm(n,e){n.asyncQueue.verifyOperationInProgress(),de(js,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async a=>{i.isEqual(a)||(await Ow(e.localStore,a),i=a)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function xT(n,e){n.asyncQueue.verifyOperationInProgress();const t=await oL(n);de(js,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>AT(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,a)=>AT(e.remoteStore,a)),n._onlineComponents=e}async function oL(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){de(js,"Using user provided OfflineComponentProvider");try{await Gm(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(a){return a.name==="FirebaseError"?a.code===se.FAILED_PRECONDITION||a.code===se.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(t))throw t;el("Error using user provided cache. Falling back to memory cache: "+t),await Gm(n,new Kf)}}else de(js,"Using default OfflineComponentProvider"),await Gm(n,new sL(void 0));return n._offlineComponents}async function Zw(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(de(js,"Using user provided OnlineComponentProvider"),await xT(n,n._uninitializedComponentsProvider._online)):(de(js,"Using default OnlineComponentProvider"),await xT(n,new Cg))),n._onlineComponents}function lL(n){return Zw(n).then(e=>e.syncEngine)}async function Jw(n){const e=await Zw(n),t=e.eventManager;return t.onListen=$V.bind(null,e.syncEngine),t.onUnlisten=QV.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=KV.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=XV.bind(null,e.syncEngine),t}function uL(n,e,t={}){const i=new Ui;return n.asyncQueue.enqueueAndForget(async()=>function(l,c,d,p,g){const v=new Ww({next:S=>{v.yu(),c.enqueueAndForget(()=>Bw(l,b));const O=S.docs.has(d);!O&&S.fromCache?g.reject(new pe(se.UNAVAILABLE,"Failed to get document because the client is offline.")):O&&S.fromCache&&p&&p.source==="server"?g.reject(new pe(se.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(S)},error:S=>g.reject(S)}),b=new qw(vv(d.path),v,{includeMetadataChanges:!0,Fa:!0});return zw(l,b)}(await Jw(n),n.asyncQueue,e,t,i)),i.promise}function cL(n,e,t={}){const i=new Ui;return n.asyncQueue.enqueueAndForget(async()=>function(l,c,d,p,g){const v=new Ww({next:S=>{v.yu(),c.enqueueAndForget(()=>Bw(l,b)),S.fromCache&&p.source==="server"?g.reject(new pe(se.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(S)},error:S=>g.reject(S)}),b=new qw(d,v,{includeMetadataChanges:!0,Fa:!0});return zw(l,b)}(await Jw(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eR(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tR(n,e,t){if(!t)throw new pe(se.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function hL(n,e,t,i){if(e===!0&&i===!0)throw new pe(se.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function NT(n){if(!Ee.isDocumentKey(n))throw new pe(se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function DT(n){if(Ee.isDocumentKey(n))throw new pe(se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function bd(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":we(12329,{type:typeof n})}function zs(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new pe(se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=bd(n);throw new pe(se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nR="firestore.googleapis.com",PT=!0;class kT{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new pe(se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=nR,this.ssl=PT}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:PT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Iw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<qM)throw new pe(se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}hL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=eR((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new pe(se.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new pe(se.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new pe(se.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,a){return i.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Td{constructor(e,t,i,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new kT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pe(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new pe(se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new kT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new yk;switch(i.type){case"firstParty":return new Tk(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new pe(se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=OT.get(t);i&&(de("ComponentProvider","Removing Datastore"),OT.delete(t),i.terminate())}(this),Promise.resolve()}}function fL(n,e,t,i={}){var a;n=zs(n,Td);const l=fl(e),c=n._getSettings(),d=Object.assign(Object.assign({},c),{emulatorOptions:n._getEmulatorOptions()}),p=`${e}:${t}`;l&&Wg(`https://${p}`),c.host!==nR&&c.host!==p&&el("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},c),{host:p,ssl:l,emulatorOptions:i});if(!Na(g,d)&&(n._setSettings(g),i.mockUserToken)){let v,b;if(typeof i.mockUserToken=="string")v=i.mockUserToken,b=yn.MOCK_USER;else{v=$A(i.mockUserToken,(a=n._app)===null||a===void 0?void 0:a.options.projectId);const S=i.mockUserToken.sub||i.mockUserToken.user_id;if(!S)throw new pe(se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new yn(S)}n._authCredentials=new _k(new jS(v,b))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Ha(this.firestore,e,this._query)}}class Vn{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ns(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Vn(this.firestore,e,this._key)}}class Ns extends Ha{constructor(e,t,i){super(e,t,vv(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Vn(this.firestore,null,new Ee(e))}withConverter(e){return new Ns(this.firestore,e,this._path)}}function al(n,e,...t){if(n=qt(n),tR("collection","path",e),n instanceof Td){const i=ht.fromString(e,...t);return DT(i),new Ns(n,null,i)}{if(!(n instanceof Vn||n instanceof Ns))throw new pe(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ht.fromString(e,...t));return DT(i),new Ns(n.firestore,null,i)}}function Mv(n,e,...t){if(n=qt(n),arguments.length===1&&(e=BS.newId()),tR("doc","path",e),n instanceof Td){const i=ht.fromString(e,...t);return NT(i),new Vn(n,null,new Ee(i))}{if(!(n instanceof Vn||n instanceof Ns))throw new pe(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ht.fromString(e,...t));return NT(i),new Vn(n.firestore,n instanceof Ns?n.converter:null,new Ee(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MT="AsyncQueue";class VT{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new Dw(this,"async_queue_retry"),this.ju=()=>{const i=Hm();i&&de(MT,"Visibility state changed to "+i.visibilityState),this.y_.A_()},this.Hu=e;const t=Hm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const t=Hm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const t=new Ui;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!vl(e))throw e;de(MT,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const t=this.Hu.then(()=>(this.Wu=!0,e().catch(i=>{throw this.Ku=i,this.Wu=!1,Hi("INTERNAL UNHANDLED ERROR: ",LT(i)),i}).then(i=>(this.Wu=!1,i))));return this.Hu=t,t}enqueueAfterDelay(e,t,i){this.Ju(),this.zu.indexOf(e)>-1&&(t=0);const a=Ov.createAndSchedule(this,e,t,i,l=>this.Xu(l));return this.Uu.push(a),a}Ju(){this.Ku&&we(47125,{ec:LT(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const t of this.Uu)if(t.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.Uu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const t=this.Uu.indexOf(e);this.Uu.splice(t,1)}}function LT(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class wc extends Td{constructor(e,t,i,a){super(e,t,i,a),this.type="firestore",this._queue=new VT,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new VT(e),this._firestoreClient=void 0,await e}}}function dL(n,e){const t=typeof n=="object"?n:ev(),i=typeof n=="string"?n:zf,a=sd(t,"firestore").getImmediate({identifier:i});if(!a._initialized){const l=FA("firestore");l&&fL(a,...l)}return a}function Vv(n){if(n._terminated)throw new pe(se.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||pL(n),n._firestoreClient}function pL(n){var e,t,i;const a=n._freezeSettings(),l=function(d,p,g,v){return new Lk(d,p,g,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,eR(v.experimentalLongPollingOptions),v.useFetchStreams,v.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,a);n._componentsProvider||!((t=a.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=a.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),n._firestoreClient=new aL(n._authCredentials,n._appCheckCredentials,n._queue,l,n._componentsProvider&&function(d){const p=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(p),_online:p}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ol(ln.fromBase64String(e))}catch(t){throw new pe(se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ol(ln.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lv{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new pe(se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new on(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jv{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new pe(se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new pe(se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ke(this._lat,e._lat)||ke(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,a){if(i.length!==a.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==a[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mL=/^__.*__$/;class gL{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new qa(e,this.data,this.fieldMask,t,this.fieldTransforms):new bc(e,this.data,t,this.fieldTransforms)}}function rR(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we(40011,{oc:n})}}class Bv{constructor(e,t,i,a,l,c){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=a,l===void 0&&this._c(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new Bv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.ac({path:i,cc:!1});return a.lc(e),a}hc(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.ac({path:i,cc:!1});return a._c(),a}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return Yf(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(rR(this.oc)&&mL.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class vL{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||yd(e)}dc(e,t,i,a=!1){return new Bv({oc:e,methodName:t,Ec:i,path:on.emptyPath(),cc:!1,Ic:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function qv(n){const e=n._freezeSettings(),t=yd(n._databaseId);return new vL(n._databaseId,!!e.ignoreUndefinedProperties,t)}function iR(n,e,t,i,a,l={}){const c=n.dc(l.merge||l.mergeFields?2:0,e,t,a);oR("Data must be an object, but it was:",c,i);const d=sR(i,c);let p,g;if(l.merge)p=new Rr(c.fieldMask),g=c.fieldTransforms;else if(l.mergeFields){const v=[];for(const b of l.mergeFields){const S=_L(e,b,t);if(!c.contains(S))throw new pe(se.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);bL(v,S)||v.push(S)}p=new Rr(v),g=c.fieldTransforms.filter(b=>p.covers(b.field))}else p=null,g=c.fieldTransforms;return new gL(new fr(d),p,g)}class Fv extends Uv{_toFieldTransform(e){return new uM(e.path,new lc)}isEqual(e){return e instanceof Fv}}function yL(n,e,t,i=!1){return Hv(t,n.dc(i?4:3,e))}function Hv(n,e){if(aR(n=qt(n)))return oR("Unsupported field value:",e,n),sR(n,e);if(n instanceof Uv)return function(i,a){if(!rR(a.oc))throw a.Tc(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Tc(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(a);l&&a.fieldTransforms.push(l)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(i,a){const l=[];let c=0;for(const d of i){let p=Hv(d,a.Pc(c));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),c++}return{arrayValue:{values:l}}}(n,e)}return function(i,a){if((i=qt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return aM(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=zt.fromDate(i);return{timestampValue:Hf(a.serializer,l)}}if(i instanceof zt){const l=new zt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Hf(a.serializer,l)}}if(i instanceof jv)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof ol)return{bytesValue:bw(a.serializer,i._byteString)};if(i instanceof Vn){const l=a.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw a.Tc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:bv(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof zv)return function(c,d){return{mapValue:{fields:{[QS]:{stringValue:XS},[Bf]:{arrayValue:{values:c.toArray().map(g=>{if(typeof g!="number")throw d.Tc("VectorValues must only contain numeric values.");return yv(d.serializer,g)})}}}}}}(i,a);throw a.Tc(`Unsupported field value: ${bd(i)}`)}(n,e)}function sR(n,e){const t={};return FS(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):za(n,(i,a)=>{const l=Hv(a,e.uc(i));l!=null&&(t[i]=l)}),{mapValue:{fields:t}}}function aR(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof zt||n instanceof jv||n instanceof ol||n instanceof Vn||n instanceof Uv||n instanceof zv)}function oR(n,e,t){if(!aR(t)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(t)){const i=bd(t);throw i==="an object"?e.Tc(n+" a custom object"):e.Tc(n+" "+i)}}function _L(n,e,t){if((e=qt(e))instanceof Lv)return e._internalPath;if(typeof e=="string")return lR(n,e);throw Yf("Field path arguments must be of type string or ",n,!1,void 0,t)}const EL=new RegExp("[~\\*/\\[\\]]");function lR(n,e,t){if(e.search(EL)>=0)throw Yf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Lv(...e.split("."))._internalPath}catch{throw Yf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Yf(n,e,t,i,a){const l=i&&!i.isEmpty(),c=a!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(l||c)&&(p+=" (found",l&&(p+=` in field ${i}`),c&&(p+=` in document ${a}`),p+=")"),new pe(se.INVALID_ARGUMENT,d+n+p)}function bL(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(e,t,i,a,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Vn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new TL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Ad("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class TL extends uR{data(){return super.data()}}function Ad(n,e){return typeof e=="string"?lR(n,e):e instanceof Lv?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AL(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new pe(se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Gv{}class cR extends Gv{}function Sd(n,e,...t){let i=[];e instanceof Gv&&i.push(e),i=i.concat(t),function(l){const c=l.filter(p=>p instanceof $v).length,d=l.filter(p=>p instanceof wd).length;if(c>1||c>0&&d>0)throw new pe(se.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const a of i)n=a._apply(n);return n}class wd extends cR{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new wd(e,t,i)}_apply(e){const t=this._parse(e);return hR(e._query,t),new Ha(e.firestore,e.converter,vg(e._query,t))}_parse(e){const t=qv(e.firestore);return function(l,c,d,p,g,v,b){let S;if(g.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new pe(se.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){zT(b,v);const C=[];for(const M of b)C.push(jT(p,l,M));S={arrayValue:{values:C}}}else S=jT(p,l,b)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||zT(b,v),S=yL(d,c,b,v==="in"||v==="not-in");return Pt.create(g,v,S)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function UT(n,e,t){const i=e,a=Ad("where",n);return wd._create(a,i,t)}class $v extends Gv{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new $v(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:xr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(a,l){let c=a;const d=l.getFlattenedFilters();for(const p of d)hR(c,p),c=vg(c,p)}(e._query,t),new Ha(e.firestore,e.converter,vg(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Kv extends cR{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Kv(e,t)}_apply(e){const t=function(a,l,c){if(a.startAt!==null)throw new pe(se.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new pe(se.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new oc(l,c)}(e._query,this._field,this._direction);return new Ha(e.firestore,e.converter,function(a,l){const c=a.explicitOrderBy.concat([l]);return new yl(a.path,a.collectionGroup,c,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(e._query,t))}}function Qf(n,e="asc"){const t=e,i=Ad("orderBy",n);return Kv._create(i,t)}function jT(n,e,t){if(typeof(t=qt(t))=="string"){if(t==="")throw new pe(se.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!iw(e)&&t.indexOf("/")!==-1)throw new pe(se.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(ht.fromString(t));if(!Ee.isDocumentKey(i))throw new pe(se.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Jb(n,new Ee(i))}if(t instanceof Vn)return Jb(n,t._key);throw new pe(se.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${bd(t)}.`)}function zT(n,e){if(!Array.isArray(n)||n.length===0)throw new pe(se.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function hR(n,e){const t=function(a,l){for(const c of a)for(const d of c.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null}(n.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new pe(se.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new pe(se.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class SL{convertValue(e,t="none"){switch(Ls(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Vs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw we(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return za(e,(a,l)=>{i[a]=this.convertValue(l,t)}),i}convertVectorValue(e){var t,i,a;const l=(a=(i=(t=e.fields)===null||t===void 0?void 0:t[Bf].arrayValue)===null||i===void 0?void 0:i.values)===null||a===void 0?void 0:a.map(c=>wt(c.doubleValue));return new zv(l)}convertGeoPoint(e){return new jv(wt(e.latitude),wt(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=fd(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(ic(e));default:return null}}convertTimestamp(e){const t=Ms(e);return new zt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=ht.fromString(e);Ze(Cw(i),9688,{name:e});const a=new sc(i.get(1),i.get(3)),l=new Ee(i.popFirst(5));return a.isEqual(t)||Hi(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fR(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class dR extends uR{constructor(e,t,i,a,l,c){super(e,t,i,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new wf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(Ad("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class wf extends dR{data(e={}){return super.data(e)}}class wL{constructor(e,t,i,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new ju(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new wf(this._firestore,this._userDataWriter,i.key,i,new ju(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new pe(se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map(d=>{const p=new wf(a._firestore,a._userDataWriter,d.doc.key,d.doc,new ju(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}})}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(d=>l||d.type!==3).map(d=>{const p=new wf(a._firestore,a._userDataWriter,d.doc.key,d.doc,new ju(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let g=-1,v=-1;return d.type!==0&&(g=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),v=c.indexOf(d.doc.key)),{type:RL(d.type),doc:p,oldIndex:g,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function RL(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CL(n){n=zs(n,Vn);const e=zs(n.firestore,wc);return uL(Vv(e),n._key).then(t=>xL(e,n,t))}class pR extends SL{constructor(e){super(),this.firestore=e}convertBytes(e){return new ol(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Vn(this.firestore,null,t)}}function Rd(n){n=zs(n,Ha);const e=zs(n.firestore,wc),t=Vv(e),i=new pR(e);return AL(n._query),cL(t,n._query).then(a=>new wL(e,i,n,a))}function IL(n,e,t){n=zs(n,Vn);const i=zs(n.firestore,wc),a=fR(n.converter,e,t);return gR(i,[iR(qv(i),"setDoc",n._key,a,n.converter!==null,t).toMutation(n._key,ii.none())])}function mR(n,e){const t=zs(n.firestore,wc),i=Mv(n),a=fR(n.converter,e);return gR(t,[iR(qv(n.firestore),"addDoc",i._key,a,n.converter!==null,{}).toMutation(i._key,ii.exists(!1))]).then(()=>i)}function gR(n,e){return function(i,a){const l=new Ui;return i.asyncQueue.enqueueAndForget(async()=>WV(await lL(i),a,l)),l.promise}(Vv(n),e)}function xL(n,e,t){const i=t.docs.get(e._key),a=new pR(n);return new dR(n,a,e._key,i,new ju(t.hasPendingWrites,t.fromCache),e.converter)}function vR(){return new Fv("serverTimestamp")}(function(e,t=!0){(function(a){ml=a})(Ua),Da(new Ps("firestore",(i,{instanceIdentifier:a,options:l})=>{const c=i.getProvider("app").getImmediate(),d=new wc(new Ek(i.getProvider("auth-internal")),new Ak(c,i.getProvider("app-check-internal")),function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new pe(se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new sc(g.options.projectId,v)}(c,a),c);return l=Object.assign({useFetchStreams:t},l),d._setSettings(l),d},"PUBLIC").setMultipleInstances(!0)),ei(Bb,qb,e),ei(Bb,qb,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yR="firebasestorage.googleapis.com",_R="storageBucket",OL=2*60*1e3,NL=10*60*1e3,DL=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt extends ui{constructor(e,t,i=0){super($m(e),`Firebase Storage: ${t} (${$m(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,yt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return $m(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ft;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ft||(ft={}));function $m(n){return"storage/"+n}function Yv(){const n="An unknown error occurred, please check the error payload for server response.";return new yt(ft.UNKNOWN,n)}function PL(n){return new yt(ft.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function kL(n){return new yt(ft.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function ML(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new yt(ft.UNAUTHENTICATED,n)}function VL(){return new yt(ft.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function LL(n){return new yt(ft.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function ER(){return new yt(ft.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function bR(){return new yt(ft.CANCELED,"User canceled the upload/download.")}function UL(n){return new yt(ft.INVALID_URL,"Invalid URL '"+n+"'.")}function jL(n){return new yt(ft.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function zL(){return new yt(ft.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+_R+"' property when initializing the app?")}function TR(){return new yt(ft.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function BL(){return new yt(ft.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function qL(){return new yt(ft.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function FL(n){return new yt(ft.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Ig(n){return new yt(ft.INVALID_ARGUMENT,n)}function AR(){return new yt(ft.APP_DELETED,"The Firebase app was deleted.")}function HL(n){return new yt(ft.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Ku(n,e){return new yt(ft.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function Pu(n){throw new yt(ft.INTERNAL_ERROR,"Internal error: "+n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=Qn.makeFromUrl(e,t)}catch{return new Qn(e,"")}if(i.path==="")return i;throw jL(e)}static makeFromUrl(e,t){let i=null;const a="([A-Za-z0-9.\\-_]+)";function l(G){G.path.charAt(G.path.length-1)==="/"&&(G.path_=G.path_.slice(0,-1))}const c="(/(.*))?$",d=new RegExp("^gs://"+a+c,"i"),p={bucket:1,path:3};function g(G){G.path_=decodeURIComponent(G.path)}const v="v[A-Za-z0-9_]+",b=t.replace(/[.]/g,"\\."),S="(/([^?#]*).*)?$",O=new RegExp(`^https?://${b}/${v}/b/${a}/o${S}`,"i"),C={bucket:1,path:3},M=t===yR?"(?:storage.googleapis.com|storage.cloud.google.com)":t,P="([^?#]*)",B=new RegExp(`^https?://${M}/${a}/${P}`,"i"),j=[{regex:d,indices:p,postModify:l},{regex:O,indices:C,postModify:g},{regex:B,indices:{bucket:1,path:2},postModify:g}];for(let G=0;G<j.length;G++){const X=j[G],J=X.regex.exec(e);if(J){const x=J[X.indices.bucket];let R=J[X.indices.path];R||(R=""),i=new Qn(x,R),X.postModify(i);break}}if(i==null)throw UL(e);return i}}class GL{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $L(n,e,t){let i=1,a=null,l=null,c=!1,d=0;function p(){return d===2}let g=!1;function v(...P){g||(g=!0,e.apply(null,P))}function b(P){a=setTimeout(()=>{a=null,n(O,p())},P)}function S(){l&&clearTimeout(l)}function O(P,...B){if(g){S();return}if(P){S(),v.call(null,P,...B);return}if(p()||c){S(),v.call(null,P,...B);return}i<64&&(i*=2);let j;d===1?(d=2,j=0):j=(i+Math.random())*1e3,b(j)}let C=!1;function M(P){C||(C=!0,S(),!g&&(a!==null?(P||(d=2),clearTimeout(a),b(0)):P||(d=1)))}return b(0),l=setTimeout(()=>{c=!0,M(!0)},t),M}function KL(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YL(n){return n!==void 0}function QL(n){return typeof n=="function"}function XL(n){return typeof n=="object"&&!Array.isArray(n)}function Cd(n){return typeof n=="string"||n instanceof String}function BT(n){return Qv()&&n instanceof Blob}function Qv(){return typeof Blob<"u"}function qT(n,e,t,i){if(i<e)throw Ig(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw Ig(`Invalid value for '${n}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rc(n,e,t){let i=e;return t==null&&(i=`https://${e}`),`${t}://${i}/v0${n}`}function SR(n){const e=encodeURIComponent;let t="?";for(const i in n)if(n.hasOwnProperty(i)){const a=e(i)+"="+e(n[i]);t=t+a+"&"}return t=t.slice(0,-1),t}var Ca;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Ca||(Ca={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wR(n,e){const t=n>=500&&n<600,a=[408,429].indexOf(n)!==-1,l=e.indexOf(n)!==-1;return t||a||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WL{constructor(e,t,i,a,l,c,d,p,g,v,b,S=!0,O=!1){this.url_=e,this.method_=t,this.headers_=i,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=c,this.callback_=d,this.errorCallback_=p,this.timeout_=g,this.progressCallback_=v,this.connectionFactory_=b,this.retry=S,this.isUsingEmulator=O,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((C,M)=>{this.resolve_=C,this.reject_=M,this.start_()})}start_(){const e=(i,a)=>{if(a){i(!1,new of(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const c=d=>{const p=d.loaded,g=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,g)};this.progressCallback_!==null&&l.addUploadProgressListener(c),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(c),this.pendingConnection_=null;const d=l.getErrorCode()===Ca.NO_ERROR,p=l.getStatus();if(!d||wR(p,this.additionalRetryCodes_)&&this.retry){const v=l.getErrorCode()===Ca.ABORT;i(!1,new of(!1,null,v));return}const g=this.successCodes_.indexOf(p)!==-1;i(!0,new of(g,l))})},t=(i,a)=>{const l=this.resolve_,c=this.reject_,d=a.connection;if(a.wasSuccessCode)try{const p=this.callback_(d,d.getResponse());YL(p)?l(p):l()}catch(p){c(p)}else if(d!==null){const p=Yv();p.serverResponse=d.getErrorText(),this.errorCallback_?c(this.errorCallback_(d,p)):c(p)}else if(a.canceled){const p=this.appDelete_?AR():bR();c(p)}else{const p=ER();c(p)}};this.canceled_?t(!1,new of(!1,null,!0)):this.backoffId_=$L(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&KL(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class of{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function ZL(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function JL(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function eU(n,e){e&&(n["X-Firebase-GMPID"]=e)}function tU(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function nU(n,e,t,i,a,l,c=!0,d=!1){const p=SR(n.urlParams),g=n.url+p,v=Object.assign({},n.headers);return eU(v,e),ZL(v,t),JL(v,l),tU(v,i),new WL(g,n.method,v,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,a,c,d)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rU(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function iU(...n){const e=rU();if(e!==void 0){const t=new e;for(let i=0;i<n.length;i++)t.append(n[i]);return t.getBlob()}else{if(Qv())return new Blob(n);throw new yt(ft.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function sU(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aU(n){if(typeof atob>"u")throw FL("base-64");return atob(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Km{constructor(e,t){this.data=e,this.contentType=t||null}}function oU(n,e){switch(n){case Wr.RAW:return new Km(RR(e));case Wr.BASE64:case Wr.BASE64URL:return new Km(CR(n,e));case Wr.DATA_URL:return new Km(uU(e),cU(e))}throw Yv()}function RR(n){const e=[];for(let t=0;t<n.length;t++){let i=n.charCodeAt(t);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const l=i,c=n.charCodeAt(++t);i=65536|(l&1023)<<10|c&1023,e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(e)}function lU(n){let e;try{e=decodeURIComponent(n)}catch{throw Ku(Wr.DATA_URL,"Malformed data URL.")}return RR(e)}function CR(n,e){switch(n){case Wr.BASE64:{const a=e.indexOf("-")!==-1,l=e.indexOf("_")!==-1;if(a||l)throw Ku(n,"Invalid character '"+(a?"-":"_")+"' found: is it base64url encoded?");break}case Wr.BASE64URL:{const a=e.indexOf("+")!==-1,l=e.indexOf("/")!==-1;if(a||l)throw Ku(n,"Invalid character '"+(a?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=aU(e)}catch(a){throw a.message.includes("polyfill")?a:Ku(n,"Invalid character found")}const i=new Uint8Array(t.length);for(let a=0;a<t.length;a++)i[a]=t.charCodeAt(a);return i}class IR{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw Ku(Wr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=t[1]||null;i!=null&&(this.base64=hU(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}function uU(n){const e=new IR(n);return e.base64?CR(Wr.BASE64,e.rest):lU(e.rest)}function cU(n){return new IR(n).contentType}function hU(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(e,t){let i=0,a="";BT(e)?(this.data_=e,i=e.size,a=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=a}size(){return this.size_}type(){return this.type_}slice(e,t){if(BT(this.data_)){const i=this.data_,a=sU(i,e,t);return a===null?null:new ws(a)}else{const i=new Uint8Array(this.data_.buffer,e,t-e);return new ws(i,!0)}}static getBlob(...e){if(Qv()){const t=e.map(i=>i instanceof ws?i.data_:i);return new ws(iU.apply(null,t))}else{const t=e.map(c=>Cd(c)?oU(Wr.RAW,c).data:c.data_);let i=0;t.forEach(c=>{i+=c.byteLength});const a=new Uint8Array(i);let l=0;return t.forEach(c=>{for(let d=0;d<c.length;d++)a[l++]=c[d]}),new ws(a,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xR(n){let e;try{e=JSON.parse(n)}catch{return null}return XL(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fU(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function dU(n,e){const t=e.split("/").filter(i=>i.length>0).join("/");return n.length===0?t:n+"/"+t}function OR(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pU(n,e){return e}class Rn{constructor(e,t,i,a){this.server=e,this.local=t||e,this.writable=!!i,this.xform=a||pU}}let lf=null;function mU(n){return!Cd(n)||n.length<2?n:OR(n)}function NR(){if(lf)return lf;const n=[];n.push(new Rn("bucket")),n.push(new Rn("generation")),n.push(new Rn("metageneration")),n.push(new Rn("name","fullPath",!0));function e(l,c){return mU(c)}const t=new Rn("name");t.xform=e,n.push(t);function i(l,c){return c!==void 0?Number(c):c}const a=new Rn("size");return a.xform=i,n.push(a),n.push(new Rn("timeCreated")),n.push(new Rn("updated")),n.push(new Rn("md5Hash",null,!0)),n.push(new Rn("cacheControl",null,!0)),n.push(new Rn("contentDisposition",null,!0)),n.push(new Rn("contentEncoding",null,!0)),n.push(new Rn("contentLanguage",null,!0)),n.push(new Rn("contentType",null,!0)),n.push(new Rn("metadata","customMetadata",!0)),lf=n,lf}function gU(n,e){function t(){const i=n.bucket,a=n.fullPath,l=new Qn(i,a);return e._makeStorageReference(l)}Object.defineProperty(n,"ref",{get:t})}function vU(n,e,t){const i={};i.type="file";const a=t.length;for(let l=0;l<a;l++){const c=t[l];i[c.local]=c.xform(i,e[c.server])}return gU(i,n),i}function DR(n,e,t){const i=xR(e);return i===null?null:vU(n,i,t)}function yU(n,e,t,i){const a=xR(e);if(a===null||!Cd(a.downloadTokens))return null;const l=a.downloadTokens;if(l.length===0)return null;const c=encodeURIComponent;return l.split(",").map(g=>{const v=n.bucket,b=n.fullPath,S="/b/"+c(v)+"/o/"+c(b),O=Rc(S,t,i),C=SR({alt:"media",token:g});return O+C})[0]}function PR(n,e){const t={},i=e.length;for(let a=0;a<i;a++){const l=e[a];l.writable&&(t[l.server]=n[l.local])}return JSON.stringify(t)}class El{constructor(e,t,i,a){this.url=e,this.method=t,this.handler=i,this.timeout=a,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ji(n){if(!n)throw Yv()}function Xv(n,e){function t(i,a){const l=DR(n,a,e);return ji(l!==null),l}return t}function _U(n,e){function t(i,a){const l=DR(n,a,e);return ji(l!==null),yU(l,a,n.host,n._protocol)}return t}function Cc(n){function e(t,i){let a;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?a=VL():a=ML():t.getStatus()===402?a=kL(n.bucket):t.getStatus()===403?a=LL(n.path):a=i,a.status=t.getStatus(),a.serverResponse=i.serverResponse,a}return e}function kR(n){const e=Cc(n);function t(i,a){let l=e(i,a);return i.getStatus()===404&&(l=PL(n.path)),l.serverResponse=a.serverResponse,l}return t}function EU(n,e,t){const i=e.fullServerUrl(),a=Rc(i,n.host,n._protocol),l="GET",c=n.maxOperationRetryTime,d=new El(a,l,Xv(n,t),c);return d.errorHandler=kR(e),d}function bU(n,e,t){const i=e.fullServerUrl(),a=Rc(i,n.host,n._protocol),l="GET",c=n.maxOperationRetryTime,d=new El(a,l,_U(n,t),c);return d.errorHandler=kR(e),d}function TU(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function MR(n,e,t){const i=Object.assign({},t);return i.fullPath=n.path,i.size=e.size(),i.contentType||(i.contentType=TU(null,e)),i}function AU(n,e,t,i,a){const l=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"};function d(){let j="";for(let G=0;G<2;G++)j=j+Math.random().toString().slice(2);return j}const p=d();c["Content-Type"]="multipart/related; boundary="+p;const g=MR(e,i,a),v=PR(g,t),b="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+v+`\r
--`+p+`\r
Content-Type: `+g.contentType+`\r
\r
`,S=`\r
--`+p+"--",O=ws.getBlob(b,i,S);if(O===null)throw TR();const C={name:g.fullPath},M=Rc(l,n.host,n._protocol),P="POST",B=n.maxUploadRetryTime,F=new El(M,P,Xv(n,t),B);return F.urlParams=C,F.headers=c,F.body=O.uploadData(),F.errorHandler=Cc(e),F}class Xf{constructor(e,t,i,a){this.current=e,this.total=t,this.finalized=!!i,this.metadata=a||null}}function Wv(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch{ji(!1)}return ji(!!t&&(e||["active"]).indexOf(t)!==-1),t}function SU(n,e,t,i,a){const l=e.bucketOnlyServerUrl(),c=MR(e,i,a),d={name:c.fullPath},p=Rc(l,n.host,n._protocol),g="POST",v={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":c.contentType,"Content-Type":"application/json; charset=utf-8"},b=PR(c,t),S=n.maxUploadRetryTime;function O(M){Wv(M);let P;try{P=M.getResponseHeader("X-Goog-Upload-URL")}catch{ji(!1)}return ji(Cd(P)),P}const C=new El(p,g,O,S);return C.urlParams=d,C.headers=v,C.body=b,C.errorHandler=Cc(e),C}function wU(n,e,t,i){const a={"X-Goog-Upload-Command":"query"};function l(g){const v=Wv(g,["active","final"]);let b=null;try{b=g.getResponseHeader("X-Goog-Upload-Size-Received")}catch{ji(!1)}b||ji(!1);const S=Number(b);return ji(!isNaN(S)),new Xf(S,i.size(),v==="final")}const c="POST",d=n.maxUploadRetryTime,p=new El(t,c,l,d);return p.headers=a,p.errorHandler=Cc(e),p}const FT=256*1024;function RU(n,e,t,i,a,l,c,d){const p=new Xf(0,0);if(c?(p.current=c.current,p.total=c.total):(p.current=0,p.total=i.size()),i.size()!==p.total)throw BL();const g=p.total-p.current;let v=g;a>0&&(v=Math.min(v,a));const b=p.current,S=b+v;let O="";v===0?O="finalize":g===v?O="upload, finalize":O="upload";const C={"X-Goog-Upload-Command":O,"X-Goog-Upload-Offset":`${p.current}`},M=i.slice(b,S);if(M===null)throw TR();function P(G,X){const J=Wv(G,["active","final"]),x=p.current+v,R=i.size();let I;return J==="final"?I=Xv(e,l)(G,X):I=null,new Xf(x,R,J==="final",I)}const B="POST",F=e.maxUploadRetryTime,j=new El(t,B,P,F);return j.headers=C,j.body=M.uploadData(),j.progressCallback=d||null,j.errorHandler=Cc(n),j}const Pn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Ym(n){switch(n){case"running":case"pausing":case"canceling":return Pn.RUNNING;case"paused":return Pn.PAUSED;case"success":return Pn.SUCCESS;case"canceled":return Pn.CANCELED;case"error":return Pn.ERROR;default:return Pn.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CU{constructor(e,t,i){if(QL(e)||t!=null||i!=null)this.next=e,this.error=t??void 0,this.complete=i??void 0;else{const l=e;this.next=l.next,this.error=l.error,this.complete=l.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vo(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}class IU{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ca.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ca.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ca.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,i,a,l){if(this.sent_)throw Pu("cannot .send() more than once");if(fl(e)&&i&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),l!==void 0)for(const c in l)l.hasOwnProperty(c)&&this.xhr_.setRequestHeader(c,l[c].toString());return a!==void 0?this.xhr_.send(a):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Pu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Pu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Pu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Pu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class xU extends IU{initXhr(){this.xhr_.responseType="text"}}function Bo(){return new xU}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OU{isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}constructor(e,t,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=i,this._mappings=NR(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=a=>{if(this._request=void 0,this._chunkMultiplier=1,a._codeEquals(ft.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const l=this.isExponentialBackoffExpired();if(wR(a.status,[]))if(l)a=ER();else{this.sleepTime=Math.max(this.sleepTime*2,DL),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=a,this._transition("error")}},this._metadataErrorHandler=a=>{this._request=void 0,a._codeEquals(ft.CANCELED)?this.completeTransitions_():(this._error=a,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((a,l)=>{this._resolve=a,this._reject=l,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,i])=>{switch(this._state){case"running":e(t,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,t)=>{const i=SU(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),a=this._ref.storage._makeRequest(i,Bo,e,t);this._request=a,a.getPromise().then(l=>{this._request=void 0,this._uploadUrl=l,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,i)=>{const a=wU(this._ref.storage,this._ref._location,e,this._blob),l=this._ref.storage._makeRequest(a,Bo,t,i);this._request=l,l.getPromise().then(c=>{c=c,this._request=void 0,this._updateProgress(c.current),this._needToFetchStatus=!1,c.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=FT*this._chunkMultiplier,t=new Xf(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((a,l)=>{let c;try{c=RU(this._ref._location,this._ref.storage,i,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(p){this._error=p,this._transition("error");return}const d=this._ref.storage._makeRequest(c,Bo,a,l,!1);this._request=d,d.getPromise().then(p=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(p.current),p.finalized?(this._metadata=p.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){FT*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const i=EU(this._ref.storage,this._ref._location,this._mappings),a=this._ref.storage._makeRequest(i,Bo,e,t);this._request=a,a.getPromise().then(l=>{this._request=void 0,this._metadata=l,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const i=AU(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),a=this._ref.storage._makeRequest(i,Bo,e,t);this._request=a,a.getPromise().then(l=>{this._request=void 0,this._metadata=l,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t=this._state==="paused";this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=bR(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=Ym(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,i,a){const l=new CU(t||void 0,i||void 0,a||void 0);return this._addObserver(l),()=>{this._removeObserver(l)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);t!==-1&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(Ym(this._state)){case Pn.SUCCESS:Vo(this._resolve.bind(null,this.snapshot))();break;case Pn.CANCELED:case Pn.ERROR:const t=this._reject;Vo(t.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(Ym(this._state)){case Pn.RUNNING:case Pn.PAUSED:e.next&&Vo(e.next.bind(e,this.snapshot))();break;case Pn.SUCCESS:e.complete&&Vo(e.complete.bind(e))();break;case Pn.CANCELED:case Pn.ERROR:e.error&&Vo(e.error.bind(e,this._error))();break;default:e.error&&Vo(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(e,t){this._service=e,t instanceof Qn?this._location=t:this._location=Qn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Va(e,t)}get root(){const e=new Qn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return OR(this._location.path)}get storage(){return this._service}get parent(){const e=fU(this._location.path);if(e===null)return null;const t=new Qn(this._location.bucket,e);return new Va(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw HL(e)}}function NU(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new OU(n,new ws(e),t)}function DU(n){n._throwIfRoot("getDownloadURL");const e=bU(n.storage,n._location,NR());return n.storage.makeRequestWithTokens(e,Bo).then(t=>{if(t===null)throw qL();return t})}function PU(n,e){const t=dU(n._location.path,e),i=new Qn(n._location.bucket,t);return new Va(n.storage,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kU(n){return/^[A-Za-z]+:\/\//.test(n)}function MU(n,e){return new Va(n,e)}function VR(n,e){if(n instanceof Zv){const t=n;if(t._bucket==null)throw zL();const i=new Va(t,t._bucket);return e!=null?VR(i,e):i}else return e!==void 0?PU(n,e):n}function VU(n,e){if(e&&kU(e)){if(n instanceof Zv)return MU(n,e);throw Ig("To use ref(service, url), the first argument must be a Storage instance.")}else return VR(n,e)}function HT(n,e){const t=e==null?void 0:e[_R];return t==null?null:Qn.makeFromBucketSpec(t,n)}function LU(n,e,t,i={}){n.host=`${e}:${t}`;const a=fl(e);a&&Wg(`https://${n.host}`),n._isUsingEmulator=!0,n._protocol=a?"https":"http";const{mockUserToken:l}=i;l&&(n._overrideAuthToken=typeof l=="string"?l:$A(l,n.app.options.projectId))}class Zv{constructor(e,t,i,a,l,c=!1){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=a,this._firebaseVersion=l,this._isUsingEmulator=c,this._bucket=null,this._host=yR,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=OL,this._maxUploadRetryTime=NL,this._requests=new Set,a!=null?this._bucket=Qn.makeFromBucketSpec(a,this._host):this._bucket=HT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Qn.makeFromBucketSpec(this._url,e):this._bucket=HT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){qT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){qT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(hr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Va(this,e)}_makeRequest(e,t,i,a,l=!0){if(this._deleted)return new GL(AR());{const c=nU(e,this._appId,i,a,t,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,t){const[i,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,i,a).getPromise()}}const GT="@firebase/storage",$T="0.13.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LR="storage";function UU(n,e,t){return n=qt(n),NU(n,e,t)}function jU(n){return n=qt(n),DU(n)}function zU(n,e){return n=qt(n),VU(n,e)}function BU(n=ev(),e){n=qt(n);const i=sd(n,LR).getImmediate({identifier:e}),a=FA("storage");return a&&qU(i,...a),i}function qU(n,e,t,i={}){LU(n,e,t,i)}function FU(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),a=n.getProvider("app-check-internal");return new Zv(t,i,a,e,Ua)}function HU(){Da(new Ps(LR,FU,"PUBLIC").setMultipleInstances(!0)),ei(GT,$T,""),ei(GT,$T,"esm2017")}HU();const GU={apiKey:"AIzaSyCgbYenPNn6g3lAXkEBj_aku7RdGk8ISto",authDomain:"concurso-interno-violino-d5d15.firebaseapp.com",projectId:"concurso-interno-violino-d5d15",storageBucket:"concurso-interno-violino-d5d15.firebasestorage.app",messagingSenderId:"881864008632",appId:"1:881864008632:web:9ddd51de89135d7278654d",measurementId:"G-4L141V2ZVM"},Jv=QA(GU),Ds=dL(Jv),Ic=ck(Jv),$U=BU(Jv),UR="/concurso-interno-violino/assets/logo2025-CERF_oj1.png";function KU({user:n}){const e=La(),t=li(),i=async()=>{try{await J2(Ic),e("/")}catch(p){console.error("Error signing out: ",p)}},a=()=>{e("/avaliar")},l=()=>{e("/resultados-juri")},c=t.pathname==="/avaliar",d=t.pathname==="/resultados-juri";return T.jsxs("nav",{className:"navbar",children:[T.jsxs("div",{className:"navbar-brand",children:[T.jsx("img",{src:Qg,alt:"Calouste Gulbenkian Logo",className:"navbar-logo-cmacg"}),T.jsx("img",{src:Xg,alt:"República Portuguesa Logo",className:"navbar-logo"}),T.jsx("img",{src:UR,alt:"Logo",className:"navbar-logo2025"})]}),n&&T.jsxs("div",{className:"navbar-user-info",children:[T.jsxs("span",{className:"navbar-email",children:["Júri: ",n.email]}),!c&&T.jsx("button",{onClick:a,className:"navbar-button",children:"Participantes"}),!d&&T.jsx("button",{onClick:l,className:"navbar-button",children:"Resultados Finais"}),T.jsx("button",{onClick:i,className:"navbar-button",children:"Logout"})]})]})}function YU(){const[n,e]=cv(Ic);return e?T.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:T.jsx("p",{children:"Verificando autenticação..."})}):n?T.jsxs("div",{className:"jury-layout-container",children:[" ",T.jsx(KU,{user:n})," ",T.jsxs("div",{className:"jury-page-content-wrapper",children:[" ",T.jsx(iA,{})," "]})]}):T.jsx(hI,{to:"/jurylogin",replace:!0})}function QU(){return T.jsxs("div",{className:"public-main-page",children:[T.jsxs("header",{className:"hero-section",children:[T.jsx("img",{src:UR,alt:"V Concurso Interno de Violino 2025",className:"hero-logo"}),T.jsx("p",{className:"hero-tagline",children:"Bem-vindo à página oficial do nosso concurso! Descubra talentos, consulte o regulamento e acompanhe os resultados."})]}),T.jsxs("section",{className:"contest-info",children:[T.jsx("h2",{children:"Sobre o Concurso"}),T.jsx("p",{children:"Este é um espaço dedicado à celebração da música e do talento jovem no violino. Organizado pela Escola Artística do Conservatório de Música Calouste Gulbenkian de Aveiro..."})]}),T.jsxs("section",{className:"key-dates",children:[T.jsx("h2",{children:"Datas Importantes"}),T.jsxs("ul",{children:[T.jsxs("li",{children:[T.jsx("strong",{children:"Inscrições:"})," DD/MM/AAAA - DD/MM/AAAA"]}),T.jsxs("li",{children:[T.jsx("strong",{children:"Concurso:"})," 15 de Junho de 2024"]}),T.jsxs("li",{children:[T.jsx("strong",{children:"Divulgação de Resultados:"})," DD/MM/AAAA (após o término)"]})]})]})]})}const XU="/concurso-interno-violino/assets/side-C33sxMpG.png";function WU({isOpen:n,onClose:e,title:t,children:i}){return n?T.jsx("div",{className:"modal-overlay-sp",onClick:e,children:T.jsxs("div",{className:"modal-content-sp",onClick:a=>a.stopPropagation(),children:[T.jsxs("div",{className:"modal-header-sp",children:[t&&T.jsx("h3",{className:"modal-title-sp",children:t}),T.jsx("button",{className:"modal-close-btn-sp",onClick:e,children:"×"})]}),T.jsx("div",{className:"modal-body-sp",children:i}),T.jsx("div",{className:"modal-footer-sp",children:T.jsx("button",{className:"modal-ok-btn-sp",onClick:e,children:"OK"})})]})}):null}const ZU=["A - 2º ano de iniciação","B - 3º e 4º ano de iniciação","C - 1º e 2º Grau","D - 3º e 4º Grau","E - 5º e 6º Grau","F - 7º e 8º Grau"],JU=["2º ano de iniciação","3º ano de iniciação","4º ano de iniciação","1º Grau","2º Grau","3º Grau","4º Grau","5º Grau","6º Grau","7º Grau","8º Grau"];function e4(){const[n,e]=H.useState({nome:"",email:"",categoria:"",grau:"",nomeProfessor:"",peca1:"",peca2:"",partitura1File:null,partitura2File:null,fotoFile:null,comprovativoFile:null}),[t,i]=H.useState(!1),[a,l]=H.useState({}),[c,d]=H.useState(!1),[p,g]=H.useState({title:"",message:""}),v=C=>{const{name:M,value:P,type:B,files:F}=C.target;e(B==="file"?j=>({...j,[M]:F&&F.length>0?F[0]:null}):j=>({...j,[M]:P}))},b=async(C,M,P)=>{if(!C)return null;const F=`inscricoes/${M.replace(/[^a-zA-Z0-9_]/g,"_").toLowerCase()||"participante_desconhecido"}/${P}/${C.name}`,j=zU($U,F),G=UU(j,C);return new Promise((X,J)=>{G.on("state_changed",x=>{const R=x.bytesTransferred/x.totalBytes*100;l(I=>({...I,[`${P}_${C.name}`]:Math.round(R)}))},x=>{console.error(`Upload failed for ${C.name} in ${P}:`,x),l(R=>({...R,[`${P}_${C.name}`]:"Erro no Upload!"})),J(x)},async()=>{try{const x=await jU(G.snapshot.ref);l(R=>({...R,[`${P}_${C.name}`]:100})),X(x)}catch(x){console.error(`Failed to get download URL for ${C.name} in ${P}:`,x),J(x)}})})},S=async C=>{if(C.preventDefault(),i(!0),l({}),!n.nome||!n.email||!n.categoria||!n.grau||!n.nomeProfessor||!n.peca1){g({title:"Campos Obrigatórios",message:"Por favor, preencha todos os campos obrigatórios (Nome, E-mail, Categoria, Grau, Professor, Peça 1)."}),d(!0),i(!1);return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n.email)){g({title:"E-mail Inválido",message:"Por favor, insira um endereço de e-mail válido."}),d(!0),i(!1);return}if(!n.partitura1File||!n.fotoFile||!n.comprovativoFile){g({title:"Ficheiros Obrigatórios",message:"Partitura da Peça 1, Foto do Participante e Comprovativo de Inscrição são obrigatórios."}),d(!0),i(!1);return}try{const P=n.nome,B=await b(n.partitura1File,P,"partituraPeca1");let F=n.partitura2File?await b(n.partitura2File,P,"partituraPeca2"):null;const j=await b(n.fotoFile,P,"fotoParticipante"),G=await b(n.comprovativoFile,P,"comprovativoInscricao");if(!B||!j||!G)throw new Error("Falha no upload de um ou mais ficheiros obrigatórios. Verifique o progresso individual dos ficheiros.");const X={nome:n.nome,email:n.email,categoria:n.categoria,grau:n.grau,nomeProfessor:n.nomeProfessor,peca1:n.peca1,peca2:n.peca2||"",partitura1Url:B,partitura2Url:F||"",fotoUrl:j,comprovativoInscricaoUrl:G,dataInscricao:vR(),status:"Pendente"};await mR(al(Ds,"inscricoes"),X),g({title:"Sucesso!",message:"Inscrição submetida com sucesso! Obrigado pela sua participação."}),d(!0),e({nome:"",email:"",categoria:"",grau:"",nomeProfessor:"",peca1:"",peca2:"",partitura1File:null,partitura2File:null,fotoFile:null,comprovativoFile:null}),C.target&&typeof C.target.reset=="function"&&C.target.reset(),l({})}catch(P){console.error("Erro ao submeter inscrição:",P),g({title:"Erro na Submissão",message:`Ocorreu um erro ao enviar a sua inscrição: ${P.message||"Por favor, tente novamente ou contacte o suporte."}`}),d(!0)}finally{i(!1)}},O=()=>{d(!1)};return T.jsxs("div",{className:"submission-page-container",children:[T.jsx(WU,{isOpen:c,onClose:O,title:p.title,children:T.jsx("p",{children:p.message})}),T.jsxs("header",{className:"page-header-submission",children:[T.jsx("h1",{children:"Formulário de Inscrição"}),T.jsx("p",{children:"V Concurso Interno de Violino"})]}),T.jsxs("div",{className:"submission-layout-grid",children:[T.jsx("div",{className:"submission-form-container",children:T.jsxs("form",{onSubmit:S,className:"submission-form-content",children:[T.jsxs("div",{className:"form-section",children:[T.jsx("h3",{children:"Dados do Participante"}),T.jsxs("div",{className:"form-group",children:[T.jsx("label",{htmlFor:"nome",children:"Nome Completo:"}),T.jsx("input",{type:"text",id:"nome",name:"nome",value:n.nome,onChange:v,required:!0})]}),T.jsxs("div",{className:"form-group",children:[T.jsx("label",{htmlFor:"email",children:"E-mail de Contacto:"}),T.jsx("input",{type:"email",id:"email",name:"email",value:n.email,onChange:v,required:!0,placeholder:"exemplo@dominio.com"})]}),T.jsxs("div",{className:"form-group",children:[T.jsx("label",{htmlFor:"categoria",children:"Categoria:"}),T.jsxs("select",{id:"categoria",name:"categoria",value:n.categoria,onChange:v,required:!0,children:[T.jsx("option",{value:"",children:"Selecione a Categoria..."}),ZU.map(C=>T.jsx("option",{value:C,children:C},C))]})]}),T.jsxs("div",{className:"form-group",children:[T.jsx("label",{htmlFor:"grau",children:"Grau de Ensino Artístico:"}),T.jsxs("select",{id:"grau",name:"grau",value:n.grau,onChange:v,required:!0,children:[T.jsx("option",{value:"",children:"Selecione o Grau..."}),JU.map(C=>T.jsx("option",{value:C,children:C},C))]})]}),T.jsxs("div",{className:"form-group",children:[T.jsx("label",{htmlFor:"nomeProfessor",children:"Nome do Professor:"}),T.jsx("input",{type:"text",id:"nomeProfessor",name:"nomeProfessor",value:n.nomeProfessor,onChange:v,required:!0})]})]}),T.jsxs("div",{className:"form-section",children:[T.jsx("h3",{children:"Repertório"}),T.jsxs("div",{className:"form-group",children:[T.jsx("label",{htmlFor:"peca1",children:"Peça 1 (Título e Compositor):"}),T.jsx("input",{type:"text",id:"peca1",name:"peca1",value:n.peca1,onChange:v,required:!0})]}),T.jsxs("div",{className:"form-group",children:[T.jsx("label",{htmlFor:"peca2",children:"Peça 2 (Título e Compositor - Opcional):"}),T.jsx("input",{type:"text",id:"peca2",name:"peca2",value:n.peca2,onChange:v})]})]}),T.jsxs("div",{className:"form-section",children:[T.jsx("h3",{children:"Documentos (PDF ou Imagem)"}),T.jsxs("div",{className:"form-group file-group",children:[T.jsx("label",{htmlFor:"partitura1File",children:"Partitura Peça 1:"}),T.jsx("input",{type:"file",id:"partitura1File",name:"partitura1File",onChange:v,accept:".pdf,.jpg,.jpeg,.png",required:!0}),n.partitura1File&&T.jsx("span",{className:"file-name-display",children:n.partitura1File.name})]}),T.jsxs("div",{className:"form-group file-group",children:[T.jsx("label",{htmlFor:"partitura2File",children:"Partitura Peça 2 (Opcional):"}),T.jsx("input",{type:"file",id:"partitura2File",name:"partitura2File",onChange:v,accept:".pdf,.jpg,.jpeg,.png"}),n.partitura2File&&T.jsx("span",{className:"file-name-display",children:n.partitura2File.name})]}),T.jsxs("div",{className:"form-group file-group",children:[T.jsx("label",{htmlFor:"fotoFile",children:"Fotografia do Participante:"}),T.jsx("input",{type:"file",id:"fotoFile",name:"fotoFile",onChange:v,accept:".jpg,.jpeg,.png",required:!0}),n.fotoFile&&T.jsx("span",{className:"file-name-display",children:n.fotoFile.name})]}),T.jsxs("div",{className:"form-group file-group",children:[T.jsx("label",{htmlFor:"comprovativoFile",children:"Comprovativo Inscrição:"}),T.jsx("input",{type:"file",id:"comprovativoFile",name:"comprovativoFile",onChange:v,accept:".pdf,.jpg,.jpeg,.png",required:!0}),n.comprovativoFile&&T.jsx("span",{className:"file-name-display",children:n.comprovativoFile.name})]})]}),t&&Object.keys(a).length>0&&T.jsxs("div",{className:"form-section upload-progress-display",children:[T.jsx("h4",{children:"Progresso do Upload:"}),Object.entries(a).map(([C,M])=>T.jsxs("div",{className:"progress-item",children:[T.jsxs("span",{className:"file-name-progress",children:[C.length>40?"..."+C.slice(-37):C,":"]}),T.jsx("div",{className:"progress-bar-container",children:T.jsx("div",{className:"progress-bar",style:{width:`${typeof M=="number"?M:0}%`},children:typeof M=="number"&&M>5||typeof M=="string"?typeof M=="number"?`${M}%`:M:""})})]},C))]}),T.jsx("button",{type:"submit",className:"submit-btn-submission",disabled:t,children:t?"A Enviar Inscrição...":"Submeter Inscrição"})]})}),T.jsx("div",{className:"submission-image-container",children:T.jsx("img",{src:XU,alt:"Concurso de Violino",className:"submission-side-image"})})]})]})}function t4(){return T.jsxs("div",{className:"regulamento-page-container",children:[T.jsx("header",{className:"page-header-rg",children:T.jsx("h1",{children:"Regulamento do V Concurso Interno de Violino"})}),T.jsxs("section",{className:"regulamento-section",children:[T.jsx("h2",{children:"Artigo 1º – Objetivos"}),T.jsx("p",{children:"O V Concurso Interno de Violino, promovido pela Escola Artística do Conservatório de Música Calouste Gulbenkian de Aveiro, visa:"}),T.jsxs("ul",{children:[T.jsx("li",{children:"Estimular o estudo do violino entre os alunos da instituição."}),T.jsx("li",{children:"Proporcionar uma plataforma para a apresentação pública do trabalho desenvolvido."}),T.jsx("li",{children:"Promover o intercâmbio de experiências musicais entre os participantes."}),T.jsx("li",{children:"Identificar e valorizar jovens talentos."})]})]}),T.jsxs("section",{className:"regulamento-section",children:[T.jsx("h2",{children:"Artigo 2º – Elegibilidade e Categorias"}),T.jsxs("ol",{children:[T.jsxs("li",{children:[T.jsx("strong",{children:"Elegibilidade:"})," Podem concorrer todos os alunos regularmente matriculados na disciplina de Violino da Escola Artística do Conservatório de Música Calouste Gulbenkian de Aveiro no presente ano letivo."]}),T.jsxs("li",{children:[T.jsx("strong",{children:"Categorias:"})," O concurso está dividido nas seguintes categorias, de acordo com o nível de proficiência e idade (exemplos):",T.jsxs("ul",{children:[T.jsx("li",{children:"Categoria A: Iniciantes (até X anos de estudo / Y idade)"}),T.jsx("li",{children:"Categoria B: Intermédios Nível 1 (até X anos de estudo / Y idade)"}),T.jsx("li",{children:"Categoria C: Intermédios Nível 2 (até X anos de estudo / Y idade)"}),T.jsx("li",{children:"Categoria D: Avançados (mais de X anos de estudo / Y idade)"})]}),T.jsx("p",{children:T.jsx("em",{children:"Nota: A definição exata das categorias será detalhada pela organização."})})]})]})]}),T.jsxs("section",{className:"regulamento-section",children:[T.jsx("h2",{children:"Artigo 3º – Inscrições"}),T.jsx("p",{children:"As inscrições deverão ser efetuadas online através do formulário disponível na página do concurso, dentro do prazo estipulado. Será necessário submeter:"}),T.jsxs("ul",{children:[T.jsx("li",{children:"Ficha de inscrição devidamente preenchida."}),T.jsx("li",{children:"Indicação das peças a apresentar (conforme Artigo 4º)."}),T.jsx("li",{children:"Comprovativo de pagamento da taxa de inscrição (se aplicável)."}),T.jsx("li",{children:"Partituras das peças (em formato PDF)."}),T.jsx("li",{children:"Fotografia tipo passe do participante."})]}),T.jsx("p",{children:T.jsx("em",{children:"A não submissão de todos os elementos dentro do prazo poderá invalidar a inscrição."})})]}),T.jsxs("section",{className:"regulamento-section",children:[T.jsx("h2",{children:"Artigo 4º – Repertório"}),T.jsx("p",{children:"Cada participante deverá apresentar X peças de estilos contrastantes, sendo uma delas obrigatoriamente de compositor português (ou outra especificação). A duração total da apresentação não deverá exceder:"}),T.jsxs("ul",{children:[T.jsx("li",{children:"Categoria A: Y minutos"}),T.jsx("li",{children:"Categoria B: Z minutos"})]}),T.jsx("p",{children:"As peças devem ser executadas de memória (ou indicar se é opcional/obrigatório)."})]}),T.jsxs("section",{className:"regulamento-section",children:[T.jsx("h2",{children:"Artigo 5º – Júri"}),T.jsx("p",{children:"O júri será constituído por personalidades de reconhecido mérito no panorama musical e pedagógico. A composição do júri será divulgada na página oficial do concurso. As decisões do júri são soberanas e irrecorríveis."})]}),T.jsxs("section",{className:"regulamento-section",children:[T.jsx("h2",{children:"Artigo 6º – Avaliação e Classificação"}),T.jsx("p",{children:"Os critérios de avaliação incluirão, mas не se limitarão a:"}),T.jsxs("ul",{children:[T.jsx("li",{children:"Afinação"}),T.jsx("li",{children:"Rigor rítmico e métrico"}),T.jsx("li",{children:"Qualidade sonora (Timbre, Projeção, Articulação)"}),T.jsx("li",{children:"Técnica instrumental (Posição, Arcos, Dedilhação)"}),T.jsx("li",{children:"Interpretação (Expressividade, Fraseado, Dinâmicas, Carácter)"}),T.jsx("li",{children:"Presença em palco e adequação postural"})]}),T.jsx("p",{children:"Serão atribuídos prémios aos primeiros classificados de cada categoria. Poderão ser atribuídas menções honrosas a critério do júri."})]}),T.jsxs("section",{className:"regulamento-section",children:[T.jsx("h2",{children:"Artigo 7º – Disposições Finais"}),T.jsx("p",{children:"Casos omissos neste regulamento serão resolvidos pela comissão organizadora do concurso. A participação no concurso implica a aceitação integral do presente regulamento."})]}),T.jsxs("footer",{className:"page-footer-rg",children:[T.jsx("p",{children:"Escola Artística do Conservatório de Música Calouste Gulbenkian de Aveiro"}),T.jsx("p",{children:"Data da última atualização do regulamento: DD/MM/AAAA"})]})]})}function n4(){return T.jsxs("div",{children:[T.jsx("h2",{children:"Participantes - V Edição"}),T.jsx("p",{children:"Lista de participantes inscritos..."})]})}const r4="/concurso-interno-violino/assets/juri-placeholder-1-D9XpZcmu.jpeg",i4="/concurso-interno-violino/assets/juri-placeholder-2-CJz401Mb.jpeg",s4="/concurso-interno-violino/assets/juri-placeholder-3-CzcGkZLP.jpeg";function a4(){return T.jsxs("div",{className:"juri-info-page-container",children:[T.jsx("header",{className:"page-header-ji",children:T.jsx("h1",{children:"Membros do Júri"})}),T.jsxs("div",{className:"jury-members-grid",children:[T.jsxs("div",{className:"jury-member-card",children:[T.jsx("div",{className:"jury-member-image-container",children:T.jsx("img",{src:r4,alt:"David Bento",className:"jury-member-image"})}),T.jsxs("div",{className:"jury-member-info",children:[T.jsx("h3",{children:"David Bento"}),T.jsx("h4",{children:"Jovem promessa do violino português"}),T.jsx("p",{className:"jury-member-bio",children:"David Bento conta-se entre os violinistas portugueses mais activos da sua geração, e tem atuado regularmente em recital e a solo com orquestra, tanto na sua terra natal como no estrangeiro. Como entusiasta apaixonado de música de câmara, atua regularmente em festivais internacionais de destaque tais como Stockholm Kammermusik Festival, ProMusica Carynthia, Attergau Kulturtage, Styriarte Festival, Steirische Kammermusikfestival, Marvão International Music Festival entre outros. David Bento colabora com músicos proeminentes e músicos jovens, tais como Tero Latvala, Varoujan Bartikian, Alexander Zemtsov, Franz Bartholomey, Eszter Haffner, Jevgēnijs Čepoveckis, Markus Schirmer, Reinhard Latzko, Benjamin Herzl. Nos últimos anos tem vindo a apresentar-se em alguns dos mais prestigiados salões internacionais, tais como, Salzburg Festspielhaus, Paris Philarmonie, Palau de la Musica Catalana, Wien Musikverein e Graz Musikverein."})]})]}),T.jsxs("div",{className:"jury-member-card",children:[T.jsx("div",{className:"jury-member-image-container",children:T.jsx("img",{src:i4,alt:"Judit Bánk",className:"jury-member-image"})}),T.jsxs("div",{className:"jury-member-info",children:[T.jsx("h3",{children:"Judit Bánk"}),T.jsx("h4",{children:"Chefe de Naipe de Viola da Orquestra Filarmonia das Beiras"}),T.jsx("p",{className:"jury-member-bio",children:"Judit Bánk estudou violino e viola de arco na Hungria e na Áustria, tendo concluído diplomas de solista e de ensino. Foi bolseira ERASMUS na Escola Superior de Música e Artes do Espetáculo do Instituto Politécnico do Porto, onde estudou com o professor Ryszard Woycicki e a professora Amandine Beyer. É viola solista da Orquestra Filarmonia das Beiras desde 2009 e já se apresentou com várias orquestras internacionais. Mantém intensa atividade na música de câmara, colaborando com diversas formações de cordas, incluindo o Trio Atlântico."})]})]}),T.jsxs("div",{className:"jury-member-card",children:[T.jsx("div",{className:"jury-member-image-container",children:T.jsx("img",{src:s4,alt:"Elitza Mladenova",className:"jury-member-image"})}),T.jsxs("div",{className:"jury-member-info",children:[T.jsx("h3",{children:"Elitza Mladenova"}),T.jsx("h4",{children:"1º violino da Orquestra Filarmonia das Beiras"}),T.jsx("p",{className:"jury-member-bio"})]})]})]})]})}const KT=["Iniciante","Intermédio","Avançado"];function o4(){const[n,e]=H.useState({}),[t,i]=H.useState(!0),[a,l]=H.useState(""),[c,d]=H.useState(!1);H.useEffect(()=>{(async()=>{i(!0);try{const v=Mv(Ds,"contestConfig","vConcurso2025"),b=await CL(v);b.exists()&&b.data().resultsLive===!0?d(!0):d(!1)}catch(v){console.error("Error fetching contest config:",v),d(!1),l("Não foi possível verificar o estado da publicação dos resultados.")}})()},[]),H.useEffect(()=>{if(!c){i(!1),e({});return}(async()=>{l("");try{const v=Sd(al(Ds,"publishedScores_v2025"),Qf("category"),Qf("place")),O=(await Rd(v)).docs.map(C=>({id:C.id,...C.data()})).reduce((C,M)=>{const P=M.category||"Sem Categoria";return C[P]||(C[P]=[]),C[P].push(M),C},{});e(O)}catch(v){console.error("Error fetching published scores:",v),l("Não foi possível carregar os resultados publicados. Por favor, tente mais tarde.")}finally{i(!1)}})()},[c]);const p=H.useMemo(()=>Object.keys(n).sort((g,v)=>{const b=KT.indexOf(g),S=KT.indexOf(v);return b===-1&&S===-1?g.localeCompare(v):b===-1?1:S===-1?-1:b-S}),[n]);return t?T.jsxs("div",{className:"public-final-scores-page",children:[T.jsx("header",{className:"page-header-pfs",children:T.jsx("h1",{children:"Resultados Finais do Concurso"})}),T.jsx("p",{className:"loading-text-pfs",children:"A verificar e carregar resultados..."})]}):c?T.jsxs("div",{className:"public-final-scores-page",children:[T.jsxs("header",{className:"page-header-pfs",children:[T.jsx("h1",{children:"Resultados Finais do Concurso"}),T.jsx("p",{className:"page-subtitle-pfs",children:"Classificação final por categoria."})]}),a&&T.jsx("p",{className:"error-message-pfs",children:a}),!a&&p.length===0&&!t&&T.jsx("p",{className:"no-results-message-pfs",children:"Ainda não há resultados disponíveis para consulta."}),p.map(g=>n[g]&&n[g].length>0&&T.jsxs("div",{className:"category-section-pfs",children:[T.jsx("h2",{className:"category-title-pfs",children:g}),T.jsxs("table",{className:"scores-table-pfs",children:[T.jsx("thead",{children:T.jsxs("tr",{children:[T.jsx("th",{children:"Lugar"}),T.jsx("th",{children:"Participante"})]})}),T.jsx("tbody",{children:n[g].map(v=>T.jsxs("tr",{children:[" ",T.jsxs("td",{children:[v.place,"º"]})," ",T.jsx("td",{children:v.name})]},v.id||v.name))})]})]},g))]}):T.jsxs("div",{className:"public-final-scores-page",children:[T.jsx("header",{className:"page-header-pfs",children:T.jsx("h1",{children:"Resultados Finais do Concurso"})}),T.jsxs("div",{className:"results-pending-message",children:[T.jsx("p",{children:"Os resultados finais serão divulgados após a conclusão e apuramento do concurso."}),T.jsx("p",{children:"Por favor, volte mais tarde!"})]})]})}function l4(){const[n,e]=H.useState(""),[t,i]=H.useState(""),[a,l]=H.useState(""),c=La(),d=async p=>{p.preventDefault(),l("");try{await Q2(Ic,n,t),c("/avaliar")}catch{l("Email ou senha inválidos")}};return T.jsxs("div",{className:"login-container",children:[T.jsx("img",{src:Qg,alt:"Calouste Gulbenkian Logo",className:"login-logo-main"}),T.jsx("h1",{className:"title-title",children:"Concurso Interno Violino 2025"}),T.jsx("h3",{className:"login-title",children:"Login do Júri"}),T.jsxs("form",{onSubmit:d,className:"login-form",children:[T.jsx("input",{className:"login-input",type:"email",placeholder:"Email",value:n,onChange:p=>e(p.target.value),required:!0}),T.jsx("input",{className:"login-input",type:"password",placeholder:"Senha",value:t,onChange:p=>i(p.target.value),required:!0}),a&&T.jsx("p",{className:"login-error",children:a}),T.jsx("button",{className:"login-button",type:"submit",children:"Entrar"})]}),T.jsx("img",{src:Xg,alt:"República Portuguesa Logo",className:"login-logo-footer"})]})}function u4({participant:n}){return n?T.jsxs("div",{className:"panel participant-info-panel",children:[T.jsx("h3",{className:"panel-title",children:"Informação do Participante"}),n.fotoUrl&&T.jsx("img",{src:n.fotoUrl,alt:n.nome}),T.jsxs("p",{children:[T.jsx("strong",{children:"Nome:"})," ",n.nome]}),T.jsxs("p",{children:[T.jsx("strong",{children:"Categoria:"})," ",n.categoria]}),T.jsxs("p",{children:[T.jsx("strong",{children:"Grau:"})," ",n.grau]}),n.pecas&&n.pecas.length>0&&T.jsxs("div",{children:[T.jsx("p",{children:T.jsx("strong",{children:"Peças a Apresentar:"})}),T.jsx("ul",{children:n.pecas.map((e,t)=>T.jsx("li",{children:e},t))})]})]}):T.jsxs("div",{className:"panel participant-info-panel",children:[T.jsx("h3",{className:"panel-title",children:"Informação do Participante"}),T.jsx("p",{children:"Selecione um participante para ver os detalhes."})]})}const c4=["afinacao","ritmo","som","tecnica","expressividade","presenca"];function h4({participant:n,juryEmail:e}){const t={afinacao:5,ritmo:5,som:5,tecnica:5,expressividade:5,presenca:5,pontoForte:"",sugestao:""},[i,a]=H.useState(t),[l,c]=H.useState(!1),[d,p]=H.useState(!1),[g,v]=H.useState(""),[b,S]=H.useState(""),[O,C]=H.useState(null);H.useEffect(()=>{(async()=>{var j,G,X,J,x,R;if(!n||!e){a(t),C(null),v(""),S("");return}p(!0),v(""),S("");try{const I=Sd(al(Ds,"avaliacoes"),UT("participantId","==",n.id),UT("juryEmail","==",e)),N=await Rd(I);if(N.empty)a(t),C(null);else{const V=N.docs[0],U=V.data();a({afinacao:((j=U.scores)==null?void 0:j.afinacao)!==void 0?U.scores.afinacao:5,ritmo:((G=U.scores)==null?void 0:G.ritmo)!==void 0?U.scores.ritmo:5,som:((X=U.scores)==null?void 0:X.som)!==void 0?U.scores.som:5,tecnica:((J=U.scores)==null?void 0:J.tecnica)!==void 0?U.scores.tecnica:5,expressividade:((x=U.scores)==null?void 0:x.expressividade)!==void 0?U.scores.expressividade:5,presenca:((R=U.scores)==null?void 0:R.presenca)!==void 0?U.scores.presenca:5,pontoForte:U.pontoForte||"",sugestao:U.sugestao||""}),C(V.id)}}catch(I){console.error("Error fetching existing evaluation:",I),S("Erro ao carregar avaliação existente."),a(t),C(null)}finally{p(!1)}})()},[n,e]);const M=F=>{const{name:j,value:G}=F.target;a({...i,[j]:G})},P=F=>{const{name:j,value:G}=F.target;a({...i,[j]:parseInt(G)})},B=async F=>{if(F.preventDefault(),!n){S("Por favor, selecione um participante primeiro.");return}S(""),v(""),c(!0);const j={participantId:n.id,participantName:n.nome,participantCategoria:n.categoria,juryEmail:e,scores:{afinacao:i.afinacao,ritmo:i.ritmo,som:i.som,tecnica:i.tecnica,expressividade:i.expressividade,presenca:i.presenca},pontoForte:i.pontoForte,sugestao:i.sugestao,timestamp:vR()};try{if(O){const G=Mv(Ds,"avaliacoes",O);await IL(G,j,{merge:!0}),v("✅ Avaliação atualizada com sucesso!")}else{const G=await mR(al(Ds,"avaliacoes"),j);C(G.id),v("✅ Avaliação enviada com sucesso!")}}catch(G){console.error("Erro ao salvar avaliação:",G),S("Erro ao enviar/atualizar. Tente novamente.")}finally{c(!1)}};return n?d?T.jsxs("div",{className:"panel scoring-panel",children:[T.jsxs("h3",{className:"panel-title",children:["Avaliar: ",n.nome," (",n.categoria,")"]}),T.jsx("p",{className:"loading-text-panel",children:"Carregando dados da avaliação..."})," "]}):T.jsxs("div",{className:"panel scoring-panel",children:[T.jsxs("h3",{className:"panel-title",children:["Avaliar: ",n.nome," (",n.categoria,")",O&&T.jsx("span",{className:"editing-indicator",children:" (Editando)"})," "]}),g&&T.jsx("div",{className:"message success-message",children:g}),b&&T.jsx("div",{className:"message error-message",children:b}),T.jsxs("form",{onSubmit:B,children:[c4.map(F=>T.jsxs("div",{className:"range-slider-container",children:[T.jsx("label",{htmlFor:F,className:"form-label",children:F.charAt(0).toUpperCase()+F.slice(1)}),T.jsxs("div",{className:"range-slider-wrapper",children:[T.jsx("input",{type:"range",id:F,name:F,min:"0",max:"10",value:i[F],onChange:P,className:"form-range"}),T.jsx("div",{className:"range-value",children:i[F]})]})]},F)),T.jsxs("div",{className:"form-group",children:[T.jsx("label",{htmlFor:"pontoForte",className:"form-label",children:"Ponto forte da atuação"}),T.jsx("textarea",{id:"pontoForte",name:"pontoForte",placeholder:"Descreva o principal ponto forte...",value:i.pontoForte,onChange:M,className:"form-textarea"})]}),T.jsxs("div",{className:"form-group",children:[T.jsx("label",{htmlFor:"sugestao",className:"form-label",children:"Sugestão para evolução"}),T.jsx("textarea",{id:"sugestao",name:"sugestao",placeholder:"Sugestões construtivas...",value:i.sugestao,onChange:M,className:"form-textarea"})]}),T.jsx("button",{type:"submit",disabled:l||d||!n,className:"submit-button",children:l?O?"Atualizando...":"Enviando...":O?"Atualizar Avaliação":"Enviar Avaliação"})]})]}):T.jsxs("div",{className:"panel scoring-panel",children:[T.jsx("h3",{className:"panel-title",children:"Painel de Avaliação 🎻"}),T.jsx("p",{children:"Selecione um participante para iniciar a avaliação."})]})}function f4(){const[n,e,t]=cv(Ic),i=La(),[a,l]=H.useState([]),[c,d]=H.useState(!0),[p,g]=H.useState(""),[v,b]=H.useState(null);H.useEffect(()=>{!e&&!n&&i("/jurylogin")},[n,e,i]),H.useEffect(()=>{(async()=>{if(n){d(!0),b(null);try{const M=Sd(al(Ds,"inscricoes"),Qf("dataInscricao","desc")),B=(await Rd(M)).docs.map(F=>{const j=F.data();return{id:F.id,nome:j.nome||"Nome Indisponível",categoria:j.categoria||"Categoria Indisponível",fotoUrl:j.fotoUrl||"",pecas:[j.peca1,j.peca2].filter(G=>G),grau:j.grau||"Grau não especificado",email:j.email||""}});l(B)}catch(M){console.error("Error fetching participants: ",M),b("Erro ao carregar lista de participantes.")}finally{d(!1)}}})()},[n]);const S=C=>{g(C.target.value)},O=a.find(C=>C.id===p);return e?T.jsx("div",{className:"page-loading-full",children:T.jsx("p",{children:"Carregando autenticação..."})}):t?T.jsx("div",{className:"page-error-full",children:T.jsxs("p",{children:["Erro de autenticação: ",t.message]})}):n?T.jsxs("div",{className:"dashboard-page-container",children:[c?T.jsx("div",{className:"panel loading-panel-content",children:T.jsx("p",{children:"A carregar participantes..."})}):v?T.jsx("div",{className:"panel error-message-content",children:v}):T.jsxs("div",{className:"participant-selector panel",children:[T.jsx("label",{htmlFor:"participant-select",children:"Selecione o Participante:"}),T.jsxs("select",{id:"participant-select",value:p,onChange:S,className:"form-select",children:[T.jsx("option",{value:"",children:"-- Escolha um participante --"}),a.length>0?a.map(C=>T.jsxs("option",{value:C.id,children:[C.nome," (",C.categoria," - ",C.grau,") "]},C.id)):T.jsx("option",{value:"",disabled:!0,children:"Nenhum participante encontrado."})]})]}),T.jsxs("main",{className:"main-content",children:[T.jsx(u4,{participant:O}),T.jsx(h4,{participant:O,juryEmail:n==null?void 0:n.email})]})]}):null}const Ia=["afinacao","ritmo","som","tecnica","expressividade","presenca"],YT=["A - 2º ano de iniciação","B - 3º e 4º ano de iniciação","C - 1º e 2º Grau","D - 3º e 4º Grau","E - 5º e 6º Grau","F - 7º e 8º Grau"],d4=n=>{let e=0,t=0;return Ia.forEach(i=>{n&&n[i]!==void 0&&(e+=n[i],t++)}),t>0?parseFloat((e/t).toFixed(2)):0},p4=n=>{const e={};return n.forEach(t=>{const{participantId:i,participantName:a,participantCategoria:l,juryEmail:c,scores:d}=t;if(!i||!d||!c){console.warn("Skipping evaluation due to missing data:",t);return}e[i]||(e[i]={id:i,name:a||"Nome Desconhecido",category:l||"Categoria Desconhecida",juryScores:{},criteriaTotals:Ia.reduce((v,b)=>({...v,[b]:0}),{}),criteriaCounts:Ia.reduce((v,b)=>({...v,[b]:0}),{})});const p=e[i],g=d4(d);(g>0||d&&Object.keys(d).length>0)&&(p.juryScores[c]=g),Ia.forEach(v=>{d&&d[v]!==void 0&&(p.criteriaTotals[v]+=d[v],p.criteriaCounts[v]++)})}),e},m4=n=>{const e={};Object.values(n).map(i=>{const a=Object.values(i.juryScores);let l=0;a.length>0&&(l=a.reduce((p,g)=>p+g,0)/a.length);const c={};return Ia.forEach(d=>{c[d]=i.criteriaCounts[d]>0?parseFloat((i.criteriaTotals[d]/i.criteriaCounts[d]).toFixed(2)):0}),{...i,overallAverage:parseFloat(l.toFixed(2)),criteriaAveragesForDisplay:c,numberOfJuriesWhoScored:a.length}}).forEach(i=>{const a=i.category||"Sem Categoria";e[a]||(e[a]=[]),e[a].push(i)});for(const i in e){e[i].sort((d,p)=>p.overallAverage!==d.overallAverage?p.overallAverage-d.overallAverage:d.name.localeCompare(p.name));let a=0,l=-1,c=0;e[i].forEach((d,p)=>{if(d.overallAverage!==l)a=p+1,c=1,d.place=a,d.isExAequo=!1;else{d.place=a,c++,d.isExAequo=!0;for(let g=1;g<c&&e[i][p-g].overallAverage===d.overallAverage;g++)e[i][p-g].isExAequo=!0}l=d.overallAverage})}return e};function g4(){const[n,e]=cv(Ic),t=La(),[i,a]=H.useState({}),[l,c]=H.useState(!0),[d,p]=H.useState("");H.useEffect(()=>{},[n,e,t]),H.useEffect(()=>{n?(async()=>{c(!0),p("");try{const b=Sd(al(Ds,"avaliacoes"),Qf("timestamp","desc")),O=(await Rd(b)).docs.map(P=>({id:P.id,...P.data()})),C=p4(O),M=m4(C);a(M)}catch(b){console.error("Error fetching evaluations:",b),p("Erro ao carregar as avaliações. Tente novamente.")}finally{c(!1)}})():!e&&!n&&(c(!1),p("Autenticação necessária para ver esta página."))},[n,e]);const g=H.useMemo(()=>Object.keys(i).sort((v,b)=>{const S=YT.indexOf(v),O=YT.indexOf(b);return S===-1&&O===-1?v.localeCompare(b):S===-1?1:O===-1?-1:S-O}),[i]);return l?T.jsxs("div",{className:"page-content-centered",children:[" ",T.jsx("p",{className:"loading-text",children:"Carregando resultados finais..."})]}):T.jsxs("div",{className:"jury-final-scores-content-area",children:[" ",T.jsxs("main",{className:"final-scores-content",children:[" ",T.jsx("h1",{className:"page-title",children:"Resultados Finais do Concurso (Júri)"}),d&&T.jsx("p",{className:"error-message",children:d}),!d&&g.length===0&&!l&&T.jsx("p",{children:"Ainda não há avaliações submetidas para exibir os resultados."}),g.map(v=>i[v]&&i[v].length>0&&T.jsxs("div",{className:"category-section",children:[T.jsx("h2",{className:"category-title",children:v}),T.jsx("div",{className:"scores-table-container",children:T.jsxs("table",{children:[T.jsx("thead",{children:T.jsxs("tr",{children:[T.jsx("th",{children:"Lugar"}),T.jsx("th",{children:"Participante"}),Ia.map(b=>T.jsx("th",{className:"criterion-header",children:b.charAt(0).toUpperCase()+b.slice(1)},b)),T.jsx("th",{children:"Júris"}),T.jsx("th",{children:"Média Final"})]})}),T.jsx("tbody",{children:i[v].map(b=>T.jsxs("tr",{children:[T.jsxs("td",{children:[b.place,"º",b.isExAequo&&T.jsx("span",{className:"ex-aequo-tag",children:" (Ex Aequo)"})]}),T.jsx("td",{children:b.name}),Ia.map(S=>{var O;return T.jsx("td",{children:((O=b.criteriaAveragesForDisplay[S])==null?void 0:O.toFixed(2))??"N/A"},S)}),T.jsx("td",{children:b.numberOfJuriesWhoScored}),T.jsx("td",{children:T.jsx("strong",{children:b.overallAverage.toFixed(2)})})]},b.id))})]})})]},v))]})]})}function v4(){return T.jsx(LI,{basename:"/concurso-interno-violino",children:T.jsxs(dI,{children:[T.jsxs(cr,{element:T.jsx(yN,{}),children:[T.jsx(cr,{path:"/",element:T.jsx(QU,{})}),T.jsx(cr,{path:"/inscricao",element:T.jsx(e4,{})}),T.jsx(cr,{path:"/regulamento",element:T.jsx(t4,{})}),T.jsx(cr,{path:"/participantes",element:T.jsx(n4,{})}),T.jsx(cr,{path:"/juri",element:T.jsx(a4,{})}),T.jsx(cr,{path:"/resultados",element:T.jsx(o4,{})})]}),T.jsx(cr,{path:"/jurylogin",element:T.jsx(l4,{})}),T.jsxs(cr,{element:T.jsx(YU,{}),children:[T.jsx(cr,{path:"/avaliar",element:T.jsx(f4,{})}),T.jsx(cr,{path:"/resultados-juri",element:T.jsx(g4,{})})]})]})})}_C.createRoot(document.getElementById("root")).render(T.jsx(H.StrictMode,{children:T.jsx(v4,{})}));
