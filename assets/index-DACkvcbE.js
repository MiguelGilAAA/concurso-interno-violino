(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=t(a);fetch(a.href,l)}})();function fC(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Cm={exports:{}},Ru={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cE;function dC(){if(cE)return Ru;cE=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:n,type:i,key:c,ref:a!==void 0?a:null,props:l}}return Ru.Fragment=e,Ru.jsx=t,Ru.jsxs=t,Ru}var hE;function pC(){return hE||(hE=1,Cm.exports=dC()),Cm.exports}var T=pC(),Im={exports:{}},Ne={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fE;function mC(){if(fE)return Ne;fE=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.iterator;function w(L){return L===null||typeof L!="object"?null:(L=b&&L[b]||L["@@iterator"],typeof L=="function"?L:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,M={};function N(L,re,ue){this.props=L,this.context=re,this.refs=M,this.updater=ue||O}N.prototype.isReactComponent={},N.prototype.setState=function(L,re){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,re,"setState")},N.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function z(){}z.prototype=N.prototype;function q(L,re,ue){this.props=L,this.context=re,this.refs=M,this.updater=ue||O}var j=q.prototype=new z;j.constructor=q,C(j,N.prototype),j.isPureReactComponent=!0;var G=Array.isArray,Q={H:null,A:null,T:null,S:null,V:null},J=Object.prototype.hasOwnProperty;function x(L,re,ue,le,ge,be){return ue=be.ref,{$$typeof:n,type:L,key:re,ref:ue!==void 0?ue:null,props:be}}function S(L,re){return x(L.type,re,void 0,void 0,void 0,L.props)}function I(L){return typeof L=="object"&&L!==null&&L.$$typeof===n}function D(L){var re={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(ue){return re[ue]})}var V=/\/+/g;function U(L,re){return typeof L=="object"&&L!==null&&L.key!=null?D(""+L.key):re.toString(36)}function P(){}function ve(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(P,P):(L.status="pending",L.then(function(re){L.status==="pending"&&(L.status="fulfilled",L.value=re)},function(re){L.status==="pending"&&(L.status="rejected",L.reason=re)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function Ue(L,re,ue,le,ge){var be=typeof L;(be==="undefined"||be==="boolean")&&(L=null);var ye=!1;if(L===null)ye=!0;else switch(be){case"bigint":case"string":case"number":ye=!0;break;case"object":switch(L.$$typeof){case n:case e:ye=!0;break;case v:return ye=L._init,Ue(ye(L._payload),re,ue,le,ge)}}if(ye)return ge=ge(L),ye=le===""?"."+U(L,0):le,G(ge)?(ue="",ye!=null&&(ue=ye.replace(V,"$&/")+"/"),Ue(ge,re,ue,"",function(Ft){return Ft})):ge!=null&&(I(ge)&&(ge=S(ge,ue+(ge.key==null||L&&L.key===ge.key?"":(""+ge.key).replace(V,"$&/")+"/")+ye)),re.push(ge)),1;ye=0;var at=le===""?".":le+":";if(G(L))for(var De=0;De<L.length;De++)le=L[De],be=at+U(le,De),ye+=Ue(le,re,ue,be,ge);else if(De=w(L),typeof De=="function")for(L=De.call(L),De=0;!(le=L.next()).done;)le=le.value,be=at+U(le,De++),ye+=Ue(le,re,ue,be,ge);else if(be==="object"){if(typeof L.then=="function")return Ue(ve(L),re,ue,le,ge);throw re=String(L),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.")}return ye}function Z(L,re,ue){if(L==null)return L;var le=[],ge=0;return Ue(L,le,"","",function(be){return re.call(ue,be,ge++)}),le}function oe(L){if(L._status===-1){var re=L._result;re=re(),re.then(function(ue){(L._status===0||L._status===-1)&&(L._status=1,L._result=ue)},function(ue){(L._status===0||L._status===-1)&&(L._status=2,L._result=ue)}),L._status===-1&&(L._status=0,L._result=re)}if(L._status===1)return L._result.default;throw L._result}var fe=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var re=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(re))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)};function Oe(){}return Ne.Children={map:Z,forEach:function(L,re,ue){Z(L,function(){re.apply(this,arguments)},ue)},count:function(L){var re=0;return Z(L,function(){re++}),re},toArray:function(L){return Z(L,function(re){return re})||[]},only:function(L){if(!I(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},Ne.Component=N,Ne.Fragment=t,Ne.Profiler=a,Ne.PureComponent=q,Ne.StrictMode=i,Ne.Suspense=p,Ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Q,Ne.__COMPILER_RUNTIME={__proto__:null,c:function(L){return Q.H.useMemoCache(L)}},Ne.cache=function(L){return function(){return L.apply(null,arguments)}},Ne.cloneElement=function(L,re,ue){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var le=C({},L.props),ge=L.key,be=void 0;if(re!=null)for(ye in re.ref!==void 0&&(be=void 0),re.key!==void 0&&(ge=""+re.key),re)!J.call(re,ye)||ye==="key"||ye==="__self"||ye==="__source"||ye==="ref"&&re.ref===void 0||(le[ye]=re[ye]);var ye=arguments.length-2;if(ye===1)le.children=ue;else if(1<ye){for(var at=Array(ye),De=0;De<ye;De++)at[De]=arguments[De+2];le.children=at}return x(L.type,ge,void 0,void 0,be,le)},Ne.createContext=function(L){return L={$$typeof:c,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:l,_context:L},L},Ne.createElement=function(L,re,ue){var le,ge={},be=null;if(re!=null)for(le in re.key!==void 0&&(be=""+re.key),re)J.call(re,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(ge[le]=re[le]);var ye=arguments.length-2;if(ye===1)ge.children=ue;else if(1<ye){for(var at=Array(ye),De=0;De<ye;De++)at[De]=arguments[De+2];ge.children=at}if(L&&L.defaultProps)for(le in ye=L.defaultProps,ye)ge[le]===void 0&&(ge[le]=ye[le]);return x(L,be,void 0,void 0,null,ge)},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(L){return{$$typeof:d,render:L}},Ne.isValidElement=I,Ne.lazy=function(L){return{$$typeof:v,_payload:{_status:-1,_result:L},_init:oe}},Ne.memo=function(L,re){return{$$typeof:g,type:L,compare:re===void 0?null:re}},Ne.startTransition=function(L){var re=Q.T,ue={};Q.T=ue;try{var le=L(),ge=Q.S;ge!==null&&ge(ue,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(Oe,fe)}catch(be){fe(be)}finally{Q.T=re}},Ne.unstable_useCacheRefresh=function(){return Q.H.useCacheRefresh()},Ne.use=function(L){return Q.H.use(L)},Ne.useActionState=function(L,re,ue){return Q.H.useActionState(L,re,ue)},Ne.useCallback=function(L,re){return Q.H.useCallback(L,re)},Ne.useContext=function(L){return Q.H.useContext(L)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(L,re){return Q.H.useDeferredValue(L,re)},Ne.useEffect=function(L,re,ue){var le=Q.H;if(typeof ue=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return le.useEffect(L,re)},Ne.useId=function(){return Q.H.useId()},Ne.useImperativeHandle=function(L,re,ue){return Q.H.useImperativeHandle(L,re,ue)},Ne.useInsertionEffect=function(L,re){return Q.H.useInsertionEffect(L,re)},Ne.useLayoutEffect=function(L,re){return Q.H.useLayoutEffect(L,re)},Ne.useMemo=function(L,re){return Q.H.useMemo(L,re)},Ne.useOptimistic=function(L,re){return Q.H.useOptimistic(L,re)},Ne.useReducer=function(L,re,ue){return Q.H.useReducer(L,re,ue)},Ne.useRef=function(L){return Q.H.useRef(L)},Ne.useState=function(L){return Q.H.useState(L)},Ne.useSyncExternalStore=function(L,re,ue){return Q.H.useSyncExternalStore(L,re,ue)},Ne.useTransition=function(){return Q.H.useTransition()},Ne.version="19.1.0",Ne}var dE;function Og(){return dE||(dE=1,Im.exports=mC()),Im.exports}var F=Og();const he=fC(F);var xm={exports:{}},Cu={},Om={exports:{}},Nm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pE;function gC(){return pE||(pE=1,function(n){function e(Z,oe){var fe=Z.length;Z.push(oe);e:for(;0<fe;){var Oe=fe-1>>>1,L=Z[Oe];if(0<a(L,oe))Z[Oe]=oe,Z[fe]=L,fe=Oe;else break e}}function t(Z){return Z.length===0?null:Z[0]}function i(Z){if(Z.length===0)return null;var oe=Z[0],fe=Z.pop();if(fe!==oe){Z[0]=fe;e:for(var Oe=0,L=Z.length,re=L>>>1;Oe<re;){var ue=2*(Oe+1)-1,le=Z[ue],ge=ue+1,be=Z[ge];if(0>a(le,fe))ge<L&&0>a(be,le)?(Z[Oe]=be,Z[ge]=fe,Oe=ge):(Z[Oe]=le,Z[ue]=fe,Oe=ue);else if(ge<L&&0>a(be,fe))Z[Oe]=be,Z[ge]=fe,Oe=ge;else break e}}return oe}function a(Z,oe){var fe=Z.sortIndex-oe.sortIndex;return fe!==0?fe:Z.id-oe.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();n.unstable_now=function(){return c.now()-d}}var p=[],g=[],v=1,b=null,w=3,O=!1,C=!1,M=!1,N=!1,z=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;function G(Z){for(var oe=t(g);oe!==null;){if(oe.callback===null)i(g);else if(oe.startTime<=Z)i(g),oe.sortIndex=oe.expirationTime,e(p,oe);else break;oe=t(g)}}function Q(Z){if(M=!1,G(Z),!C)if(t(p)!==null)C=!0,J||(J=!0,U());else{var oe=t(g);oe!==null&&Ue(Q,oe.startTime-Z)}}var J=!1,x=-1,S=5,I=-1;function D(){return N?!0:!(n.unstable_now()-I<S)}function V(){if(N=!1,J){var Z=n.unstable_now();I=Z;var oe=!0;try{e:{C=!1,M&&(M=!1,q(x),x=-1),O=!0;var fe=w;try{t:{for(G(Z),b=t(p);b!==null&&!(b.expirationTime>Z&&D());){var Oe=b.callback;if(typeof Oe=="function"){b.callback=null,w=b.priorityLevel;var L=Oe(b.expirationTime<=Z);if(Z=n.unstable_now(),typeof L=="function"){b.callback=L,G(Z),oe=!0;break t}b===t(p)&&i(p),G(Z)}else i(p);b=t(p)}if(b!==null)oe=!0;else{var re=t(g);re!==null&&Ue(Q,re.startTime-Z),oe=!1}}break e}finally{b=null,w=fe,O=!1}oe=void 0}}finally{oe?U():J=!1}}}var U;if(typeof j=="function")U=function(){j(V)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,ve=P.port2;P.port1.onmessage=V,U=function(){ve.postMessage(null)}}else U=function(){z(V,0)};function Ue(Z,oe){x=z(function(){Z(n.unstable_now())},oe)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Z){Z.callback=null},n.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<Z?Math.floor(1e3/Z):5},n.unstable_getCurrentPriorityLevel=function(){return w},n.unstable_next=function(Z){switch(w){case 1:case 2:case 3:var oe=3;break;default:oe=w}var fe=w;w=oe;try{return Z()}finally{w=fe}},n.unstable_requestPaint=function(){N=!0},n.unstable_runWithPriority=function(Z,oe){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var fe=w;w=Z;try{return oe()}finally{w=fe}},n.unstable_scheduleCallback=function(Z,oe,fe){var Oe=n.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?Oe+fe:Oe):fe=Oe,Z){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=fe+L,Z={id:v++,callback:oe,priorityLevel:Z,startTime:fe,expirationTime:L,sortIndex:-1},fe>Oe?(Z.sortIndex=fe,e(g,Z),t(p)===null&&Z===t(g)&&(M?(q(x),x=-1):M=!0,Ue(Q,fe-Oe))):(Z.sortIndex=L,e(p,Z),C||O||(C=!0,J||(J=!0,U()))),Z},n.unstable_shouldYield=D,n.unstable_wrapCallback=function(Z){var oe=w;return function(){var fe=w;w=oe;try{return Z.apply(this,arguments)}finally{w=fe}}}}(Nm)),Nm}var mE;function vC(){return mE||(mE=1,Om.exports=gC()),Om.exports}var Dm={exports:{}},mn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gE;function yC(){if(gE)return mn;gE=1;var n=Og();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(p,g,v){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:b==null?null:""+b,children:p,containerInfo:g,implementation:v}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return mn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,mn.createPortal=function(p,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(p,g,null,v)},mn.flushSync=function(p){var g=c.T,v=i.p;try{if(c.T=null,i.p=2,p)return p()}finally{c.T=g,i.p=v,i.d.f()}},mn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,i.d.C(p,g))},mn.prefetchDNS=function(p){typeof p=="string"&&i.d.D(p)},mn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var v=g.as,b=d(v,g.crossOrigin),w=typeof g.integrity=="string"?g.integrity:void 0,O=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?i.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:w,fetchPriority:O}):v==="script"&&i.d.X(p,{crossOrigin:b,integrity:w,fetchPriority:O,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},mn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=d(g.as,g.crossOrigin);i.d.M(p,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&i.d.M(p)},mn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,b=d(v,g.crossOrigin);i.d.L(p,v,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},mn.preloadModule=function(p,g){if(typeof p=="string")if(g){var v=d(g.as,g.crossOrigin);i.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else i.d.m(p)},mn.requestFormReset=function(p){i.d.r(p)},mn.unstable_batchedUpdates=function(p,g){return p(g)},mn.useFormState=function(p,g,v){return c.H.useFormState(p,g,v)},mn.useFormStatus=function(){return c.H.useHostTransitionStatus()},mn.version="19.1.0",mn}var vE;function _C(){if(vE)return Dm.exports;vE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Dm.exports=yC(),Dm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yE;function EC(){if(yE)return Cu;yE=1;var n=vC(),e=Og(),t=_C();function i(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function l(r){var s=r,o=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(o=s.return),r=s.return;while(r)}return s.tag===3?o:null}function c(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function d(r){if(l(r)!==r)throw Error(i(188))}function p(r){var s=r.alternate;if(!s){if(s=l(r),s===null)throw Error(i(188));return s!==r?null:r}for(var o=r,u=s;;){var f=o.return;if(f===null)break;var m=f.alternate;if(m===null){if(u=f.return,u!==null){o=u;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===o)return d(f),r;if(m===u)return d(f),s;m=m.sibling}throw Error(i(188))}if(o.return!==u.return)o=f,u=m;else{for(var E=!1,A=f.child;A;){if(A===o){E=!0,o=f,u=m;break}if(A===u){E=!0,u=f,o=m;break}A=A.sibling}if(!E){for(A=m.child;A;){if(A===o){E=!0,o=m,u=f;break}if(A===u){E=!0,u=m,o=f;break}A=A.sibling}if(!E)throw Error(i(189))}}if(o.alternate!==u)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?r:s}function g(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=g(r),s!==null)return s;r=r.sibling}return null}var v=Object.assign,b=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),O=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),z=Symbol.for("react.provider"),q=Symbol.for("react.consumer"),j=Symbol.for("react.context"),G=Symbol.for("react.forward_ref"),Q=Symbol.for("react.suspense"),J=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),D=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function U(r){return r===null||typeof r!="object"?null:(r=V&&r[V]||r["@@iterator"],typeof r=="function"?r:null)}var P=Symbol.for("react.client.reference");function ve(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===P?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case C:return"Fragment";case N:return"Profiler";case M:return"StrictMode";case Q:return"Suspense";case J:return"SuspenseList";case I:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case O:return"Portal";case j:return(r.displayName||"Context")+".Provider";case q:return(r._context.displayName||"Context")+".Consumer";case G:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case x:return s=r.displayName||null,s!==null?s:ve(r.type)||"Memo";case S:s=r._payload,r=r._init;try{return ve(r(s))}catch{}}return null}var Ue=Array.isArray,Z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},Oe=[],L=-1;function re(r){return{current:r}}function ue(r){0>L||(r.current=Oe[L],Oe[L]=null,L--)}function le(r,s){L++,Oe[L]=r.current,r.current=s}var ge=re(null),be=re(null),ye=re(null),at=re(null);function De(r,s){switch(le(ye,s),le(be,r),le(ge,null),s.nodeType){case 9:case 11:r=(r=s.documentElement)&&(r=r.namespaceURI)?U0(r):0;break;default:if(r=s.tagName,s=s.namespaceURI)s=U0(s),r=j0(s,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}ue(ge),le(ge,r)}function Ft(){ue(ge),ue(be),ue(ye)}function Un(r){r.memoizedState!==null&&le(at,r);var s=ge.current,o=j0(s,r.type);s!==o&&(le(be,r),le(ge,o))}function un(r){be.current===r&&(ue(ge),ue(be)),at.current===r&&(ue(at),bu._currentValue=fe)}var vr=Object.prototype.hasOwnProperty,Wn=n.unstable_scheduleCallback,Ht=n.unstable_cancelCallback,cn=n.unstable_shouldYield,ut=n.unstable_requestPaint,Ce=n.unstable_now,hn=n.unstable_getCurrentPriorityLevel,Cn=n.unstable_ImmediatePriority,tt=n.unstable_UserBlockingPriority,Rt=n.unstable_NormalPriority,In=n.unstable_LowPriority,Jt=n.unstable_IdlePriority,jn=n.log,yr=n.unstable_setDisableYieldValue,ct=null,Ge=null;function fn(r){if(typeof jn=="function"&&yr(r),Ge&&typeof Ge.setStrictMode=="function")try{Ge.setStrictMode(ct,r)}catch{}}var dn=Math.clz32?Math.clz32:Hs,Dc=Math.log,xd=Math.LN2;function Hs(r){return r>>>=0,r===0?32:31-(Dc(r)/xd|0)|0}var Gs=256,$s=4194304;function _r(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function $a(r,s,o){var u=r.pendingLanes;if(u===0)return 0;var f=0,m=r.suspendedLanes,E=r.pingedLanes;r=r.warmLanes;var A=u&134217727;return A!==0?(u=A&~m,u!==0?f=_r(u):(E&=A,E!==0?f=_r(E):o||(o=A&~r,o!==0&&(f=_r(o))))):(A=u&~m,A!==0?f=_r(A):E!==0?f=_r(E):o||(o=u&~r,o!==0&&(f=_r(o)))),f===0?0:s!==0&&s!==f&&(s&m)===0&&(m=f&-f,o=s&-s,m>=o||m===32&&(o&4194048)!==0)?s:f}function Ks(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function bl(r,s){switch(r){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Tl(){var r=Gs;return Gs<<=1,(Gs&4194048)===0&&(Gs=256),r}function Al(){var r=$s;return $s<<=1,($s&62914560)===0&&($s=4194304),r}function hi(r){for(var s=[],o=0;31>o;o++)s.push(r);return s}function fi(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function wl(r,s,o,u,f,m){var E=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var A=r.entanglements,k=r.expirationTimes,Y=r.hiddenUpdates;for(o=E&~o;0<o;){var te=31-dn(o),ie=1<<te;A[te]=0,k[te]=-1;var X=Y[te];if(X!==null)for(Y[te]=null,te=0;te<X.length;te++){var W=X[te];W!==null&&(W.lane&=-536870913)}o&=~ie}u!==0&&Dr(r,u,0),m!==0&&f===0&&r.tag!==0&&(r.suspendedLanes|=m&~(E&~s))}function Dr(r,s,o){r.pendingLanes|=s,r.suspendedLanes&=~s;var u=31-dn(s);r.entangledLanes|=s,r.entanglements[u]=r.entanglements[u]|1073741824|o&4194090}function Sl(r,s){var o=r.entangledLanes|=s;for(r=r.entanglements;o;){var u=31-dn(o),f=1<<u;f&s|r[u]&s&&(r[u]|=s),o&=~f}}function Ki(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function Ka(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Yi(){var r=oe.p;return r!==0?r:(r=window.event,r===void 0?32:iE(r.type))}function Pc(r,s){var o=oe.p;try{return oe.p=r,s()}finally{oe.p=o}}var dt=Math.random().toString(36).slice(2),kt="__reactFiber$"+dt,Ct="__reactProps$"+dt,Jn="__reactContainer$"+dt,Rl="__reactEvents$"+dt,Od="__reactListeners$"+dt,Qi="__reactHandles$"+dt,kc="__reactResources$"+dt,Ys="__reactMarker$"+dt;function Xi(r){delete r[kt],delete r[Ct],delete r[Rl],delete r[Od],delete r[Qi]}function di(r){var s=r[kt];if(s)return s;for(var o=r.parentNode;o;){if(s=o[Jn]||o[kt]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(r=F0(r);r!==null;){if(o=r[kt])return o;r=F0(r)}return s}r=o,o=r.parentNode}return null}function Pr(r){if(r=r[kt]||r[Jn]){var s=r.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return r}return null}function kr(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(i(33))}function Tn(r){var s=r[kc];return s||(s=r[kc]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function bt(r){r[Ys]=!0}var Cl=new Set,Ya={};function Er(r,s){pi(r,s),pi(r+"Capture",s)}function pi(r,s){for(Ya[r]=s,r=0;r<s.length;r++)Cl.add(s[r])}var Mc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Vc={},Qs={};function Lc(r){return vr.call(Qs,r)?!0:vr.call(Vc,r)?!1:Mc.test(r)?Qs[r]=!0:(Vc[r]=!0,!1)}function Wi(r,s,o){if(Lc(s))if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+o)}}function Mr(r,s,o){if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+o)}}function Zt(r,s,o,u){if(u===null)r.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(s,o,""+u)}}var Xs,Uc;function mi(r){if(Xs===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);Xs=s&&s[1]||"",Uc=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Xs+r+Uc}var Qa=!1;function Xa(r,s){if(!r||Qa)return"";Qa=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var ie=function(){throw Error()};if(Object.defineProperty(ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ie,[])}catch(W){var X=W}Reflect.construct(r,[],ie)}else{try{ie.call()}catch(W){X=W}r.call(ie.prototype)}}else{try{throw Error()}catch(W){X=W}(ie=r())&&typeof ie.catch=="function"&&ie.catch(function(){})}}catch(W){if(W&&X&&typeof W.stack=="string")return[W.stack,X.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=u.DetermineComponentFrameRoot(),E=m[0],A=m[1];if(E&&A){var k=E.split(`
`),Y=A.split(`
`);for(f=u=0;u<k.length&&!k[u].includes("DetermineComponentFrameRoot");)u++;for(;f<Y.length&&!Y[f].includes("DetermineComponentFrameRoot");)f++;if(u===k.length||f===Y.length)for(u=k.length-1,f=Y.length-1;1<=u&&0<=f&&k[u]!==Y[f];)f--;for(;1<=u&&0<=f;u--,f--)if(k[u]!==Y[f]){if(u!==1||f!==1)do if(u--,f--,0>f||k[u]!==Y[f]){var te=`
`+k[u].replace(" at new "," at ");return r.displayName&&te.includes("<anonymous>")&&(te=te.replace("<anonymous>",r.displayName)),te}while(1<=u&&0<=f);break}}}finally{Qa=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?mi(o):""}function Il(r){switch(r.tag){case 26:case 27:case 5:return mi(r.type);case 16:return mi("Lazy");case 13:return mi("Suspense");case 19:return mi("SuspenseList");case 0:case 15:return Xa(r.type,!1);case 11:return Xa(r.type.render,!1);case 1:return Xa(r.type,!0);case 31:return mi("Activity");default:return""}}function Wa(r){try{var s="";do s+=Il(r),r=r.return;while(r);return s}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function An(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function xl(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Nd(r){var s=xl(r)?"checked":"value",o=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),u=""+r[s];if(!r.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,m=o.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return f.call(this)},set:function(E){u=""+E,m.call(this,E)}}),Object.defineProperty(r,s,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(E){u=""+E},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function Ja(r){r._valueTracker||(r._valueTracker=Nd(r))}function Ol(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var o=s.getValue(),u="";return r&&(u=xl(r)?r.checked?"true":"false":r.value),r=u,r!==o?(s.setValue(r),!0):!1}function Ws(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var Dd=/[\n"\\]/g;function It(r){return r.replace(Dd,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Bn(r,s,o,u,f,m,E,A){r.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?r.type=E:r.removeAttribute("type"),s!=null?E==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+An(s)):r.value!==""+An(s)&&(r.value=""+An(s)):E!=="submit"&&E!=="reset"||r.removeAttribute("value"),s!=null?Ji(r,E,An(s)):o!=null?Ji(r,E,An(o)):u!=null&&r.removeAttribute("value"),f==null&&m!=null&&(r.defaultChecked=!!m),f!=null&&(r.checked=f&&typeof f!="function"&&typeof f!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?r.name=""+An(A):r.removeAttribute("name")}function Js(r,s,o,u,f,m,E,A){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(r.type=m),s!=null||o!=null){if(!(m!=="submit"&&m!=="reset"||s!=null))return;o=o!=null?""+An(o):"",s=s!=null?""+An(s):o,A||s===r.value||(r.value=s),r.defaultValue=s}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,r.checked=A?r.checked:!!u,r.defaultChecked=!!u,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(r.name=E)}function Ji(r,s,o){s==="number"&&Ws(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function gi(r,s,o,u){if(r=r.options,s){s={};for(var f=0;f<o.length;f++)s["$"+o[f]]=!0;for(o=0;o<r.length;o++)f=s.hasOwnProperty("$"+r[o].value),r[o].selected!==f&&(r[o].selected=f),f&&u&&(r[o].defaultSelected=!0)}else{for(o=""+An(o),s=null,f=0;f<r.length;f++){if(r[f].value===o){r[f].selected=!0,u&&(r[f].defaultSelected=!0);return}s!==null||r[f].disabled||(s=r[f])}s!==null&&(s.selected=!0)}}function nt(r,s,o){if(s!=null&&(s=""+An(s),s!==r.value&&(r.value=s),o==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=o!=null?""+An(o):""}function Zs(r,s,o,u){if(s==null){if(u!=null){if(o!=null)throw Error(i(92));if(Ue(u)){if(1<u.length)throw Error(i(93));u=u[0]}o=u}o==null&&(o=""),s=o}o=An(s),r.defaultValue=o,u=r.textContent,u===o&&u!==""&&u!==null&&(r.value=u)}function Zn(r,s){if(s){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=s;return}}r.textContent=s}var ea=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function jc(r,s,o){var u=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":u?r.setProperty(s,o):typeof o!="number"||o===0||ea.has(s)?s==="float"?r.cssFloat=o:r[s]=(""+o).trim():r[s]=o+"px"}function Nl(r,s,o){if(s!=null&&typeof s!="object")throw Error(i(62));if(r=r.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?r.setProperty(u,""):u==="float"?r.cssFloat="":r[u]="");for(var f in s)u=s[f],s.hasOwnProperty(f)&&o[f]!==u&&jc(r,f,u)}else for(var m in s)s.hasOwnProperty(m)&&jc(r,m,s[m])}function Dl(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),kd=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Za(r){return kd.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var vi=null;function er(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var yi=null,_i=null;function Pl(r){var s=Pr(r);if(s&&(r=s.stateNode)){var o=r[Ct]||null;e:switch(r=s.stateNode,s.type){case"input":if(Bn(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+It(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var u=o[s];if(u!==r&&u.form===r.form){var f=u[Ct]||null;if(!f)throw Error(i(90));Bn(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<o.length;s++)u=o[s],u.form===r.form&&Ol(u)}break e;case"textarea":nt(r,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&gi(r,!!o.multiple,s,!1)}}}var Vr=!1;function Bc(r,s,o){if(Vr)return r(s,o);Vr=!0;try{var u=r(s);return u}finally{if(Vr=!1,(yi!==null||_i!==null)&&(Ph(),yi&&(s=yi,r=_i,_i=yi=null,Pl(s),r)))for(s=0;s<r.length;s++)Pl(r[s])}}function ta(r,s){var o=r.stateNode;if(o===null)return null;var u=o[Ct]||null;if(u===null)return null;o=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(r=r.type,u=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!u;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(i(231,s,typeof o));return o}var br=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),tr=!1;if(br)try{var na={};Object.defineProperty(na,"passive",{get:function(){tr=!0}}),window.addEventListener("test",na,na),window.removeEventListener("test",na,na)}catch{tr=!1}var Lr=null,Zi=null,Ei=null;function kl(){if(Ei)return Ei;var r,s=Zi,o=s.length,u,f="value"in Lr?Lr.value:Lr.textContent,m=f.length;for(r=0;r<o&&s[r]===f[r];r++);var E=o-r;for(u=1;u<=E&&s[o-u]===f[m-u];u++);return Ei=f.slice(r,1<u?1-u:void 0)}function Ur(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function jr(){return!0}function Ml(){return!1}function Gt(r){function s(o,u,f,m,E){this._reactName=o,this._targetInst=f,this.type=u,this.nativeEvent=m,this.target=E,this.currentTarget=null;for(var A in r)r.hasOwnProperty(A)&&(o=r[A],this[A]=o?o(m):m[A]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?jr:Ml,this.isPropagationStopped=Ml,this}return v(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=jr)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=jr)},persist:function(){},isPersistent:jr}),s}var Xe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},eo=Gt(Xe),ra=v({},Xe,{view:0,detail:0}),zc=Gt(ra),to,no,Br,ia=v({},ra,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:oa,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Br&&(Br&&r.type==="mousemove"?(to=r.screenX-Br.screenX,no=r.screenY-Br.screenY):no=to=0,Br=r),to)},movementY:function(r){return"movementY"in r?r.movementY:no}}),nr=Gt(ia),qc=v({},ia,{dataTransfer:0}),Md=Gt(qc),sa=v({},ra,{relatedTarget:0}),ro=Gt(sa),Vl=v({},Xe,{animationName:0,elapsedTime:0,pseudoElement:0}),io=Gt(Vl),Fc=v({},Xe,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),so=Gt(Fc),Vd=v({},Xe,{data:0}),Ll=Gt(Vd),aa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Hc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Gc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ul(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=Gc[r])?!!s[r]:!1}function oa(){return Ul}var $c=v({},ra,{key:function(r){if(r.key){var s=aa[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Ur(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Hc[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:oa,charCode:function(r){return r.type==="keypress"?Ur(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Ur(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),ao=Gt($c),Kc=v({},ia,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),jl=Gt(Kc),bi=v({},ra,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:oa}),Yc=Gt(bi),Qc=v({},Xe,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xc=Gt(Qc),Wc=v({},ia,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),oo=Gt(Wc),wn=v({},Xe,{newState:0,oldState:0}),Jc=Gt(wn),Zc=[9,13,27,32],zr=br&&"CompositionEvent"in window,h=null;br&&"documentMode"in document&&(h=document.documentMode);var y=br&&"TextEvent"in window&&!h,_=br&&(!zr||h&&8<h&&11>=h),R=" ",$=!1;function ee(r,s){switch(r){case"keyup":return Zc.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ce(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var ze=!1;function Mt(r,s){switch(r){case"compositionend":return ce(s);case"keypress":return s.which!==32?null:($=!0,R);case"textInput":return r=s.data,r===R&&$?null:r;default:return null}}function qe(r,s){if(ze)return r==="compositionend"||!zr&&ee(r,s)?(r=kl(),Ei=Zi=Lr=null,ze=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return _&&s.locale!=="ko"?null:s.data;default:return null}}var $t={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vt(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!$t[r.type]:s==="textarea"}function Ti(r,s,o,u){yi?_i?_i.push(u):_i=[u]:yi=u,s=jh(s,"onChange"),0<s.length&&(o=new eo("onChange","change",null,o,u),r.push({event:o,listeners:s}))}var en=null,qr=null;function Bl(r){P0(r,0)}function eh(r){var s=kr(r);if(Ol(s))return r}function ey(r,s){if(r==="change")return s}var ty=!1;if(br){var Ld;if(br){var Ud="oninput"in document;if(!Ud){var ny=document.createElement("div");ny.setAttribute("oninput","return;"),Ud=typeof ny.oninput=="function"}Ld=Ud}else Ld=!1;ty=Ld&&(!document.documentMode||9<document.documentMode)}function ry(){en&&(en.detachEvent("onpropertychange",iy),qr=en=null)}function iy(r){if(r.propertyName==="value"&&eh(qr)){var s=[];Ti(s,qr,r,er(r)),Bc(Bl,s)}}function qR(r,s,o){r==="focusin"?(ry(),en=s,qr=o,en.attachEvent("onpropertychange",iy)):r==="focusout"&&ry()}function FR(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return eh(qr)}function HR(r,s){if(r==="click")return eh(s)}function GR(r,s){if(r==="input"||r==="change")return eh(s)}function $R(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var zn=typeof Object.is=="function"?Object.is:$R;function zl(r,s){if(zn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var o=Object.keys(r),u=Object.keys(s);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var f=o[u];if(!vr.call(s,f)||!zn(r[f],s[f]))return!1}return!0}function sy(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function ay(r,s){var o=sy(r);r=0;for(var u;o;){if(o.nodeType===3){if(u=r+o.textContent.length,r<=s&&u>=s)return{node:o,offset:s-r};r=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=sy(o)}}function oy(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?oy(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function ly(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=Ws(r.document);s instanceof r.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)r=s.contentWindow;else break;s=Ws(r.document)}return s}function jd(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}var KR=br&&"documentMode"in document&&11>=document.documentMode,lo=null,Bd=null,ql=null,zd=!1;function uy(r,s,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;zd||lo==null||lo!==Ws(u)||(u=lo,"selectionStart"in u&&jd(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),ql&&zl(ql,u)||(ql=u,u=jh(Bd,"onSelect"),0<u.length&&(s=new eo("onSelect","select",null,s,o),r.push({event:s,listeners:u}),s.target=lo)))}function la(r,s){var o={};return o[r.toLowerCase()]=s.toLowerCase(),o["Webkit"+r]="webkit"+s,o["Moz"+r]="moz"+s,o}var uo={animationend:la("Animation","AnimationEnd"),animationiteration:la("Animation","AnimationIteration"),animationstart:la("Animation","AnimationStart"),transitionrun:la("Transition","TransitionRun"),transitionstart:la("Transition","TransitionStart"),transitioncancel:la("Transition","TransitionCancel"),transitionend:la("Transition","TransitionEnd")},qd={},cy={};br&&(cy=document.createElement("div").style,"AnimationEvent"in window||(delete uo.animationend.animation,delete uo.animationiteration.animation,delete uo.animationstart.animation),"TransitionEvent"in window||delete uo.transitionend.transition);function ua(r){if(qd[r])return qd[r];if(!uo[r])return r;var s=uo[r],o;for(o in s)if(s.hasOwnProperty(o)&&o in cy)return qd[r]=s[o];return r}var hy=ua("animationend"),fy=ua("animationiteration"),dy=ua("animationstart"),YR=ua("transitionrun"),QR=ua("transitionstart"),XR=ua("transitioncancel"),py=ua("transitionend"),my=new Map,Fd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Fd.push("scrollEnd");function Tr(r,s){my.set(r,s),Er(s,[r])}var gy=new WeakMap;function rr(r,s){if(typeof r=="object"&&r!==null){var o=gy.get(r);return o!==void 0?o:(s={value:r,source:s,stack:Wa(s)},gy.set(r,s),s)}return{value:r,source:s,stack:Wa(s)}}var ir=[],co=0,Hd=0;function th(){for(var r=co,s=Hd=co=0;s<r;){var o=ir[s];ir[s++]=null;var u=ir[s];ir[s++]=null;var f=ir[s];ir[s++]=null;var m=ir[s];if(ir[s++]=null,u!==null&&f!==null){var E=u.pending;E===null?f.next=f:(f.next=E.next,E.next=f),u.pending=f}m!==0&&vy(o,f,m)}}function nh(r,s,o,u){ir[co++]=r,ir[co++]=s,ir[co++]=o,ir[co++]=u,Hd|=u,r.lanes|=u,r=r.alternate,r!==null&&(r.lanes|=u)}function Gd(r,s,o,u){return nh(r,s,o,u),rh(r)}function ho(r,s){return nh(r,null,null,s),rh(r)}function vy(r,s,o){r.lanes|=o;var u=r.alternate;u!==null&&(u.lanes|=o);for(var f=!1,m=r.return;m!==null;)m.childLanes|=o,u=m.alternate,u!==null&&(u.childLanes|=o),m.tag===22&&(r=m.stateNode,r===null||r._visibility&1||(f=!0)),r=m,m=m.return;return r.tag===3?(m=r.stateNode,f&&s!==null&&(f=31-dn(o),r=m.hiddenUpdates,u=r[f],u===null?r[f]=[s]:u.push(s),s.lane=o|536870912),m):null}function rh(r){if(50<du)throw du=0,Wp=null,Error(i(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var fo={};function WR(r,s,o,u){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qn(r,s,o,u){return new WR(r,s,o,u)}function $d(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Ai(r,s){var o=r.alternate;return o===null?(o=qn(r.tag,s,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=s,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&65011712,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,s=r.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function yy(r,s){r.flags&=65011714;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,s=o.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function ih(r,s,o,u,f,m){var E=0;if(u=r,typeof r=="function")$d(r)&&(E=1);else if(typeof r=="string")E=Z1(r,o,ge.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case I:return r=qn(31,o,s,f),r.elementType=I,r.lanes=m,r;case C:return ca(o.children,f,m,s);case M:E=8,f|=24;break;case N:return r=qn(12,o,s,f|2),r.elementType=N,r.lanes=m,r;case Q:return r=qn(13,o,s,f),r.elementType=Q,r.lanes=m,r;case J:return r=qn(19,o,s,f),r.elementType=J,r.lanes=m,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case z:case j:E=10;break e;case q:E=9;break e;case G:E=11;break e;case x:E=14;break e;case S:E=16,u=null;break e}E=29,o=Error(i(130,r===null?"null":typeof r,"")),u=null}return s=qn(E,o,s,f),s.elementType=r,s.type=u,s.lanes=m,s}function ca(r,s,o,u){return r=qn(7,r,u,s),r.lanes=o,r}function Kd(r,s,o){return r=qn(6,r,null,s),r.lanes=o,r}function Yd(r,s,o){return s=qn(4,r.children!==null?r.children:[],r.key,s),s.lanes=o,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}var po=[],mo=0,sh=null,ah=0,sr=[],ar=0,ha=null,wi=1,Si="";function fa(r,s){po[mo++]=ah,po[mo++]=sh,sh=r,ah=s}function _y(r,s,o){sr[ar++]=wi,sr[ar++]=Si,sr[ar++]=ha,ha=r;var u=wi;r=Si;var f=32-dn(u)-1;u&=~(1<<f),o+=1;var m=32-dn(s)+f;if(30<m){var E=f-f%5;m=(u&(1<<E)-1).toString(32),u>>=E,f-=E,wi=1<<32-dn(s)+f|o<<f|u,Si=m+r}else wi=1<<m|o<<f|u,Si=r}function Qd(r){r.return!==null&&(fa(r,1),_y(r,1,0))}function Xd(r){for(;r===sh;)sh=po[--mo],po[mo]=null,ah=po[--mo],po[mo]=null;for(;r===ha;)ha=sr[--ar],sr[ar]=null,Si=sr[--ar],sr[ar]=null,wi=sr[--ar],sr[ar]=null}var Sn=null,_t=null,Ke=!1,da=null,Fr=!1,Wd=Error(i(519));function pa(r){var s=Error(i(418,""));throw Gl(rr(s,r)),Wd}function Ey(r){var s=r.stateNode,o=r.type,u=r.memoizedProps;switch(s[kt]=r,s[Ct]=u,o){case"dialog":Le("cancel",s),Le("close",s);break;case"iframe":case"object":case"embed":Le("load",s);break;case"video":case"audio":for(o=0;o<mu.length;o++)Le(mu[o],s);break;case"source":Le("error",s);break;case"img":case"image":case"link":Le("error",s),Le("load",s);break;case"details":Le("toggle",s);break;case"input":Le("invalid",s),Js(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Ja(s);break;case"select":Le("invalid",s);break;case"textarea":Le("invalid",s),Zs(s,u.value,u.defaultValue,u.children),Ja(s)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||u.suppressHydrationWarning===!0||L0(s.textContent,o)?(u.popover!=null&&(Le("beforetoggle",s),Le("toggle",s)),u.onScroll!=null&&Le("scroll",s),u.onScrollEnd!=null&&Le("scrollend",s),u.onClick!=null&&(s.onclick=Bh),s=!0):s=!1,s||pa(r)}function by(r){for(Sn=r.return;Sn;)switch(Sn.tag){case 5:case 13:Fr=!1;return;case 27:case 3:Fr=!0;return;default:Sn=Sn.return}}function Fl(r){if(r!==Sn)return!1;if(!Ke)return by(r),Ke=!0,!1;var s=r.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||dm(r.type,r.memoizedProps)),o=!o),o&&_t&&pa(r),by(r),s===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8)if(o=r.data,o==="/$"){if(s===0){_t=wr(r.nextSibling);break e}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++;r=r.nextSibling}_t=null}}else s===27?(s=_t,ms(r.type)?(r=vm,vm=null,_t=r):_t=s):_t=Sn?wr(r.stateNode.nextSibling):null;return!0}function Hl(){_t=Sn=null,Ke=!1}function Ty(){var r=da;return r!==null&&(Nn===null?Nn=r:Nn.push.apply(Nn,r),da=null),r}function Gl(r){da===null?da=[r]:da.push(r)}var Jd=re(null),ma=null,Ri=null;function es(r,s,o){le(Jd,s._currentValue),s._currentValue=o}function Ci(r){r._currentValue=Jd.current,ue(Jd)}function Zd(r,s,o){for(;r!==null;){var u=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),r===o)break;r=r.return}}function ep(r,s,o,u){var f=r.child;for(f!==null&&(f.return=r);f!==null;){var m=f.dependencies;if(m!==null){var E=f.child;m=m.firstContext;e:for(;m!==null;){var A=m;m=f;for(var k=0;k<s.length;k++)if(A.context===s[k]){m.lanes|=o,A=m.alternate,A!==null&&(A.lanes|=o),Zd(m.return,o,r),u||(E=null);break e}m=A.next}}else if(f.tag===18){if(E=f.return,E===null)throw Error(i(341));E.lanes|=o,m=E.alternate,m!==null&&(m.lanes|=o),Zd(E,o,r),E=null}else E=f.child;if(E!==null)E.return=f;else for(E=f;E!==null;){if(E===r){E=null;break}if(f=E.sibling,f!==null){f.return=E.return,E=f;break}E=E.return}f=E}}function $l(r,s,o,u){r=null;for(var f=s,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var E=f.alternate;if(E===null)throw Error(i(387));if(E=E.memoizedProps,E!==null){var A=f.type;zn(f.pendingProps.value,E.value)||(r!==null?r.push(A):r=[A])}}else if(f===at.current){if(E=f.alternate,E===null)throw Error(i(387));E.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(r!==null?r.push(bu):r=[bu])}f=f.return}r!==null&&ep(s,r,o,u),s.flags|=262144}function oh(r){for(r=r.firstContext;r!==null;){if(!zn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function ga(r){ma=r,Ri=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function pn(r){return Ay(ma,r)}function lh(r,s){return ma===null&&ga(r),Ay(r,s)}function Ay(r,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},Ri===null){if(r===null)throw Error(i(308));Ri=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else Ri=Ri.next=s;return o}var JR=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(o,u){r.push(u)}};this.abort=function(){s.aborted=!0,r.forEach(function(o){return o()})}},ZR=n.unstable_scheduleCallback,e1=n.unstable_NormalPriority,Lt={$$typeof:j,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function tp(){return{controller:new JR,data:new Map,refCount:0}}function Kl(r){r.refCount--,r.refCount===0&&ZR(e1,function(){r.controller.abort()})}var Yl=null,np=0,go=0,vo=null;function t1(r,s){if(Yl===null){var o=Yl=[];np=0,go=im(),vo={status:"pending",value:void 0,then:function(u){o.push(u)}}}return np++,s.then(wy,wy),s}function wy(){if(--np===0&&Yl!==null){vo!==null&&(vo.status="fulfilled");var r=Yl;Yl=null,go=0,vo=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function n1(r,s){var o=[],u={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return r.then(function(){u.status="fulfilled",u.value=s;for(var f=0;f<o.length;f++)(0,o[f])(s)},function(f){for(u.status="rejected",u.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),u}var Sy=Z.S;Z.S=function(r,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&t1(r,s),Sy!==null&&Sy(r,s)};var va=re(null);function rp(){var r=va.current;return r!==null?r:lt.pooledCache}function uh(r,s){s===null?le(va,va.current):le(va,s.pool)}function Ry(){var r=rp();return r===null?null:{parent:Lt._currentValue,pool:r}}var Ql=Error(i(460)),Cy=Error(i(474)),ch=Error(i(542)),ip={then:function(){}};function Iy(r){return r=r.status,r==="fulfilled"||r==="rejected"}function hh(){}function xy(r,s,o){switch(o=r[o],o===void 0?r.push(s):o!==s&&(s.then(hh,hh),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,Ny(r),r;default:if(typeof s.status=="string")s.then(hh,hh);else{if(r=lt,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=s,r.status="pending",r.then(function(u){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=u}},function(u){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,Ny(r),r}throw Xl=s,Ql}}var Xl=null;function Oy(){if(Xl===null)throw Error(i(459));var r=Xl;return Xl=null,r}function Ny(r){if(r===Ql||r===ch)throw Error(i(483))}var ts=!1;function sp(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ap(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function ns(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function rs(r,s,o){var u=r.updateQueue;if(u===null)return null;if(u=u.shared,(Ze&2)!==0){var f=u.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),u.pending=s,s=rh(r),vy(r,null,o),s}return nh(r,u,s,o),rh(r)}function Wl(r,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var u=s.lanes;u&=r.pendingLanes,o|=u,s.lanes=o,Sl(r,o)}}function op(r,s){var o=r.updateQueue,u=r.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var f=null,m=null;if(o=o.firstBaseUpdate,o!==null){do{var E={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};m===null?f=m=E:m=m.next=E,o=o.next}while(o!==null);m===null?f=m=s:m=m.next=s}else f=m=s;o={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:u.shared,callbacks:u.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=s:r.next=s,o.lastBaseUpdate=s}var lp=!1;function Jl(){if(lp){var r=vo;if(r!==null)throw r}}function Zl(r,s,o,u){lp=!1;var f=r.updateQueue;ts=!1;var m=f.firstBaseUpdate,E=f.lastBaseUpdate,A=f.shared.pending;if(A!==null){f.shared.pending=null;var k=A,Y=k.next;k.next=null,E===null?m=Y:E.next=Y,E=k;var te=r.alternate;te!==null&&(te=te.updateQueue,A=te.lastBaseUpdate,A!==E&&(A===null?te.firstBaseUpdate=Y:A.next=Y,te.lastBaseUpdate=k))}if(m!==null){var ie=f.baseState;E=0,te=Y=k=null,A=m;do{var X=A.lane&-536870913,W=X!==A.lane;if(W?(Fe&X)===X:(u&X)===X){X!==0&&X===go&&(lp=!0),te!==null&&(te=te.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var Re=r,Te=A;X=s;var st=o;switch(Te.tag){case 1:if(Re=Te.payload,typeof Re=="function"){ie=Re.call(st,ie,X);break e}ie=Re;break e;case 3:Re.flags=Re.flags&-65537|128;case 0:if(Re=Te.payload,X=typeof Re=="function"?Re.call(st,ie,X):Re,X==null)break e;ie=v({},ie,X);break e;case 2:ts=!0}}X=A.callback,X!==null&&(r.flags|=64,W&&(r.flags|=8192),W=f.callbacks,W===null?f.callbacks=[X]:W.push(X))}else W={lane:X,tag:A.tag,payload:A.payload,callback:A.callback,next:null},te===null?(Y=te=W,k=ie):te=te.next=W,E|=X;if(A=A.next,A===null){if(A=f.shared.pending,A===null)break;W=A,A=W.next,W.next=null,f.lastBaseUpdate=W,f.shared.pending=null}}while(!0);te===null&&(k=ie),f.baseState=k,f.firstBaseUpdate=Y,f.lastBaseUpdate=te,m===null&&(f.shared.lanes=0),hs|=E,r.lanes=E,r.memoizedState=ie}}function Dy(r,s){if(typeof r!="function")throw Error(i(191,r));r.call(s)}function Py(r,s){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)Dy(o[r],s)}var yo=re(null),fh=re(0);function ky(r,s){r=ki,le(fh,r),le(yo,s),ki=r|s.baseLanes}function up(){le(fh,ki),le(yo,yo.current)}function cp(){ki=fh.current,ue(yo),ue(fh)}var is=0,Pe=null,rt=null,xt=null,dh=!1,_o=!1,ya=!1,ph=0,eu=0,Eo=null,r1=0;function Tt(){throw Error(i(321))}function hp(r,s){if(s===null)return!1;for(var o=0;o<s.length&&o<r.length;o++)if(!zn(r[o],s[o]))return!1;return!0}function fp(r,s,o,u,f,m){return is=m,Pe=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Z.H=r===null||r.memoizedState===null?v_:y_,ya=!1,m=o(u,f),ya=!1,_o&&(m=Vy(s,o,u,f)),My(r),m}function My(r){Z.H=Eh;var s=rt!==null&&rt.next!==null;if(is=0,xt=rt=Pe=null,dh=!1,eu=0,Eo=null,s)throw Error(i(300));r===null||Kt||(r=r.dependencies,r!==null&&oh(r)&&(Kt=!0))}function Vy(r,s,o,u){Pe=r;var f=0;do{if(_o&&(Eo=null),eu=0,_o=!1,25<=f)throw Error(i(301));if(f+=1,xt=rt=null,r.updateQueue!=null){var m=r.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}Z.H=c1,m=s(o,u)}while(_o);return m}function i1(){var r=Z.H,s=r.useState()[0];return s=typeof s.then=="function"?tu(s):s,r=r.useState()[0],(rt!==null?rt.memoizedState:null)!==r&&(Pe.flags|=1024),s}function dp(){var r=ph!==0;return ph=0,r}function pp(r,s,o){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~o}function mp(r){if(dh){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}dh=!1}is=0,xt=rt=Pe=null,_o=!1,eu=ph=0,Eo=null}function xn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xt===null?Pe.memoizedState=xt=r:xt=xt.next=r,xt}function Ot(){if(rt===null){var r=Pe.alternate;r=r!==null?r.memoizedState:null}else r=rt.next;var s=xt===null?Pe.memoizedState:xt.next;if(s!==null)xt=s,rt=r;else{if(r===null)throw Pe.alternate===null?Error(i(467)):Error(i(310));rt=r,r={memoizedState:rt.memoizedState,baseState:rt.baseState,baseQueue:rt.baseQueue,queue:rt.queue,next:null},xt===null?Pe.memoizedState=xt=r:xt=xt.next=r}return xt}function gp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function tu(r){var s=eu;return eu+=1,Eo===null&&(Eo=[]),r=xy(Eo,r,s),s=Pe,(xt===null?s.memoizedState:xt.next)===null&&(s=s.alternate,Z.H=s===null||s.memoizedState===null?v_:y_),r}function mh(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return tu(r);if(r.$$typeof===j)return pn(r)}throw Error(i(438,String(r)))}function vp(r){var s=null,o=Pe.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var u=Pe.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=gp(),Pe.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(r),u=0;u<r;u++)o[u]=D;return s.index++,o}function Ii(r,s){return typeof s=="function"?s(r):s}function gh(r){var s=Ot();return yp(s,rt,r)}function yp(r,s,o){var u=r.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=o;var f=r.baseQueue,m=u.pending;if(m!==null){if(f!==null){var E=f.next;f.next=m.next,m.next=E}s.baseQueue=f=m,u.pending=null}if(m=r.baseState,f===null)r.memoizedState=m;else{s=f.next;var A=E=null,k=null,Y=s,te=!1;do{var ie=Y.lane&-536870913;if(ie!==Y.lane?(Fe&ie)===ie:(is&ie)===ie){var X=Y.revertLane;if(X===0)k!==null&&(k=k.next={lane:0,revertLane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),ie===go&&(te=!0);else if((is&X)===X){Y=Y.next,X===go&&(te=!0);continue}else ie={lane:0,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},k===null?(A=k=ie,E=m):k=k.next=ie,Pe.lanes|=X,hs|=X;ie=Y.action,ya&&o(m,ie),m=Y.hasEagerState?Y.eagerState:o(m,ie)}else X={lane:ie,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},k===null?(A=k=X,E=m):k=k.next=X,Pe.lanes|=ie,hs|=ie;Y=Y.next}while(Y!==null&&Y!==s);if(k===null?E=m:k.next=A,!zn(m,r.memoizedState)&&(Kt=!0,te&&(o=vo,o!==null)))throw o;r.memoizedState=m,r.baseState=E,r.baseQueue=k,u.lastRenderedState=m}return f===null&&(u.lanes=0),[r.memoizedState,u.dispatch]}function _p(r){var s=Ot(),o=s.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=r;var u=o.dispatch,f=o.pending,m=s.memoizedState;if(f!==null){o.pending=null;var E=f=f.next;do m=r(m,E.action),E=E.next;while(E!==f);zn(m,s.memoizedState)||(Kt=!0),s.memoizedState=m,s.baseQueue===null&&(s.baseState=m),o.lastRenderedState=m}return[m,u]}function Ly(r,s,o){var u=Pe,f=Ot(),m=Ke;if(m){if(o===void 0)throw Error(i(407));o=o()}else o=s();var E=!zn((rt||f).memoizedState,o);E&&(f.memoizedState=o,Kt=!0),f=f.queue;var A=By.bind(null,u,f,r);if(nu(2048,8,A,[r]),f.getSnapshot!==s||E||xt!==null&&xt.memoizedState.tag&1){if(u.flags|=2048,bo(9,vh(),jy.bind(null,u,f,o,s),null),lt===null)throw Error(i(349));m||(is&124)!==0||Uy(u,s,o)}return o}function Uy(r,s,o){r.flags|=16384,r={getSnapshot:s,value:o},s=Pe.updateQueue,s===null?(s=gp(),Pe.updateQueue=s,s.stores=[r]):(o=s.stores,o===null?s.stores=[r]:o.push(r))}function jy(r,s,o,u){s.value=o,s.getSnapshot=u,zy(s)&&qy(r)}function By(r,s,o){return o(function(){zy(s)&&qy(r)})}function zy(r){var s=r.getSnapshot;r=r.value;try{var o=s();return!zn(r,o)}catch{return!0}}function qy(r){var s=ho(r,2);s!==null&&Kn(s,r,2)}function Ep(r){var s=xn();if(typeof r=="function"){var o=r;if(r=o(),ya){fn(!0);try{o()}finally{fn(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:r},s}function Fy(r,s,o,u){return r.baseState=o,yp(r,rt,typeof u=="function"?u:Ii)}function s1(r,s,o,u,f){if(_h(r))throw Error(i(485));if(r=s.action,r!==null){var m={payload:f,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){m.listeners.push(E)}};Z.T!==null?o(!0):m.isTransition=!1,u(m),o=s.pending,o===null?(m.next=s.pending=m,Hy(s,m)):(m.next=o.next,s.pending=o.next=m)}}function Hy(r,s){var o=s.action,u=s.payload,f=r.state;if(s.isTransition){var m=Z.T,E={};Z.T=E;try{var A=o(f,u),k=Z.S;k!==null&&k(E,A),Gy(r,s,A)}catch(Y){bp(r,s,Y)}finally{Z.T=m}}else try{m=o(f,u),Gy(r,s,m)}catch(Y){bp(r,s,Y)}}function Gy(r,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){$y(r,s,u)},function(u){return bp(r,s,u)}):$y(r,s,o)}function $y(r,s,o){s.status="fulfilled",s.value=o,Ky(s),r.state=o,s=r.pending,s!==null&&(o=s.next,o===s?r.pending=null:(o=o.next,s.next=o,Hy(r,o)))}function bp(r,s,o){var u=r.pending;if(r.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=o,Ky(s),s=s.next;while(s!==u)}r.action=null}function Ky(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function Yy(r,s){return s}function Qy(r,s){if(Ke){var o=lt.formState;if(o!==null){e:{var u=Pe;if(Ke){if(_t){t:{for(var f=_t,m=Fr;f.nodeType!==8;){if(!m){f=null;break t}if(f=wr(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){_t=wr(f.nextSibling),u=f.data==="F!";break e}}pa(u)}u=!1}u&&(s=o[0])}}return o=xn(),o.memoizedState=o.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yy,lastRenderedState:s},o.queue=u,o=p_.bind(null,Pe,u),u.dispatch=o,u=Ep(!1),m=Rp.bind(null,Pe,!1,u.queue),u=xn(),f={state:s,dispatch:null,action:r,pending:null},u.queue=f,o=s1.bind(null,Pe,f,m,o),f.dispatch=o,u.memoizedState=r,[s,o,!1]}function Xy(r){var s=Ot();return Wy(s,rt,r)}function Wy(r,s,o){if(s=yp(r,s,Yy)[0],r=gh(Ii)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=tu(s)}catch(E){throw E===Ql?ch:E}else u=s;s=Ot();var f=s.queue,m=f.dispatch;return o!==s.memoizedState&&(Pe.flags|=2048,bo(9,vh(),a1.bind(null,f,o),null)),[u,m,r]}function a1(r,s){r.action=s}function Jy(r){var s=Ot(),o=rt;if(o!==null)return Wy(s,o,r);Ot(),s=s.memoizedState,o=Ot();var u=o.queue.dispatch;return o.memoizedState=r,[s,u,!1]}function bo(r,s,o,u){return r={tag:r,create:o,deps:u,inst:s,next:null},s=Pe.updateQueue,s===null&&(s=gp(),Pe.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=r.next=r:(u=o.next,o.next=r,r.next=u,s.lastEffect=r),r}function vh(){return{destroy:void 0,resource:void 0}}function Zy(){return Ot().memoizedState}function yh(r,s,o,u){var f=xn();u=u===void 0?null:u,Pe.flags|=r,f.memoizedState=bo(1|s,vh(),o,u)}function nu(r,s,o,u){var f=Ot();u=u===void 0?null:u;var m=f.memoizedState.inst;rt!==null&&u!==null&&hp(u,rt.memoizedState.deps)?f.memoizedState=bo(s,m,o,u):(Pe.flags|=r,f.memoizedState=bo(1|s,m,o,u))}function e_(r,s){yh(8390656,8,r,s)}function t_(r,s){nu(2048,8,r,s)}function n_(r,s){return nu(4,2,r,s)}function r_(r,s){return nu(4,4,r,s)}function i_(r,s){if(typeof s=="function"){r=r();var o=s(r);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function s_(r,s,o){o=o!=null?o.concat([r]):null,nu(4,4,i_.bind(null,s,r),o)}function Tp(){}function a_(r,s){var o=Ot();s=s===void 0?null:s;var u=o.memoizedState;return s!==null&&hp(s,u[1])?u[0]:(o.memoizedState=[r,s],r)}function o_(r,s){var o=Ot();s=s===void 0?null:s;var u=o.memoizedState;if(s!==null&&hp(s,u[1]))return u[0];if(u=r(),ya){fn(!0);try{r()}finally{fn(!1)}}return o.memoizedState=[u,s],u}function Ap(r,s,o){return o===void 0||(is&1073741824)!==0?r.memoizedState=s:(r.memoizedState=o,r=c0(),Pe.lanes|=r,hs|=r,o)}function l_(r,s,o,u){return zn(o,s)?o:yo.current!==null?(r=Ap(r,o,u),zn(r,s)||(Kt=!0),r):(is&42)===0?(Kt=!0,r.memoizedState=o):(r=c0(),Pe.lanes|=r,hs|=r,s)}function u_(r,s,o,u,f){var m=oe.p;oe.p=m!==0&&8>m?m:8;var E=Z.T,A={};Z.T=A,Rp(r,!1,s,o);try{var k=f(),Y=Z.S;if(Y!==null&&Y(A,k),k!==null&&typeof k=="object"&&typeof k.then=="function"){var te=n1(k,u);ru(r,s,te,$n(r))}else ru(r,s,u,$n(r))}catch(ie){ru(r,s,{then:function(){},status:"rejected",reason:ie},$n())}finally{oe.p=m,Z.T=E}}function o1(){}function wp(r,s,o,u){if(r.tag!==5)throw Error(i(476));var f=c_(r).queue;u_(r,f,s,fe,o===null?o1:function(){return h_(r),o(u)})}function c_(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:fe},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:o},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function h_(r){var s=c_(r).next.queue;ru(r,s,{},$n())}function Sp(){return pn(bu)}function f_(){return Ot().memoizedState}function d_(){return Ot().memoizedState}function l1(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var o=$n();r=ns(o);var u=rs(s,r,o);u!==null&&(Kn(u,s,o),Wl(u,s,o)),s={cache:tp()},r.payload=s;return}s=s.return}}function u1(r,s,o){var u=$n();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},_h(r)?m_(s,o):(o=Gd(r,s,o,u),o!==null&&(Kn(o,r,u),g_(o,s,u)))}function p_(r,s,o){var u=$n();ru(r,s,o,u)}function ru(r,s,o,u){var f={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(_h(r))m_(s,f);else{var m=r.alternate;if(r.lanes===0&&(m===null||m.lanes===0)&&(m=s.lastRenderedReducer,m!==null))try{var E=s.lastRenderedState,A=m(E,o);if(f.hasEagerState=!0,f.eagerState=A,zn(A,E))return nh(r,s,f,0),lt===null&&th(),!1}catch{}finally{}if(o=Gd(r,s,f,u),o!==null)return Kn(o,r,u),g_(o,s,u),!0}return!1}function Rp(r,s,o,u){if(u={lane:2,revertLane:im(),action:u,hasEagerState:!1,eagerState:null,next:null},_h(r)){if(s)throw Error(i(479))}else s=Gd(r,o,u,2),s!==null&&Kn(s,r,2)}function _h(r){var s=r.alternate;return r===Pe||s!==null&&s===Pe}function m_(r,s){_o=dh=!0;var o=r.pending;o===null?s.next=s:(s.next=o.next,o.next=s),r.pending=s}function g_(r,s,o){if((o&4194048)!==0){var u=s.lanes;u&=r.pendingLanes,o|=u,s.lanes=o,Sl(r,o)}}var Eh={readContext:pn,use:mh,useCallback:Tt,useContext:Tt,useEffect:Tt,useImperativeHandle:Tt,useLayoutEffect:Tt,useInsertionEffect:Tt,useMemo:Tt,useReducer:Tt,useRef:Tt,useState:Tt,useDebugValue:Tt,useDeferredValue:Tt,useTransition:Tt,useSyncExternalStore:Tt,useId:Tt,useHostTransitionStatus:Tt,useFormState:Tt,useActionState:Tt,useOptimistic:Tt,useMemoCache:Tt,useCacheRefresh:Tt},v_={readContext:pn,use:mh,useCallback:function(r,s){return xn().memoizedState=[r,s===void 0?null:s],r},useContext:pn,useEffect:e_,useImperativeHandle:function(r,s,o){o=o!=null?o.concat([r]):null,yh(4194308,4,i_.bind(null,s,r),o)},useLayoutEffect:function(r,s){return yh(4194308,4,r,s)},useInsertionEffect:function(r,s){yh(4,2,r,s)},useMemo:function(r,s){var o=xn();s=s===void 0?null:s;var u=r();if(ya){fn(!0);try{r()}finally{fn(!1)}}return o.memoizedState=[u,s],u},useReducer:function(r,s,o){var u=xn();if(o!==void 0){var f=o(s);if(ya){fn(!0);try{o(s)}finally{fn(!1)}}}else f=s;return u.memoizedState=u.baseState=f,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:f},u.queue=r,r=r.dispatch=u1.bind(null,Pe,r),[u.memoizedState,r]},useRef:function(r){var s=xn();return r={current:r},s.memoizedState=r},useState:function(r){r=Ep(r);var s=r.queue,o=p_.bind(null,Pe,s);return s.dispatch=o,[r.memoizedState,o]},useDebugValue:Tp,useDeferredValue:function(r,s){var o=xn();return Ap(o,r,s)},useTransition:function(){var r=Ep(!1);return r=u_.bind(null,Pe,r.queue,!0,!1),xn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,o){var u=Pe,f=xn();if(Ke){if(o===void 0)throw Error(i(407));o=o()}else{if(o=s(),lt===null)throw Error(i(349));(Fe&124)!==0||Uy(u,s,o)}f.memoizedState=o;var m={value:o,getSnapshot:s};return f.queue=m,e_(By.bind(null,u,m,r),[r]),u.flags|=2048,bo(9,vh(),jy.bind(null,u,m,o,s),null),o},useId:function(){var r=xn(),s=lt.identifierPrefix;if(Ke){var o=Si,u=wi;o=(u&~(1<<32-dn(u)-1)).toString(32)+o,s=""+s+"R"+o,o=ph++,0<o&&(s+="H"+o.toString(32)),s+=""}else o=r1++,s=""+s+"r"+o.toString(32)+"";return r.memoizedState=s},useHostTransitionStatus:Sp,useFormState:Qy,useActionState:Qy,useOptimistic:function(r){var s=xn();s.memoizedState=s.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=Rp.bind(null,Pe,!0,o),o.dispatch=s,[r,s]},useMemoCache:vp,useCacheRefresh:function(){return xn().memoizedState=l1.bind(null,Pe)}},y_={readContext:pn,use:mh,useCallback:a_,useContext:pn,useEffect:t_,useImperativeHandle:s_,useInsertionEffect:n_,useLayoutEffect:r_,useMemo:o_,useReducer:gh,useRef:Zy,useState:function(){return gh(Ii)},useDebugValue:Tp,useDeferredValue:function(r,s){var o=Ot();return l_(o,rt.memoizedState,r,s)},useTransition:function(){var r=gh(Ii)[0],s=Ot().memoizedState;return[typeof r=="boolean"?r:tu(r),s]},useSyncExternalStore:Ly,useId:f_,useHostTransitionStatus:Sp,useFormState:Xy,useActionState:Xy,useOptimistic:function(r,s){var o=Ot();return Fy(o,rt,r,s)},useMemoCache:vp,useCacheRefresh:d_},c1={readContext:pn,use:mh,useCallback:a_,useContext:pn,useEffect:t_,useImperativeHandle:s_,useInsertionEffect:n_,useLayoutEffect:r_,useMemo:o_,useReducer:_p,useRef:Zy,useState:function(){return _p(Ii)},useDebugValue:Tp,useDeferredValue:function(r,s){var o=Ot();return rt===null?Ap(o,r,s):l_(o,rt.memoizedState,r,s)},useTransition:function(){var r=_p(Ii)[0],s=Ot().memoizedState;return[typeof r=="boolean"?r:tu(r),s]},useSyncExternalStore:Ly,useId:f_,useHostTransitionStatus:Sp,useFormState:Jy,useActionState:Jy,useOptimistic:function(r,s){var o=Ot();return rt!==null?Fy(o,rt,r,s):(o.baseState=r,[r,o.queue.dispatch])},useMemoCache:vp,useCacheRefresh:d_},To=null,iu=0;function bh(r){var s=iu;return iu+=1,To===null&&(To=[]),xy(To,r,s)}function su(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function Th(r,s){throw s.$$typeof===b?Error(i(525)):(r=Object.prototype.toString.call(s),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function __(r){var s=r._init;return s(r._payload)}function E_(r){function s(H,B){if(r){var K=H.deletions;K===null?(H.deletions=[B],H.flags|=16):K.push(B)}}function o(H,B){if(!r)return null;for(;B!==null;)s(H,B),B=B.sibling;return null}function u(H){for(var B=new Map;H!==null;)H.key!==null?B.set(H.key,H):B.set(H.index,H),H=H.sibling;return B}function f(H,B){return H=Ai(H,B),H.index=0,H.sibling=null,H}function m(H,B,K){return H.index=K,r?(K=H.alternate,K!==null?(K=K.index,K<B?(H.flags|=67108866,B):K):(H.flags|=67108866,B)):(H.flags|=1048576,B)}function E(H){return r&&H.alternate===null&&(H.flags|=67108866),H}function A(H,B,K,ne){return B===null||B.tag!==6?(B=Kd(K,H.mode,ne),B.return=H,B):(B=f(B,K),B.return=H,B)}function k(H,B,K,ne){var me=K.type;return me===C?te(H,B,K.props.children,ne,K.key):B!==null&&(B.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===S&&__(me)===B.type)?(B=f(B,K.props),su(B,K),B.return=H,B):(B=ih(K.type,K.key,K.props,null,H.mode,ne),su(B,K),B.return=H,B)}function Y(H,B,K,ne){return B===null||B.tag!==4||B.stateNode.containerInfo!==K.containerInfo||B.stateNode.implementation!==K.implementation?(B=Yd(K,H.mode,ne),B.return=H,B):(B=f(B,K.children||[]),B.return=H,B)}function te(H,B,K,ne,me){return B===null||B.tag!==7?(B=ca(K,H.mode,ne,me),B.return=H,B):(B=f(B,K),B.return=H,B)}function ie(H,B,K){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=Kd(""+B,H.mode,K),B.return=H,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case w:return K=ih(B.type,B.key,B.props,null,H.mode,K),su(K,B),K.return=H,K;case O:return B=Yd(B,H.mode,K),B.return=H,B;case S:var ne=B._init;return B=ne(B._payload),ie(H,B,K)}if(Ue(B)||U(B))return B=ca(B,H.mode,K,null),B.return=H,B;if(typeof B.then=="function")return ie(H,bh(B),K);if(B.$$typeof===j)return ie(H,lh(H,B),K);Th(H,B)}return null}function X(H,B,K,ne){var me=B!==null?B.key:null;if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return me!==null?null:A(H,B,""+K,ne);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case w:return K.key===me?k(H,B,K,ne):null;case O:return K.key===me?Y(H,B,K,ne):null;case S:return me=K._init,K=me(K._payload),X(H,B,K,ne)}if(Ue(K)||U(K))return me!==null?null:te(H,B,K,ne,null);if(typeof K.then=="function")return X(H,B,bh(K),ne);if(K.$$typeof===j)return X(H,B,lh(H,K),ne);Th(H,K)}return null}function W(H,B,K,ne,me){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return H=H.get(K)||null,A(B,H,""+ne,me);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case w:return H=H.get(ne.key===null?K:ne.key)||null,k(B,H,ne,me);case O:return H=H.get(ne.key===null?K:ne.key)||null,Y(B,H,ne,me);case S:var Me=ne._init;return ne=Me(ne._payload),W(H,B,K,ne,me)}if(Ue(ne)||U(ne))return H=H.get(K)||null,te(B,H,ne,me,null);if(typeof ne.then=="function")return W(H,B,K,bh(ne),me);if(ne.$$typeof===j)return W(H,B,K,lh(B,ne),me);Th(B,ne)}return null}function Re(H,B,K,ne){for(var me=null,Me=null,_e=B,Ae=B=0,Qt=null;_e!==null&&Ae<K.length;Ae++){_e.index>Ae?(Qt=_e,_e=null):Qt=_e.sibling;var $e=X(H,_e,K[Ae],ne);if($e===null){_e===null&&(_e=Qt);break}r&&_e&&$e.alternate===null&&s(H,_e),B=m($e,B,Ae),Me===null?me=$e:Me.sibling=$e,Me=$e,_e=Qt}if(Ae===K.length)return o(H,_e),Ke&&fa(H,Ae),me;if(_e===null){for(;Ae<K.length;Ae++)_e=ie(H,K[Ae],ne),_e!==null&&(B=m(_e,B,Ae),Me===null?me=_e:Me.sibling=_e,Me=_e);return Ke&&fa(H,Ae),me}for(_e=u(_e);Ae<K.length;Ae++)Qt=W(_e,H,Ae,K[Ae],ne),Qt!==null&&(r&&Qt.alternate!==null&&_e.delete(Qt.key===null?Ae:Qt.key),B=m(Qt,B,Ae),Me===null?me=Qt:Me.sibling=Qt,Me=Qt);return r&&_e.forEach(function(Es){return s(H,Es)}),Ke&&fa(H,Ae),me}function Te(H,B,K,ne){if(K==null)throw Error(i(151));for(var me=null,Me=null,_e=B,Ae=B=0,Qt=null,$e=K.next();_e!==null&&!$e.done;Ae++,$e=K.next()){_e.index>Ae?(Qt=_e,_e=null):Qt=_e.sibling;var Es=X(H,_e,$e.value,ne);if(Es===null){_e===null&&(_e=Qt);break}r&&_e&&Es.alternate===null&&s(H,_e),B=m(Es,B,Ae),Me===null?me=Es:Me.sibling=Es,Me=Es,_e=Qt}if($e.done)return o(H,_e),Ke&&fa(H,Ae),me;if(_e===null){for(;!$e.done;Ae++,$e=K.next())$e=ie(H,$e.value,ne),$e!==null&&(B=m($e,B,Ae),Me===null?me=$e:Me.sibling=$e,Me=$e);return Ke&&fa(H,Ae),me}for(_e=u(_e);!$e.done;Ae++,$e=K.next())$e=W(_e,H,Ae,$e.value,ne),$e!==null&&(r&&$e.alternate!==null&&_e.delete($e.key===null?Ae:$e.key),B=m($e,B,Ae),Me===null?me=$e:Me.sibling=$e,Me=$e);return r&&_e.forEach(function(hC){return s(H,hC)}),Ke&&fa(H,Ae),me}function st(H,B,K,ne){if(typeof K=="object"&&K!==null&&K.type===C&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case w:e:{for(var me=K.key;B!==null;){if(B.key===me){if(me=K.type,me===C){if(B.tag===7){o(H,B.sibling),ne=f(B,K.props.children),ne.return=H,H=ne;break e}}else if(B.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===S&&__(me)===B.type){o(H,B.sibling),ne=f(B,K.props),su(ne,K),ne.return=H,H=ne;break e}o(H,B);break}else s(H,B);B=B.sibling}K.type===C?(ne=ca(K.props.children,H.mode,ne,K.key),ne.return=H,H=ne):(ne=ih(K.type,K.key,K.props,null,H.mode,ne),su(ne,K),ne.return=H,H=ne)}return E(H);case O:e:{for(me=K.key;B!==null;){if(B.key===me)if(B.tag===4&&B.stateNode.containerInfo===K.containerInfo&&B.stateNode.implementation===K.implementation){o(H,B.sibling),ne=f(B,K.children||[]),ne.return=H,H=ne;break e}else{o(H,B);break}else s(H,B);B=B.sibling}ne=Yd(K,H.mode,ne),ne.return=H,H=ne}return E(H);case S:return me=K._init,K=me(K._payload),st(H,B,K,ne)}if(Ue(K))return Re(H,B,K,ne);if(U(K)){if(me=U(K),typeof me!="function")throw Error(i(150));return K=me.call(K),Te(H,B,K,ne)}if(typeof K.then=="function")return st(H,B,bh(K),ne);if(K.$$typeof===j)return st(H,B,lh(H,K),ne);Th(H,K)}return typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint"?(K=""+K,B!==null&&B.tag===6?(o(H,B.sibling),ne=f(B,K),ne.return=H,H=ne):(o(H,B),ne=Kd(K,H.mode,ne),ne.return=H,H=ne),E(H)):o(H,B)}return function(H,B,K,ne){try{iu=0;var me=st(H,B,K,ne);return To=null,me}catch(_e){if(_e===Ql||_e===ch)throw _e;var Me=qn(29,_e,null,H.mode);return Me.lanes=ne,Me.return=H,Me}finally{}}}var Ao=E_(!0),b_=E_(!1),or=re(null),Hr=null;function ss(r){var s=r.alternate;le(Ut,Ut.current&1),le(or,r),Hr===null&&(s===null||yo.current!==null||s.memoizedState!==null)&&(Hr=r)}function T_(r){if(r.tag===22){if(le(Ut,Ut.current),le(or,r),Hr===null){var s=r.alternate;s!==null&&s.memoizedState!==null&&(Hr=r)}}else as()}function as(){le(Ut,Ut.current),le(or,or.current)}function xi(r){ue(or),Hr===r&&(Hr=null),ue(Ut)}var Ut=re(0);function Ah(r){for(var s=r;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||gm(o)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function Cp(r,s,o,u){s=r.memoizedState,o=o(u,s),o=o==null?s:v({},s,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var Ip={enqueueSetState:function(r,s,o){r=r._reactInternals;var u=$n(),f=ns(u);f.payload=s,o!=null&&(f.callback=o),s=rs(r,f,u),s!==null&&(Kn(s,r,u),Wl(s,r,u))},enqueueReplaceState:function(r,s,o){r=r._reactInternals;var u=$n(),f=ns(u);f.tag=1,f.payload=s,o!=null&&(f.callback=o),s=rs(r,f,u),s!==null&&(Kn(s,r,u),Wl(s,r,u))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var o=$n(),u=ns(o);u.tag=2,s!=null&&(u.callback=s),s=rs(r,u,o),s!==null&&(Kn(s,r,o),Wl(s,r,o))}};function A_(r,s,o,u,f,m,E){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(u,m,E):s.prototype&&s.prototype.isPureReactComponent?!zl(o,u)||!zl(f,m):!0}function w_(r,s,o,u){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,u),s.state!==r&&Ip.enqueueReplaceState(s,s.state,null)}function _a(r,s){var o=s;if("ref"in s){o={};for(var u in s)u!=="ref"&&(o[u]=s[u])}if(r=r.defaultProps){o===s&&(o=v({},o));for(var f in r)o[f]===void 0&&(o[f]=r[f])}return o}var wh=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function S_(r){wh(r)}function R_(r){console.error(r)}function C_(r){wh(r)}function Sh(r,s){try{var o=r.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function I_(r,s,o){try{var u=r.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function xp(r,s,o){return o=ns(o),o.tag=3,o.payload={element:null},o.callback=function(){Sh(r,s)},o}function x_(r){return r=ns(r),r.tag=3,r}function O_(r,s,o,u){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var m=u.value;r.payload=function(){return f(m)},r.callback=function(){I_(s,o,u)}}var E=o.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(r.callback=function(){I_(s,o,u),typeof f!="function"&&(fs===null?fs=new Set([this]):fs.add(this));var A=u.stack;this.componentDidCatch(u.value,{componentStack:A!==null?A:""})})}function h1(r,s,o,u,f){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=o.alternate,s!==null&&$l(s,o,f,!0),o=or.current,o!==null){switch(o.tag){case 13:return Hr===null?Zp():o.alternate===null&&Et===0&&(Et=3),o.flags&=-257,o.flags|=65536,o.lanes=f,u===ip?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([u]):s.add(u),tm(r,u,f)),!1;case 22:return o.flags|=65536,u===ip?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([u]):o.add(u)),tm(r,u,f)),!1}throw Error(i(435,o.tag))}return tm(r,u,f),Zp(),!1}if(Ke)return s=or.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,u!==Wd&&(r=Error(i(422),{cause:u}),Gl(rr(r,o)))):(u!==Wd&&(s=Error(i(423),{cause:u}),Gl(rr(s,o))),r=r.current.alternate,r.flags|=65536,f&=-f,r.lanes|=f,u=rr(u,o),f=xp(r.stateNode,u,f),op(r,f),Et!==4&&(Et=2)),!1;var m=Error(i(520),{cause:u});if(m=rr(m,o),fu===null?fu=[m]:fu.push(m),Et!==4&&(Et=2),s===null)return!0;u=rr(u,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,r=f&-f,o.lanes|=r,r=xp(o.stateNode,u,r),op(o,r),!1;case 1:if(s=o.type,m=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(fs===null||!fs.has(m))))return o.flags|=65536,f&=-f,o.lanes|=f,f=x_(f),O_(f,r,o,u),op(o,f),!1}o=o.return}while(o!==null);return!1}var N_=Error(i(461)),Kt=!1;function tn(r,s,o,u){s.child=r===null?b_(s,null,o,u):Ao(s,r.child,o,u)}function D_(r,s,o,u,f){o=o.render;var m=s.ref;if("ref"in u){var E={};for(var A in u)A!=="ref"&&(E[A]=u[A])}else E=u;return ga(s),u=fp(r,s,o,E,m,f),A=dp(),r!==null&&!Kt?(pp(r,s,f),Oi(r,s,f)):(Ke&&A&&Qd(s),s.flags|=1,tn(r,s,u,f),s.child)}function P_(r,s,o,u,f){if(r===null){var m=o.type;return typeof m=="function"&&!$d(m)&&m.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=m,k_(r,s,m,u,f)):(r=ih(o.type,null,u,s,s.mode,f),r.ref=s.ref,r.return=s,s.child=r)}if(m=r.child,!Lp(r,f)){var E=m.memoizedProps;if(o=o.compare,o=o!==null?o:zl,o(E,u)&&r.ref===s.ref)return Oi(r,s,f)}return s.flags|=1,r=Ai(m,u),r.ref=s.ref,r.return=s,s.child=r}function k_(r,s,o,u,f){if(r!==null){var m=r.memoizedProps;if(zl(m,u)&&r.ref===s.ref)if(Kt=!1,s.pendingProps=u=m,Lp(r,f))(r.flags&131072)!==0&&(Kt=!0);else return s.lanes=r.lanes,Oi(r,s,f)}return Op(r,s,o,u,f)}function M_(r,s,o){var u=s.pendingProps,f=u.children,m=r!==null?r.memoizedState:null;if(u.mode==="hidden"){if((s.flags&128)!==0){if(u=m!==null?m.baseLanes|o:o,r!==null){for(f=s.child=r.child,m=0;f!==null;)m=m|f.lanes|f.childLanes,f=f.sibling;s.childLanes=m&~u}else s.childLanes=0,s.child=null;return V_(r,s,u,o)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&uh(s,m!==null?m.cachePool:null),m!==null?ky(s,m):up(),T_(s);else return s.lanes=s.childLanes=536870912,V_(r,s,m!==null?m.baseLanes|o:o,o)}else m!==null?(uh(s,m.cachePool),ky(s,m),as(),s.memoizedState=null):(r!==null&&uh(s,null),up(),as());return tn(r,s,f,o),s.child}function V_(r,s,o,u){var f=rp();return f=f===null?null:{parent:Lt._currentValue,pool:f},s.memoizedState={baseLanes:o,cachePool:f},r!==null&&uh(s,null),up(),T_(s),r!==null&&$l(r,s,u,!0),null}function Rh(r,s){var o=s.ref;if(o===null)r!==null&&r.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(r===null||r.ref!==o)&&(s.flags|=4194816)}}function Op(r,s,o,u,f){return ga(s),o=fp(r,s,o,u,void 0,f),u=dp(),r!==null&&!Kt?(pp(r,s,f),Oi(r,s,f)):(Ke&&u&&Qd(s),s.flags|=1,tn(r,s,o,f),s.child)}function L_(r,s,o,u,f,m){return ga(s),s.updateQueue=null,o=Vy(s,u,o,f),My(r),u=dp(),r!==null&&!Kt?(pp(r,s,m),Oi(r,s,m)):(Ke&&u&&Qd(s),s.flags|=1,tn(r,s,o,m),s.child)}function U_(r,s,o,u,f){if(ga(s),s.stateNode===null){var m=fo,E=o.contextType;typeof E=="object"&&E!==null&&(m=pn(E)),m=new o(u,m),s.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Ip,s.stateNode=m,m._reactInternals=s,m=s.stateNode,m.props=u,m.state=s.memoizedState,m.refs={},sp(s),E=o.contextType,m.context=typeof E=="object"&&E!==null?pn(E):fo,m.state=s.memoizedState,E=o.getDerivedStateFromProps,typeof E=="function"&&(Cp(s,o,E,u),m.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(E=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),E!==m.state&&Ip.enqueueReplaceState(m,m.state,null),Zl(s,u,m,f),Jl(),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(r===null){m=s.stateNode;var A=s.memoizedProps,k=_a(o,A);m.props=k;var Y=m.context,te=o.contextType;E=fo,typeof te=="object"&&te!==null&&(E=pn(te));var ie=o.getDerivedStateFromProps;te=typeof ie=="function"||typeof m.getSnapshotBeforeUpdate=="function",A=s.pendingProps!==A,te||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(A||Y!==E)&&w_(s,m,u,E),ts=!1;var X=s.memoizedState;m.state=X,Zl(s,u,m,f),Jl(),Y=s.memoizedState,A||X!==Y||ts?(typeof ie=="function"&&(Cp(s,o,ie,u),Y=s.memoizedState),(k=ts||A_(s,o,k,u,X,Y,E))?(te||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(s.flags|=4194308)):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=Y),m.props=u,m.state=Y,m.context=E,u=k):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{m=s.stateNode,ap(r,s),E=s.memoizedProps,te=_a(o,E),m.props=te,ie=s.pendingProps,X=m.context,Y=o.contextType,k=fo,typeof Y=="object"&&Y!==null&&(k=pn(Y)),A=o.getDerivedStateFromProps,(Y=typeof A=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(E!==ie||X!==k)&&w_(s,m,u,k),ts=!1,X=s.memoizedState,m.state=X,Zl(s,u,m,f),Jl();var W=s.memoizedState;E!==ie||X!==W||ts||r!==null&&r.dependencies!==null&&oh(r.dependencies)?(typeof A=="function"&&(Cp(s,o,A,u),W=s.memoizedState),(te=ts||A_(s,o,te,u,X,W,k)||r!==null&&r.dependencies!==null&&oh(r.dependencies))?(Y||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(u,W,k),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(u,W,k)),typeof m.componentDidUpdate=="function"&&(s.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof m.componentDidUpdate!="function"||E===r.memoizedProps&&X===r.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||E===r.memoizedProps&&X===r.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=W),m.props=u,m.state=W,m.context=k,u=te):(typeof m.componentDidUpdate!="function"||E===r.memoizedProps&&X===r.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||E===r.memoizedProps&&X===r.memoizedState||(s.flags|=1024),u=!1)}return m=u,Rh(r,s),u=(s.flags&128)!==0,m||u?(m=s.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:m.render(),s.flags|=1,r!==null&&u?(s.child=Ao(s,r.child,null,f),s.child=Ao(s,null,o,f)):tn(r,s,o,f),s.memoizedState=m.state,r=s.child):r=Oi(r,s,f),r}function j_(r,s,o,u){return Hl(),s.flags|=256,tn(r,s,o,u),s.child}var Np={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Dp(r){return{baseLanes:r,cachePool:Ry()}}function Pp(r,s,o){return r=r!==null?r.childLanes&~o:0,s&&(r|=lr),r}function B_(r,s,o){var u=s.pendingProps,f=!1,m=(s.flags&128)!==0,E;if((E=m)||(E=r!==null&&r.memoizedState===null?!1:(Ut.current&2)!==0),E&&(f=!0,s.flags&=-129),E=(s.flags&32)!==0,s.flags&=-33,r===null){if(Ke){if(f?ss(s):as(),Ke){var A=_t,k;if(k=A){e:{for(k=A,A=Fr;k.nodeType!==8;){if(!A){A=null;break e}if(k=wr(k.nextSibling),k===null){A=null;break e}}A=k}A!==null?(s.memoizedState={dehydrated:A,treeContext:ha!==null?{id:wi,overflow:Si}:null,retryLane:536870912,hydrationErrors:null},k=qn(18,null,null,0),k.stateNode=A,k.return=s,s.child=k,Sn=s,_t=null,k=!0):k=!1}k||pa(s)}if(A=s.memoizedState,A!==null&&(A=A.dehydrated,A!==null))return gm(A)?s.lanes=32:s.lanes=536870912,null;xi(s)}return A=u.children,u=u.fallback,f?(as(),f=s.mode,A=Ch({mode:"hidden",children:A},f),u=ca(u,f,o,null),A.return=s,u.return=s,A.sibling=u,s.child=A,f=s.child,f.memoizedState=Dp(o),f.childLanes=Pp(r,E,o),s.memoizedState=Np,u):(ss(s),kp(s,A))}if(k=r.memoizedState,k!==null&&(A=k.dehydrated,A!==null)){if(m)s.flags&256?(ss(s),s.flags&=-257,s=Mp(r,s,o)):s.memoizedState!==null?(as(),s.child=r.child,s.flags|=128,s=null):(as(),f=u.fallback,A=s.mode,u=Ch({mode:"visible",children:u.children},A),f=ca(f,A,o,null),f.flags|=2,u.return=s,f.return=s,u.sibling=f,s.child=u,Ao(s,r.child,null,o),u=s.child,u.memoizedState=Dp(o),u.childLanes=Pp(r,E,o),s.memoizedState=Np,s=f);else if(ss(s),gm(A)){if(E=A.nextSibling&&A.nextSibling.dataset,E)var Y=E.dgst;E=Y,u=Error(i(419)),u.stack="",u.digest=E,Gl({value:u,source:null,stack:null}),s=Mp(r,s,o)}else if(Kt||$l(r,s,o,!1),E=(o&r.childLanes)!==0,Kt||E){if(E=lt,E!==null&&(u=o&-o,u=(u&42)!==0?1:Ki(u),u=(u&(E.suspendedLanes|o))!==0?0:u,u!==0&&u!==k.retryLane))throw k.retryLane=u,ho(r,u),Kn(E,r,u),N_;A.data==="$?"||Zp(),s=Mp(r,s,o)}else A.data==="$?"?(s.flags|=192,s.child=r.child,s=null):(r=k.treeContext,_t=wr(A.nextSibling),Sn=s,Ke=!0,da=null,Fr=!1,r!==null&&(sr[ar++]=wi,sr[ar++]=Si,sr[ar++]=ha,wi=r.id,Si=r.overflow,ha=s),s=kp(s,u.children),s.flags|=4096);return s}return f?(as(),f=u.fallback,A=s.mode,k=r.child,Y=k.sibling,u=Ai(k,{mode:"hidden",children:u.children}),u.subtreeFlags=k.subtreeFlags&65011712,Y!==null?f=Ai(Y,f):(f=ca(f,A,o,null),f.flags|=2),f.return=s,u.return=s,u.sibling=f,s.child=u,u=f,f=s.child,A=r.child.memoizedState,A===null?A=Dp(o):(k=A.cachePool,k!==null?(Y=Lt._currentValue,k=k.parent!==Y?{parent:Y,pool:Y}:k):k=Ry(),A={baseLanes:A.baseLanes|o,cachePool:k}),f.memoizedState=A,f.childLanes=Pp(r,E,o),s.memoizedState=Np,u):(ss(s),o=r.child,r=o.sibling,o=Ai(o,{mode:"visible",children:u.children}),o.return=s,o.sibling=null,r!==null&&(E=s.deletions,E===null?(s.deletions=[r],s.flags|=16):E.push(r)),s.child=o,s.memoizedState=null,o)}function kp(r,s){return s=Ch({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function Ch(r,s){return r=qn(22,r,null,s),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function Mp(r,s,o){return Ao(s,r.child,null,o),r=kp(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function z_(r,s,o){r.lanes|=s;var u=r.alternate;u!==null&&(u.lanes|=s),Zd(r.return,s,o)}function Vp(r,s,o,u,f){var m=r.memoizedState;m===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:f}:(m.isBackwards=s,m.rendering=null,m.renderingStartTime=0,m.last=u,m.tail=o,m.tailMode=f)}function q_(r,s,o){var u=s.pendingProps,f=u.revealOrder,m=u.tail;if(tn(r,s,u.children,o),u=Ut.current,(u&2)!==0)u=u&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&z_(r,o,s);else if(r.tag===19)z_(r,o,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}u&=1}switch(le(Ut,u),f){case"forwards":for(o=s.child,f=null;o!==null;)r=o.alternate,r!==null&&Ah(r)===null&&(f=o),o=o.sibling;o=f,o===null?(f=s.child,s.child=null):(f=o.sibling,o.sibling=null),Vp(s,!1,f,o,m);break;case"backwards":for(o=null,f=s.child,s.child=null;f!==null;){if(r=f.alternate,r!==null&&Ah(r)===null){s.child=f;break}r=f.sibling,f.sibling=o,o=f,f=r}Vp(s,!0,o,null,m);break;case"together":Vp(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Oi(r,s,o){if(r!==null&&(s.dependencies=r.dependencies),hs|=s.lanes,(o&s.childLanes)===0)if(r!==null){if($l(r,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(i(153));if(s.child!==null){for(r=s.child,o=Ai(r,r.pendingProps),s.child=o,o.return=s;r.sibling!==null;)r=r.sibling,o=o.sibling=Ai(r,r.pendingProps),o.return=s;o.sibling=null}return s.child}function Lp(r,s){return(r.lanes&s)!==0?!0:(r=r.dependencies,!!(r!==null&&oh(r)))}function f1(r,s,o){switch(s.tag){case 3:De(s,s.stateNode.containerInfo),es(s,Lt,r.memoizedState.cache),Hl();break;case 27:case 5:Un(s);break;case 4:De(s,s.stateNode.containerInfo);break;case 10:es(s,s.type,s.memoizedProps.value);break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(ss(s),s.flags|=128,null):(o&s.child.childLanes)!==0?B_(r,s,o):(ss(s),r=Oi(r,s,o),r!==null?r.sibling:null);ss(s);break;case 19:var f=(r.flags&128)!==0;if(u=(o&s.childLanes)!==0,u||($l(r,s,o,!1),u=(o&s.childLanes)!==0),f){if(u)return q_(r,s,o);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),le(Ut,Ut.current),u)break;return null;case 22:case 23:return s.lanes=0,M_(r,s,o);case 24:es(s,Lt,r.memoizedState.cache)}return Oi(r,s,o)}function F_(r,s,o){if(r!==null)if(r.memoizedProps!==s.pendingProps)Kt=!0;else{if(!Lp(r,o)&&(s.flags&128)===0)return Kt=!1,f1(r,s,o);Kt=(r.flags&131072)!==0}else Kt=!1,Ke&&(s.flags&1048576)!==0&&_y(s,ah,s.index);switch(s.lanes=0,s.tag){case 16:e:{r=s.pendingProps;var u=s.elementType,f=u._init;if(u=f(u._payload),s.type=u,typeof u=="function")$d(u)?(r=_a(u,r),s.tag=1,s=U_(null,s,u,r,o)):(s.tag=0,s=Op(null,s,u,r,o));else{if(u!=null){if(f=u.$$typeof,f===G){s.tag=11,s=D_(null,s,u,r,o);break e}else if(f===x){s.tag=14,s=P_(null,s,u,r,o);break e}}throw s=ve(u)||u,Error(i(306,s,""))}}return s;case 0:return Op(r,s,s.type,s.pendingProps,o);case 1:return u=s.type,f=_a(u,s.pendingProps),U_(r,s,u,f,o);case 3:e:{if(De(s,s.stateNode.containerInfo),r===null)throw Error(i(387));u=s.pendingProps;var m=s.memoizedState;f=m.element,ap(r,s),Zl(s,u,null,o);var E=s.memoizedState;if(u=E.cache,es(s,Lt,u),u!==m.cache&&ep(s,[Lt],o,!0),Jl(),u=E.element,m.isDehydrated)if(m={element:u,isDehydrated:!1,cache:E.cache},s.updateQueue.baseState=m,s.memoizedState=m,s.flags&256){s=j_(r,s,u,o);break e}else if(u!==f){f=rr(Error(i(424)),s),Gl(f),s=j_(r,s,u,o);break e}else{switch(r=s.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(_t=wr(r.firstChild),Sn=s,Ke=!0,da=null,Fr=!0,o=b_(s,null,u,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Hl(),u===f){s=Oi(r,s,o);break e}tn(r,s,u,o)}s=s.child}return s;case 26:return Rh(r,s),r===null?(o=K0(s.type,null,s.pendingProps,null))?s.memoizedState=o:Ke||(o=s.type,r=s.pendingProps,u=zh(ye.current).createElement(o),u[kt]=s,u[Ct]=r,rn(u,o,r),bt(u),s.stateNode=u):s.memoizedState=K0(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return Un(s),r===null&&Ke&&(u=s.stateNode=H0(s.type,s.pendingProps,ye.current),Sn=s,Fr=!0,f=_t,ms(s.type)?(vm=f,_t=wr(u.firstChild)):_t=f),tn(r,s,s.pendingProps.children,o),Rh(r,s),r===null&&(s.flags|=4194304),s.child;case 5:return r===null&&Ke&&((f=u=_t)&&(u=B1(u,s.type,s.pendingProps,Fr),u!==null?(s.stateNode=u,Sn=s,_t=wr(u.firstChild),Fr=!1,f=!0):f=!1),f||pa(s)),Un(s),f=s.type,m=s.pendingProps,E=r!==null?r.memoizedProps:null,u=m.children,dm(f,m)?u=null:E!==null&&dm(f,E)&&(s.flags|=32),s.memoizedState!==null&&(f=fp(r,s,i1,null,null,o),bu._currentValue=f),Rh(r,s),tn(r,s,u,o),s.child;case 6:return r===null&&Ke&&((r=o=_t)&&(o=z1(o,s.pendingProps,Fr),o!==null?(s.stateNode=o,Sn=s,_t=null,r=!0):r=!1),r||pa(s)),null;case 13:return B_(r,s,o);case 4:return De(s,s.stateNode.containerInfo),u=s.pendingProps,r===null?s.child=Ao(s,null,u,o):tn(r,s,u,o),s.child;case 11:return D_(r,s,s.type,s.pendingProps,o);case 7:return tn(r,s,s.pendingProps,o),s.child;case 8:return tn(r,s,s.pendingProps.children,o),s.child;case 12:return tn(r,s,s.pendingProps.children,o),s.child;case 10:return u=s.pendingProps,es(s,s.type,u.value),tn(r,s,u.children,o),s.child;case 9:return f=s.type._context,u=s.pendingProps.children,ga(s),f=pn(f),u=u(f),s.flags|=1,tn(r,s,u,o),s.child;case 14:return P_(r,s,s.type,s.pendingProps,o);case 15:return k_(r,s,s.type,s.pendingProps,o);case 19:return q_(r,s,o);case 31:return u=s.pendingProps,o=s.mode,u={mode:u.mode,children:u.children},r===null?(o=Ch(u,o),o.ref=s.ref,s.child=o,o.return=s,s=o):(o=Ai(r.child,u),o.ref=s.ref,s.child=o,o.return=s,s=o),s;case 22:return M_(r,s,o);case 24:return ga(s),u=pn(Lt),r===null?(f=rp(),f===null&&(f=lt,m=tp(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=o),f=m),s.memoizedState={parent:u,cache:f},sp(s),es(s,Lt,f)):((r.lanes&o)!==0&&(ap(r,s),Zl(s,null,null,o),Jl()),f=r.memoizedState,m=s.memoizedState,f.parent!==u?(f={parent:u,cache:u},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),es(s,Lt,u)):(u=m.cache,es(s,Lt,u),u!==f.cache&&ep(s,[Lt],o,!0))),tn(r,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function Ni(r){r.flags|=4}function H_(r,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!J0(s)){if(s=or.current,s!==null&&((Fe&4194048)===Fe?Hr!==null:(Fe&62914560)!==Fe&&(Fe&536870912)===0||s!==Hr))throw Xl=ip,Cy;r.flags|=8192}}function Ih(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?Al():536870912,r.lanes|=s,Co|=s)}function au(r,s){if(!Ke)switch(r.tailMode){case"hidden":s=r.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:u.sibling=null}}function gt(r){var s=r.alternate!==null&&r.alternate.child===r.child,o=0,u=0;if(s)for(var f=r.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=r,f=f.sibling;else for(f=r.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=r,f=f.sibling;return r.subtreeFlags|=u,r.childLanes=o,s}function d1(r,s,o){var u=s.pendingProps;switch(Xd(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gt(s),null;case 1:return gt(s),null;case 3:return o=s.stateNode,u=null,r!==null&&(u=r.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),Ci(Lt),Ft(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(Fl(s)?Ni(s):r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Ty())),gt(s),null;case 26:return o=s.memoizedState,r===null?(Ni(s),o!==null?(gt(s),H_(s,o)):(gt(s),s.flags&=-16777217)):o?o!==r.memoizedState?(Ni(s),gt(s),H_(s,o)):(gt(s),s.flags&=-16777217):(r.memoizedProps!==u&&Ni(s),gt(s),s.flags&=-16777217),null;case 27:un(s),o=ye.current;var f=s.type;if(r!==null&&s.stateNode!=null)r.memoizedProps!==u&&Ni(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return gt(s),null}r=ge.current,Fl(s)?Ey(s):(r=H0(f,u,o),s.stateNode=r,Ni(s))}return gt(s),null;case 5:if(un(s),o=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==u&&Ni(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return gt(s),null}if(r=ge.current,Fl(s))Ey(s);else{switch(f=zh(ye.current),r){case 1:r=f.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:r=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":r=f.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":r=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":r=f.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof u.is=="string"?f.createElement("select",{is:u.is}):f.createElement("select"),u.multiple?r.multiple=!0:u.size&&(r.size=u.size);break;default:r=typeof u.is=="string"?f.createElement(o,{is:u.is}):f.createElement(o)}}r[kt]=s,r[Ct]=u;e:for(f=s.child;f!==null;){if(f.tag===5||f.tag===6)r.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===s)break e;for(;f.sibling===null;){if(f.return===null||f.return===s)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}s.stateNode=r;e:switch(rn(r,o,u),o){case"button":case"input":case"select":case"textarea":r=!!u.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Ni(s)}}return gt(s),s.flags&=-16777217,null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==u&&Ni(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(i(166));if(r=ye.current,Fl(s)){if(r=s.stateNode,o=s.memoizedProps,u=null,f=Sn,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}r[kt]=s,r=!!(r.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||L0(r.nodeValue,o)),r||pa(s)}else r=zh(r).createTextNode(u),r[kt]=s,s.stateNode=r}return gt(s),null;case 13:if(u=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(f=Fl(s),u!==null&&u.dehydrated!==null){if(r===null){if(!f)throw Error(i(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(i(317));f[kt]=s}else Hl(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;gt(s),f=!1}else f=Ty(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=f),f=!0;if(!f)return s.flags&256?(xi(s),s):(xi(s),null)}if(xi(s),(s.flags&128)!==0)return s.lanes=o,s;if(o=u!==null,r=r!==null&&r.memoizedState!==null,o){u=s.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool);var m=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(m=u.memoizedState.cachePool.pool),m!==f&&(u.flags|=2048)}return o!==r&&o&&(s.child.flags|=8192),Ih(s,s.updateQueue),gt(s),null;case 4:return Ft(),r===null&&lm(s.stateNode.containerInfo),gt(s),null;case 10:return Ci(s.type),gt(s),null;case 19:if(ue(Ut),f=s.memoizedState,f===null)return gt(s),null;if(u=(s.flags&128)!==0,m=f.rendering,m===null)if(u)au(f,!1);else{if(Et!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(m=Ah(r),m!==null){for(s.flags|=128,au(f,!1),r=m.updateQueue,s.updateQueue=r,Ih(s,r),s.subtreeFlags=0,r=o,o=s.child;o!==null;)yy(o,r),o=o.sibling;return le(Ut,Ut.current&1|2),s.child}r=r.sibling}f.tail!==null&&Ce()>Nh&&(s.flags|=128,u=!0,au(f,!1),s.lanes=4194304)}else{if(!u)if(r=Ah(m),r!==null){if(s.flags|=128,u=!0,r=r.updateQueue,s.updateQueue=r,Ih(s,r),au(f,!0),f.tail===null&&f.tailMode==="hidden"&&!m.alternate&&!Ke)return gt(s),null}else 2*Ce()-f.renderingStartTime>Nh&&o!==536870912&&(s.flags|=128,u=!0,au(f,!1),s.lanes=4194304);f.isBackwards?(m.sibling=s.child,s.child=m):(r=f.last,r!==null?r.sibling=m:s.child=m,f.last=m)}return f.tail!==null?(s=f.tail,f.rendering=s,f.tail=s.sibling,f.renderingStartTime=Ce(),s.sibling=null,r=Ut.current,le(Ut,u?r&1|2:r&1),s):(gt(s),null);case 22:case 23:return xi(s),cp(),u=s.memoizedState!==null,r!==null?r.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(o&536870912)!==0&&(s.flags&128)===0&&(gt(s),s.subtreeFlags&6&&(s.flags|=8192)):gt(s),o=s.updateQueue,o!==null&&Ih(s,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048),r!==null&&ue(va),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),Ci(Lt),gt(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function p1(r,s){switch(Xd(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return Ci(Lt),Ft(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return un(s),null;case 13:if(xi(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(i(340));Hl()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return ue(Ut),null;case 4:return Ft(),null;case 10:return Ci(s.type),null;case 22:case 23:return xi(s),cp(),r!==null&&ue(va),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return Ci(Lt),null;case 25:return null;default:return null}}function G_(r,s){switch(Xd(s),s.tag){case 3:Ci(Lt),Ft();break;case 26:case 27:case 5:un(s);break;case 4:Ft();break;case 13:xi(s);break;case 19:ue(Ut);break;case 10:Ci(s.type);break;case 22:case 23:xi(s),cp(),r!==null&&ue(va);break;case 24:Ci(Lt)}}function ou(r,s){try{var o=s.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var f=u.next;o=f;do{if((o.tag&r)===r){u=void 0;var m=o.create,E=o.inst;u=m(),E.destroy=u}o=o.next}while(o!==f)}}catch(A){ot(s,s.return,A)}}function os(r,s,o){try{var u=s.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var m=f.next;u=m;do{if((u.tag&r)===r){var E=u.inst,A=E.destroy;if(A!==void 0){E.destroy=void 0,f=s;var k=o,Y=A;try{Y()}catch(te){ot(f,k,te)}}}u=u.next}while(u!==m)}}catch(te){ot(s,s.return,te)}}function $_(r){var s=r.updateQueue;if(s!==null){var o=r.stateNode;try{Py(s,o)}catch(u){ot(r,r.return,u)}}}function K_(r,s,o){o.props=_a(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(u){ot(r,s,u)}}function lu(r,s){try{var o=r.ref;if(o!==null){switch(r.tag){case 26:case 27:case 5:var u=r.stateNode;break;case 30:u=r.stateNode;break;default:u=r.stateNode}typeof o=="function"?r.refCleanup=o(u):o.current=u}}catch(f){ot(r,s,f)}}function Gr(r,s){var o=r.ref,u=r.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(f){ot(r,s,f)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){ot(r,s,f)}else o.current=null}function Y_(r){var s=r.type,o=r.memoizedProps,u=r.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(f){ot(r,r.return,f)}}function Up(r,s,o){try{var u=r.stateNode;M1(u,r.type,o,s),u[Ct]=s}catch(f){ot(r,r.return,f)}}function Q_(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&ms(r.type)||r.tag===4}function jp(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Q_(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&ms(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Bp(r,s,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(r,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(r),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=Bh));else if(u!==4&&(u===27&&ms(r.type)&&(o=r.stateNode,s=null),r=r.child,r!==null))for(Bp(r,s,o),r=r.sibling;r!==null;)Bp(r,s,o),r=r.sibling}function xh(r,s,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,s?o.insertBefore(r,s):o.appendChild(r);else if(u!==4&&(u===27&&ms(r.type)&&(o=r.stateNode),r=r.child,r!==null))for(xh(r,s,o),r=r.sibling;r!==null;)xh(r,s,o),r=r.sibling}function X_(r){var s=r.stateNode,o=r.memoizedProps;try{for(var u=r.type,f=s.attributes;f.length;)s.removeAttributeNode(f[0]);rn(s,u,o),s[kt]=r,s[Ct]=o}catch(m){ot(r,r.return,m)}}var Di=!1,At=!1,zp=!1,W_=typeof WeakSet=="function"?WeakSet:Set,Yt=null;function m1(r,s){if(r=r.containerInfo,hm=Kh,r=ly(r),jd(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var f=u.anchorOffset,m=u.focusNode;u=u.focusOffset;try{o.nodeType,m.nodeType}catch{o=null;break e}var E=0,A=-1,k=-1,Y=0,te=0,ie=r,X=null;t:for(;;){for(var W;ie!==o||f!==0&&ie.nodeType!==3||(A=E+f),ie!==m||u!==0&&ie.nodeType!==3||(k=E+u),ie.nodeType===3&&(E+=ie.nodeValue.length),(W=ie.firstChild)!==null;)X=ie,ie=W;for(;;){if(ie===r)break t;if(X===o&&++Y===f&&(A=E),X===m&&++te===u&&(k=E),(W=ie.nextSibling)!==null)break;ie=X,X=ie.parentNode}ie=W}o=A===-1||k===-1?null:{start:A,end:k}}else o=null}o=o||{start:0,end:0}}else o=null;for(fm={focusedElem:r,selectionRange:o},Kh=!1,Yt=s;Yt!==null;)if(s=Yt,r=s.child,(s.subtreeFlags&1024)!==0&&r!==null)r.return=s,Yt=r;else for(;Yt!==null;){switch(s=Yt,m=s.alternate,r=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&m!==null){r=void 0,o=s,f=m.memoizedProps,m=m.memoizedState,u=o.stateNode;try{var Re=_a(o.type,f,o.elementType===o.type);r=u.getSnapshotBeforeUpdate(Re,m),u.__reactInternalSnapshotBeforeUpdate=r}catch(Te){ot(o,o.return,Te)}}break;case 3:if((r&1024)!==0){if(r=s.stateNode.containerInfo,o=r.nodeType,o===9)mm(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":mm(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=s.sibling,r!==null){r.return=s.return,Yt=r;break}Yt=s.return}}function J_(r,s,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:ls(r,o),u&4&&ou(5,o);break;case 1:if(ls(r,o),u&4)if(r=o.stateNode,s===null)try{r.componentDidMount()}catch(E){ot(o,o.return,E)}else{var f=_a(o.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(f,s,r.__reactInternalSnapshotBeforeUpdate)}catch(E){ot(o,o.return,E)}}u&64&&$_(o),u&512&&lu(o,o.return);break;case 3:if(ls(r,o),u&64&&(r=o.updateQueue,r!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{Py(r,s)}catch(E){ot(o,o.return,E)}}break;case 27:s===null&&u&4&&X_(o);case 26:case 5:ls(r,o),s===null&&u&4&&Y_(o),u&512&&lu(o,o.return);break;case 12:ls(r,o);break;case 13:ls(r,o),u&4&&t0(r,o),u&64&&(r=o.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(o=w1.bind(null,o),q1(r,o))));break;case 22:if(u=o.memoizedState!==null||Di,!u){s=s!==null&&s.memoizedState!==null||At,f=Di;var m=At;Di=u,(At=s)&&!m?us(r,o,(o.subtreeFlags&8772)!==0):ls(r,o),Di=f,At=m}break;case 30:break;default:ls(r,o)}}function Z_(r){var s=r.alternate;s!==null&&(r.alternate=null,Z_(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&Xi(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var pt=null,On=!1;function Pi(r,s,o){for(o=o.child;o!==null;)e0(r,s,o),o=o.sibling}function e0(r,s,o){if(Ge&&typeof Ge.onCommitFiberUnmount=="function")try{Ge.onCommitFiberUnmount(ct,o)}catch{}switch(o.tag){case 26:At||Gr(o,s),Pi(r,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:At||Gr(o,s);var u=pt,f=On;ms(o.type)&&(pt=o.stateNode,On=!1),Pi(r,s,o),vu(o.stateNode),pt=u,On=f;break;case 5:At||Gr(o,s);case 6:if(u=pt,f=On,pt=null,Pi(r,s,o),pt=u,On=f,pt!==null)if(On)try{(pt.nodeType===9?pt.body:pt.nodeName==="HTML"?pt.ownerDocument.body:pt).removeChild(o.stateNode)}catch(m){ot(o,s,m)}else try{pt.removeChild(o.stateNode)}catch(m){ot(o,s,m)}break;case 18:pt!==null&&(On?(r=pt,q0(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,o.stateNode),Su(r)):q0(pt,o.stateNode));break;case 4:u=pt,f=On,pt=o.stateNode.containerInfo,On=!0,Pi(r,s,o),pt=u,On=f;break;case 0:case 11:case 14:case 15:At||os(2,o,s),At||os(4,o,s),Pi(r,s,o);break;case 1:At||(Gr(o,s),u=o.stateNode,typeof u.componentWillUnmount=="function"&&K_(o,s,u)),Pi(r,s,o);break;case 21:Pi(r,s,o);break;case 22:At=(u=At)||o.memoizedState!==null,Pi(r,s,o),At=u;break;default:Pi(r,s,o)}}function t0(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Su(r)}catch(o){ot(s,s.return,o)}}function g1(r){switch(r.tag){case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new W_),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new W_),s;default:throw Error(i(435,r.tag))}}function qp(r,s){var o=g1(r);s.forEach(function(u){var f=S1.bind(null,r,u);o.has(u)||(o.add(u),u.then(f,f))})}function Fn(r,s){var o=s.deletions;if(o!==null)for(var u=0;u<o.length;u++){var f=o[u],m=r,E=s,A=E;e:for(;A!==null;){switch(A.tag){case 27:if(ms(A.type)){pt=A.stateNode,On=!1;break e}break;case 5:pt=A.stateNode,On=!1;break e;case 3:case 4:pt=A.stateNode.containerInfo,On=!0;break e}A=A.return}if(pt===null)throw Error(i(160));e0(m,E,f),pt=null,On=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)n0(s,r),s=s.sibling}var Ar=null;function n0(r,s){var o=r.alternate,u=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Fn(s,r),Hn(r),u&4&&(os(3,r,r.return),ou(3,r),os(5,r,r.return));break;case 1:Fn(s,r),Hn(r),u&512&&(At||o===null||Gr(o,o.return)),u&64&&Di&&(r=r.updateQueue,r!==null&&(u=r.callbacks,u!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var f=Ar;if(Fn(s,r),Hn(r),u&512&&(At||o===null||Gr(o,o.return)),u&4){var m=o!==null?o.memoizedState:null;if(u=r.memoizedState,o===null)if(u===null)if(r.stateNode===null){e:{u=r.type,o=r.memoizedProps,f=f.ownerDocument||f;t:switch(u){case"title":m=f.getElementsByTagName("title")[0],(!m||m[Ys]||m[kt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(u),f.head.insertBefore(m,f.querySelector("head > title"))),rn(m,u,o),m[kt]=r,bt(m),u=m;break e;case"link":var E=X0("link","href",f).get(u+(o.href||""));if(E){for(var A=0;A<E.length;A++)if(m=E[A],m.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&m.getAttribute("rel")===(o.rel==null?null:o.rel)&&m.getAttribute("title")===(o.title==null?null:o.title)&&m.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){E.splice(A,1);break t}}m=f.createElement(u),rn(m,u,o),f.head.appendChild(m);break;case"meta":if(E=X0("meta","content",f).get(u+(o.content||""))){for(A=0;A<E.length;A++)if(m=E[A],m.getAttribute("content")===(o.content==null?null:""+o.content)&&m.getAttribute("name")===(o.name==null?null:o.name)&&m.getAttribute("property")===(o.property==null?null:o.property)&&m.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&m.getAttribute("charset")===(o.charSet==null?null:o.charSet)){E.splice(A,1);break t}}m=f.createElement(u),rn(m,u,o),f.head.appendChild(m);break;default:throw Error(i(468,u))}m[kt]=r,bt(m),u=m}r.stateNode=u}else W0(f,r.type,r.stateNode);else r.stateNode=Q0(f,u,r.memoizedProps);else m!==u?(m===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):m.count--,u===null?W0(f,r.type,r.stateNode):Q0(f,u,r.memoizedProps)):u===null&&r.stateNode!==null&&Up(r,r.memoizedProps,o.memoizedProps)}break;case 27:Fn(s,r),Hn(r),u&512&&(At||o===null||Gr(o,o.return)),o!==null&&u&4&&Up(r,r.memoizedProps,o.memoizedProps);break;case 5:if(Fn(s,r),Hn(r),u&512&&(At||o===null||Gr(o,o.return)),r.flags&32){f=r.stateNode;try{Zn(f,"")}catch(W){ot(r,r.return,W)}}u&4&&r.stateNode!=null&&(f=r.memoizedProps,Up(r,f,o!==null?o.memoizedProps:f)),u&1024&&(zp=!0);break;case 6:if(Fn(s,r),Hn(r),u&4){if(r.stateNode===null)throw Error(i(162));u=r.memoizedProps,o=r.stateNode;try{o.nodeValue=u}catch(W){ot(r,r.return,W)}}break;case 3:if(Hh=null,f=Ar,Ar=qh(s.containerInfo),Fn(s,r),Ar=f,Hn(r),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Su(s.containerInfo)}catch(W){ot(r,r.return,W)}zp&&(zp=!1,r0(r));break;case 4:u=Ar,Ar=qh(r.stateNode.containerInfo),Fn(s,r),Hn(r),Ar=u;break;case 12:Fn(s,r),Hn(r);break;case 13:Fn(s,r),Hn(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Yp=Ce()),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,qp(r,u)));break;case 22:f=r.memoizedState!==null;var k=o!==null&&o.memoizedState!==null,Y=Di,te=At;if(Di=Y||f,At=te||k,Fn(s,r),At=te,Di=Y,Hn(r),u&8192)e:for(s=r.stateNode,s._visibility=f?s._visibility&-2:s._visibility|1,f&&(o===null||k||Di||At||Ea(r)),o=null,s=r;;){if(s.tag===5||s.tag===26){if(o===null){k=o=s;try{if(m=k.stateNode,f)E=m.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{A=k.stateNode;var ie=k.memoizedProps.style,X=ie!=null&&ie.hasOwnProperty("display")?ie.display:null;A.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(W){ot(k,k.return,W)}}}else if(s.tag===6){if(o===null){k=s;try{k.stateNode.nodeValue=f?"":k.memoizedProps}catch(W){ot(k,k.return,W)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=r.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,qp(r,o))));break;case 19:Fn(s,r),Hn(r),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,qp(r,u)));break;case 30:break;case 21:break;default:Fn(s,r),Hn(r)}}function Hn(r){var s=r.flags;if(s&2){try{for(var o,u=r.return;u!==null;){if(Q_(u)){o=u;break}u=u.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var f=o.stateNode,m=jp(r);xh(r,m,f);break;case 5:var E=o.stateNode;o.flags&32&&(Zn(E,""),o.flags&=-33);var A=jp(r);xh(r,A,E);break;case 3:case 4:var k=o.stateNode.containerInfo,Y=jp(r);Bp(r,Y,k);break;default:throw Error(i(161))}}catch(te){ot(r,r.return,te)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function r0(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;r0(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function ls(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)J_(r,s.alternate,s),s=s.sibling}function Ea(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:os(4,s,s.return),Ea(s);break;case 1:Gr(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&K_(s,s.return,o),Ea(s);break;case 27:vu(s.stateNode);case 26:case 5:Gr(s,s.return),Ea(s);break;case 22:s.memoizedState===null&&Ea(s);break;case 30:Ea(s);break;default:Ea(s)}r=r.sibling}}function us(r,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,f=r,m=s,E=m.flags;switch(m.tag){case 0:case 11:case 15:us(f,m,o),ou(4,m);break;case 1:if(us(f,m,o),u=m,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(Y){ot(u,u.return,Y)}if(u=m,f=u.updateQueue,f!==null){var A=u.stateNode;try{var k=f.shared.hiddenCallbacks;if(k!==null)for(f.shared.hiddenCallbacks=null,f=0;f<k.length;f++)Dy(k[f],A)}catch(Y){ot(u,u.return,Y)}}o&&E&64&&$_(m),lu(m,m.return);break;case 27:X_(m);case 26:case 5:us(f,m,o),o&&u===null&&E&4&&Y_(m),lu(m,m.return);break;case 12:us(f,m,o);break;case 13:us(f,m,o),o&&E&4&&t0(f,m);break;case 22:m.memoizedState===null&&us(f,m,o),lu(m,m.return);break;case 30:break;default:us(f,m,o)}s=s.sibling}}function Fp(r,s){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&Kl(o))}function Hp(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&Kl(r))}function $r(r,s,o,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)i0(r,s,o,u),s=s.sibling}function i0(r,s,o,u){var f=s.flags;switch(s.tag){case 0:case 11:case 15:$r(r,s,o,u),f&2048&&ou(9,s);break;case 1:$r(r,s,o,u);break;case 3:$r(r,s,o,u),f&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&Kl(r)));break;case 12:if(f&2048){$r(r,s,o,u),r=s.stateNode;try{var m=s.memoizedProps,E=m.id,A=m.onPostCommit;typeof A=="function"&&A(E,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(k){ot(s,s.return,k)}}else $r(r,s,o,u);break;case 13:$r(r,s,o,u);break;case 23:break;case 22:m=s.stateNode,E=s.alternate,s.memoizedState!==null?m._visibility&2?$r(r,s,o,u):uu(r,s):m._visibility&2?$r(r,s,o,u):(m._visibility|=2,wo(r,s,o,u,(s.subtreeFlags&10256)!==0)),f&2048&&Fp(E,s);break;case 24:$r(r,s,o,u),f&2048&&Hp(s.alternate,s);break;default:$r(r,s,o,u)}}function wo(r,s,o,u,f){for(f=f&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var m=r,E=s,A=o,k=u,Y=E.flags;switch(E.tag){case 0:case 11:case 15:wo(m,E,A,k,f),ou(8,E);break;case 23:break;case 22:var te=E.stateNode;E.memoizedState!==null?te._visibility&2?wo(m,E,A,k,f):uu(m,E):(te._visibility|=2,wo(m,E,A,k,f)),f&&Y&2048&&Fp(E.alternate,E);break;case 24:wo(m,E,A,k,f),f&&Y&2048&&Hp(E.alternate,E);break;default:wo(m,E,A,k,f)}s=s.sibling}}function uu(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=r,u=s,f=u.flags;switch(u.tag){case 22:uu(o,u),f&2048&&Fp(u.alternate,u);break;case 24:uu(o,u),f&2048&&Hp(u.alternate,u);break;default:uu(o,u)}s=s.sibling}}var cu=8192;function So(r){if(r.subtreeFlags&cu)for(r=r.child;r!==null;)s0(r),r=r.sibling}function s0(r){switch(r.tag){case 26:So(r),r.flags&cu&&r.memoizedState!==null&&tC(Ar,r.memoizedState,r.memoizedProps);break;case 5:So(r);break;case 3:case 4:var s=Ar;Ar=qh(r.stateNode.containerInfo),So(r),Ar=s;break;case 22:r.memoizedState===null&&(s=r.alternate,s!==null&&s.memoizedState!==null?(s=cu,cu=16777216,So(r),cu=s):So(r));break;default:So(r)}}function a0(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function hu(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];Yt=u,l0(u,r)}a0(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)o0(r),r=r.sibling}function o0(r){switch(r.tag){case 0:case 11:case 15:hu(r),r.flags&2048&&os(9,r,r.return);break;case 3:hu(r);break;case 12:hu(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&2&&(r.return===null||r.return.tag!==13)?(s._visibility&=-3,Oh(r)):hu(r);break;default:hu(r)}}function Oh(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];Yt=u,l0(u,r)}a0(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:os(8,s,s.return),Oh(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,Oh(s));break;default:Oh(s)}r=r.sibling}}function l0(r,s){for(;Yt!==null;){var o=Yt;switch(o.tag){case 0:case 11:case 15:os(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Kl(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Yt=u;else e:for(o=r;Yt!==null;){u=Yt;var f=u.sibling,m=u.return;if(Z_(u),u===o){Yt=null;break e}if(f!==null){f.return=m,Yt=f;break e}Yt=m}}}var v1={getCacheForType:function(r){var s=pn(Lt),o=s.data.get(r);return o===void 0&&(o=r(),s.data.set(r,o)),o}},y1=typeof WeakMap=="function"?WeakMap:Map,Ze=0,lt=null,Ve=null,Fe=0,et=0,Gn=null,cs=!1,Ro=!1,Gp=!1,ki=0,Et=0,hs=0,ba=0,$p=0,lr=0,Co=0,fu=null,Nn=null,Kp=!1,Yp=0,Nh=1/0,Dh=null,fs=null,nn=0,ds=null,Io=null,xo=0,Qp=0,Xp=null,u0=null,du=0,Wp=null;function $n(){if((Ze&2)!==0&&Fe!==0)return Fe&-Fe;if(Z.T!==null){var r=go;return r!==0?r:im()}return Yi()}function c0(){lr===0&&(lr=(Fe&536870912)===0||Ke?Tl():536870912);var r=or.current;return r!==null&&(r.flags|=32),lr}function Kn(r,s,o){(r===lt&&(et===2||et===9)||r.cancelPendingCommit!==null)&&(Oo(r,0),ps(r,Fe,lr,!1)),fi(r,o),((Ze&2)===0||r!==lt)&&(r===lt&&((Ze&2)===0&&(ba|=o),Et===4&&ps(r,Fe,lr,!1)),Kr(r))}function h0(r,s,o){if((Ze&6)!==0)throw Error(i(327));var u=!o&&(s&124)===0&&(s&r.expiredLanes)===0||Ks(r,s),f=u?b1(r,s):em(r,s,!0),m=u;do{if(f===0){Ro&&!u&&ps(r,s,0,!1);break}else{if(o=r.current.alternate,m&&!_1(o)){f=em(r,s,!1),m=!1;continue}if(f===2){if(m=s,r.errorRecoveryDisabledLanes&m)var E=0;else E=r.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){s=E;e:{var A=r;f=fu;var k=A.current.memoizedState.isDehydrated;if(k&&(Oo(A,E).flags|=256),E=em(A,E,!1),E!==2){if(Gp&&!k){A.errorRecoveryDisabledLanes|=m,ba|=m,f=4;break e}m=Nn,Nn=f,m!==null&&(Nn===null?Nn=m:Nn.push.apply(Nn,m))}f=E}if(m=!1,f!==2)continue}}if(f===1){Oo(r,0),ps(r,s,0,!0);break}e:{switch(u=r,m=f,m){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:ps(u,s,lr,!cs);break e;case 2:Nn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(f=Yp+300-Ce(),10<f)){if(ps(u,s,lr,!cs),$a(u,0,!0)!==0)break e;u.timeoutHandle=B0(f0.bind(null,u,o,Nn,Dh,Kp,s,lr,ba,Co,cs,m,2,-0,0),f);break e}f0(u,o,Nn,Dh,Kp,s,lr,ba,Co,cs,m,0,-0,0)}}break}while(!0);Kr(r)}function f0(r,s,o,u,f,m,E,A,k,Y,te,ie,X,W){if(r.timeoutHandle=-1,ie=s.subtreeFlags,(ie&8192||(ie&16785408)===16785408)&&(Eu={stylesheets:null,count:0,unsuspend:eC},s0(s),ie=nC(),ie!==null)){r.cancelPendingCommit=ie(_0.bind(null,r,s,m,o,u,f,E,A,k,te,1,X,W)),ps(r,m,E,!Y);return}_0(r,s,m,o,u,f,E,A,k)}function _1(r){for(var s=r;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var f=o[u],m=f.getSnapshot;f=f.value;try{if(!zn(m(),f))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ps(r,s,o,u){s&=~$p,s&=~ba,r.suspendedLanes|=s,r.pingedLanes&=~s,u&&(r.warmLanes|=s),u=r.expirationTimes;for(var f=s;0<f;){var m=31-dn(f),E=1<<m;u[m]=-1,f&=~E}o!==0&&Dr(r,o,s)}function Ph(){return(Ze&6)===0?(pu(0),!1):!0}function Jp(){if(Ve!==null){if(et===0)var r=Ve.return;else r=Ve,Ri=ma=null,mp(r),To=null,iu=0,r=Ve;for(;r!==null;)G_(r.alternate,r),r=r.return;Ve=null}}function Oo(r,s){var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,L1(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),Jp(),lt=r,Ve=o=Ai(r.current,null),Fe=s,et=0,Gn=null,cs=!1,Ro=Ks(r,s),Gp=!1,Co=lr=$p=ba=hs=Et=0,Nn=fu=null,Kp=!1,(s&8)!==0&&(s|=s&32);var u=r.entangledLanes;if(u!==0)for(r=r.entanglements,u&=s;0<u;){var f=31-dn(u),m=1<<f;s|=r[f],u&=~m}return ki=s,th(),o}function d0(r,s){Pe=null,Z.H=Eh,s===Ql||s===ch?(s=Oy(),et=3):s===Cy?(s=Oy(),et=4):et=s===N_?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Gn=s,Ve===null&&(Et=1,Sh(r,rr(s,r.current)))}function p0(){var r=Z.H;return Z.H=Eh,r===null?Eh:r}function m0(){var r=Z.A;return Z.A=v1,r}function Zp(){Et=4,cs||(Fe&4194048)!==Fe&&or.current!==null||(Ro=!0),(hs&134217727)===0&&(ba&134217727)===0||lt===null||ps(lt,Fe,lr,!1)}function em(r,s,o){var u=Ze;Ze|=2;var f=p0(),m=m0();(lt!==r||Fe!==s)&&(Dh=null,Oo(r,s)),s=!1;var E=Et;e:do try{if(et!==0&&Ve!==null){var A=Ve,k=Gn;switch(et){case 8:Jp(),E=6;break e;case 3:case 2:case 9:case 6:or.current===null&&(s=!0);var Y=et;if(et=0,Gn=null,No(r,A,k,Y),o&&Ro){E=0;break e}break;default:Y=et,et=0,Gn=null,No(r,A,k,Y)}}E1(),E=Et;break}catch(te){d0(r,te)}while(!0);return s&&r.shellSuspendCounter++,Ri=ma=null,Ze=u,Z.H=f,Z.A=m,Ve===null&&(lt=null,Fe=0,th()),E}function E1(){for(;Ve!==null;)g0(Ve)}function b1(r,s){var o=Ze;Ze|=2;var u=p0(),f=m0();lt!==r||Fe!==s?(Dh=null,Nh=Ce()+500,Oo(r,s)):Ro=Ks(r,s);e:do try{if(et!==0&&Ve!==null){s=Ve;var m=Gn;t:switch(et){case 1:et=0,Gn=null,No(r,s,m,1);break;case 2:case 9:if(Iy(m)){et=0,Gn=null,v0(s);break}s=function(){et!==2&&et!==9||lt!==r||(et=7),Kr(r)},m.then(s,s);break e;case 3:et=7;break e;case 4:et=5;break e;case 7:Iy(m)?(et=0,Gn=null,v0(s)):(et=0,Gn=null,No(r,s,m,7));break;case 5:var E=null;switch(Ve.tag){case 26:E=Ve.memoizedState;case 5:case 27:var A=Ve;if(!E||J0(E)){et=0,Gn=null;var k=A.sibling;if(k!==null)Ve=k;else{var Y=A.return;Y!==null?(Ve=Y,kh(Y)):Ve=null}break t}}et=0,Gn=null,No(r,s,m,5);break;case 6:et=0,Gn=null,No(r,s,m,6);break;case 8:Jp(),Et=6;break e;default:throw Error(i(462))}}T1();break}catch(te){d0(r,te)}while(!0);return Ri=ma=null,Z.H=u,Z.A=f,Ze=o,Ve!==null?0:(lt=null,Fe=0,th(),Et)}function T1(){for(;Ve!==null&&!cn();)g0(Ve)}function g0(r){var s=F_(r.alternate,r,ki);r.memoizedProps=r.pendingProps,s===null?kh(r):Ve=s}function v0(r){var s=r,o=s.alternate;switch(s.tag){case 15:case 0:s=L_(o,s,s.pendingProps,s.type,void 0,Fe);break;case 11:s=L_(o,s,s.pendingProps,s.type.render,s.ref,Fe);break;case 5:mp(s);default:G_(o,s),s=Ve=yy(s,ki),s=F_(o,s,ki)}r.memoizedProps=r.pendingProps,s===null?kh(r):Ve=s}function No(r,s,o,u){Ri=ma=null,mp(s),To=null,iu=0;var f=s.return;try{if(h1(r,f,s,o,Fe)){Et=1,Sh(r,rr(o,r.current)),Ve=null;return}}catch(m){if(f!==null)throw Ve=f,m;Et=1,Sh(r,rr(o,r.current)),Ve=null;return}s.flags&32768?(Ke||u===1?r=!0:Ro||(Fe&536870912)!==0?r=!1:(cs=r=!0,(u===2||u===9||u===3||u===6)&&(u=or.current,u!==null&&u.tag===13&&(u.flags|=16384))),y0(s,r)):kh(s)}function kh(r){var s=r;do{if((s.flags&32768)!==0){y0(s,cs);return}r=s.return;var o=d1(s.alternate,s,ki);if(o!==null){Ve=o;return}if(s=s.sibling,s!==null){Ve=s;return}Ve=s=r}while(s!==null);Et===0&&(Et=5)}function y0(r,s){do{var o=p1(r.alternate,r);if(o!==null){o.flags&=32767,Ve=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(r=r.sibling,r!==null)){Ve=r;return}Ve=r=o}while(r!==null);Et=6,Ve=null}function _0(r,s,o,u,f,m,E,A,k){r.cancelPendingCommit=null;do Mh();while(nn!==0);if((Ze&6)!==0)throw Error(i(327));if(s!==null){if(s===r.current)throw Error(i(177));if(m=s.lanes|s.childLanes,m|=Hd,wl(r,o,m,E,A,k),r===lt&&(Ve=lt=null,Fe=0),Io=s,ds=r,xo=o,Qp=m,Xp=f,u0=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,R1(Rt,function(){return w0(),null})):(r.callbackNode=null,r.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=Z.T,Z.T=null,f=oe.p,oe.p=2,E=Ze,Ze|=4;try{m1(r,s,o)}finally{Ze=E,oe.p=f,Z.T=u}}nn=1,E0(),b0(),T0()}}function E0(){if(nn===1){nn=0;var r=ds,s=Io,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=Z.T,Z.T=null;var u=oe.p;oe.p=2;var f=Ze;Ze|=4;try{n0(s,r);var m=fm,E=ly(r.containerInfo),A=m.focusedElem,k=m.selectionRange;if(E!==A&&A&&A.ownerDocument&&oy(A.ownerDocument.documentElement,A)){if(k!==null&&jd(A)){var Y=k.start,te=k.end;if(te===void 0&&(te=Y),"selectionStart"in A)A.selectionStart=Y,A.selectionEnd=Math.min(te,A.value.length);else{var ie=A.ownerDocument||document,X=ie&&ie.defaultView||window;if(X.getSelection){var W=X.getSelection(),Re=A.textContent.length,Te=Math.min(k.start,Re),st=k.end===void 0?Te:Math.min(k.end,Re);!W.extend&&Te>st&&(E=st,st=Te,Te=E);var H=ay(A,Te),B=ay(A,st);if(H&&B&&(W.rangeCount!==1||W.anchorNode!==H.node||W.anchorOffset!==H.offset||W.focusNode!==B.node||W.focusOffset!==B.offset)){var K=ie.createRange();K.setStart(H.node,H.offset),W.removeAllRanges(),Te>st?(W.addRange(K),W.extend(B.node,B.offset)):(K.setEnd(B.node,B.offset),W.addRange(K))}}}}for(ie=[],W=A;W=W.parentNode;)W.nodeType===1&&ie.push({element:W,left:W.scrollLeft,top:W.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<ie.length;A++){var ne=ie[A];ne.element.scrollLeft=ne.left,ne.element.scrollTop=ne.top}}Kh=!!hm,fm=hm=null}finally{Ze=f,oe.p=u,Z.T=o}}r.current=s,nn=2}}function b0(){if(nn===2){nn=0;var r=ds,s=Io,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=Z.T,Z.T=null;var u=oe.p;oe.p=2;var f=Ze;Ze|=4;try{J_(r,s.alternate,s)}finally{Ze=f,oe.p=u,Z.T=o}}nn=3}}function T0(){if(nn===4||nn===3){nn=0,ut();var r=ds,s=Io,o=xo,u=u0;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?nn=5:(nn=0,Io=ds=null,A0(r,r.pendingLanes));var f=r.pendingLanes;if(f===0&&(fs=null),Ka(o),s=s.stateNode,Ge&&typeof Ge.onCommitFiberRoot=="function")try{Ge.onCommitFiberRoot(ct,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=Z.T,f=oe.p,oe.p=2,Z.T=null;try{for(var m=r.onRecoverableError,E=0;E<u.length;E++){var A=u[E];m(A.value,{componentStack:A.stack})}}finally{Z.T=s,oe.p=f}}(xo&3)!==0&&Mh(),Kr(r),f=r.pendingLanes,(o&4194090)!==0&&(f&42)!==0?r===Wp?du++:(du=0,Wp=r):du=0,pu(0)}}function A0(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,Kl(s)))}function Mh(r){return E0(),b0(),T0(),w0()}function w0(){if(nn!==5)return!1;var r=ds,s=Qp;Qp=0;var o=Ka(xo),u=Z.T,f=oe.p;try{oe.p=32>o?32:o,Z.T=null,o=Xp,Xp=null;var m=ds,E=xo;if(nn=0,Io=ds=null,xo=0,(Ze&6)!==0)throw Error(i(331));var A=Ze;if(Ze|=4,o0(m.current),i0(m,m.current,E,o),Ze=A,pu(0,!1),Ge&&typeof Ge.onPostCommitFiberRoot=="function")try{Ge.onPostCommitFiberRoot(ct,m)}catch{}return!0}finally{oe.p=f,Z.T=u,A0(r,s)}}function S0(r,s,o){s=rr(o,s),s=xp(r.stateNode,s,2),r=rs(r,s,2),r!==null&&(fi(r,2),Kr(r))}function ot(r,s,o){if(r.tag===3)S0(r,r,o);else for(;s!==null;){if(s.tag===3){S0(s,r,o);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(fs===null||!fs.has(u))){r=rr(o,r),o=x_(2),u=rs(s,o,2),u!==null&&(O_(o,u,s,r),fi(u,2),Kr(u));break}}s=s.return}}function tm(r,s,o){var u=r.pingCache;if(u===null){u=r.pingCache=new y1;var f=new Set;u.set(s,f)}else f=u.get(s),f===void 0&&(f=new Set,u.set(s,f));f.has(o)||(Gp=!0,f.add(o),r=A1.bind(null,r,s,o),s.then(r,r))}function A1(r,s,o){var u=r.pingCache;u!==null&&u.delete(s),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,lt===r&&(Fe&o)===o&&(Et===4||Et===3&&(Fe&62914560)===Fe&&300>Ce()-Yp?(Ze&2)===0&&Oo(r,0):$p|=o,Co===Fe&&(Co=0)),Kr(r)}function R0(r,s){s===0&&(s=Al()),r=ho(r,s),r!==null&&(fi(r,s),Kr(r))}function w1(r){var s=r.memoizedState,o=0;s!==null&&(o=s.retryLane),R0(r,o)}function S1(r,s){var o=0;switch(r.tag){case 13:var u=r.stateNode,f=r.memoizedState;f!==null&&(o=f.retryLane);break;case 19:u=r.stateNode;break;case 22:u=r.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(s),R0(r,o)}function R1(r,s){return Wn(r,s)}var Vh=null,Do=null,nm=!1,Lh=!1,rm=!1,Ta=0;function Kr(r){r!==Do&&r.next===null&&(Do===null?Vh=Do=r:Do=Do.next=r),Lh=!0,nm||(nm=!0,I1())}function pu(r,s){if(!rm&&Lh){rm=!0;do for(var o=!1,u=Vh;u!==null;){if(r!==0){var f=u.pendingLanes;if(f===0)var m=0;else{var E=u.suspendedLanes,A=u.pingedLanes;m=(1<<31-dn(42|r)+1)-1,m&=f&~(E&~A),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(o=!0,O0(u,m))}else m=Fe,m=$a(u,u===lt?m:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(m&3)===0||Ks(u,m)||(o=!0,O0(u,m));u=u.next}while(o);rm=!1}}function C1(){C0()}function C0(){Lh=nm=!1;var r=0;Ta!==0&&(V1()&&(r=Ta),Ta=0);for(var s=Ce(),o=null,u=Vh;u!==null;){var f=u.next,m=I0(u,s);m===0?(u.next=null,o===null?Vh=f:o.next=f,f===null&&(Do=o)):(o=u,(r!==0||(m&3)!==0)&&(Lh=!0)),u=f}pu(r)}function I0(r,s){for(var o=r.suspendedLanes,u=r.pingedLanes,f=r.expirationTimes,m=r.pendingLanes&-62914561;0<m;){var E=31-dn(m),A=1<<E,k=f[E];k===-1?((A&o)===0||(A&u)!==0)&&(f[E]=bl(A,s)):k<=s&&(r.expiredLanes|=A),m&=~A}if(s=lt,o=Fe,o=$a(r,r===s?o:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u=r.callbackNode,o===0||r===s&&(et===2||et===9)||r.cancelPendingCommit!==null)return u!==null&&u!==null&&Ht(u),r.callbackNode=null,r.callbackPriority=0;if((o&3)===0||Ks(r,o)){if(s=o&-o,s===r.callbackPriority)return s;switch(u!==null&&Ht(u),Ka(o)){case 2:case 8:o=tt;break;case 32:o=Rt;break;case 268435456:o=Jt;break;default:o=Rt}return u=x0.bind(null,r),o=Wn(o,u),r.callbackPriority=s,r.callbackNode=o,s}return u!==null&&u!==null&&Ht(u),r.callbackPriority=2,r.callbackNode=null,2}function x0(r,s){if(nn!==0&&nn!==5)return r.callbackNode=null,r.callbackPriority=0,null;var o=r.callbackNode;if(Mh()&&r.callbackNode!==o)return null;var u=Fe;return u=$a(r,r===lt?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u===0?null:(h0(r,u,s),I0(r,Ce()),r.callbackNode!=null&&r.callbackNode===o?x0.bind(null,r):null)}function O0(r,s){if(Mh())return null;h0(r,s,!0)}function I1(){U1(function(){(Ze&6)!==0?Wn(Cn,C1):C0()})}function im(){return Ta===0&&(Ta=Tl()),Ta}function N0(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Za(""+r)}function D0(r,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,r.id&&o.setAttribute("form",r.id),s.parentNode.insertBefore(o,s),r=new FormData(r),o.parentNode.removeChild(o),r}function x1(r,s,o,u,f){if(s==="submit"&&o&&o.stateNode===f){var m=N0((f[Ct]||null).action),E=u.submitter;E&&(s=(s=E[Ct]||null)?N0(s.formAction):E.getAttribute("formAction"),s!==null&&(m=s,E=null));var A=new eo("action","action",null,u,f);r.push({event:A,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Ta!==0){var k=E?D0(f,E):new FormData(f);wp(o,{pending:!0,data:k,method:f.method,action:m},null,k)}}else typeof m=="function"&&(A.preventDefault(),k=E?D0(f,E):new FormData(f),wp(o,{pending:!0,data:k,method:f.method,action:m},m,k))},currentTarget:f}]})}}for(var sm=0;sm<Fd.length;sm++){var am=Fd[sm],O1=am.toLowerCase(),N1=am[0].toUpperCase()+am.slice(1);Tr(O1,"on"+N1)}Tr(hy,"onAnimationEnd"),Tr(fy,"onAnimationIteration"),Tr(dy,"onAnimationStart"),Tr("dblclick","onDoubleClick"),Tr("focusin","onFocus"),Tr("focusout","onBlur"),Tr(YR,"onTransitionRun"),Tr(QR,"onTransitionStart"),Tr(XR,"onTransitionCancel"),Tr(py,"onTransitionEnd"),pi("onMouseEnter",["mouseout","mouseover"]),pi("onMouseLeave",["mouseout","mouseover"]),pi("onPointerEnter",["pointerout","pointerover"]),pi("onPointerLeave",["pointerout","pointerover"]),Er("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Er("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Er("onBeforeInput",["compositionend","keypress","textInput","paste"]),Er("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Er("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Er("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),D1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(mu));function P0(r,s){s=(s&4)!==0;for(var o=0;o<r.length;o++){var u=r[o],f=u.event;u=u.listeners;e:{var m=void 0;if(s)for(var E=u.length-1;0<=E;E--){var A=u[E],k=A.instance,Y=A.currentTarget;if(A=A.listener,k!==m&&f.isPropagationStopped())break e;m=A,f.currentTarget=Y;try{m(f)}catch(te){wh(te)}f.currentTarget=null,m=k}else for(E=0;E<u.length;E++){if(A=u[E],k=A.instance,Y=A.currentTarget,A=A.listener,k!==m&&f.isPropagationStopped())break e;m=A,f.currentTarget=Y;try{m(f)}catch(te){wh(te)}f.currentTarget=null,m=k}}}}function Le(r,s){var o=s[Rl];o===void 0&&(o=s[Rl]=new Set);var u=r+"__bubble";o.has(u)||(k0(s,r,2,!1),o.add(u))}function om(r,s,o){var u=0;s&&(u|=4),k0(o,r,u,s)}var Uh="_reactListening"+Math.random().toString(36).slice(2);function lm(r){if(!r[Uh]){r[Uh]=!0,Cl.forEach(function(o){o!=="selectionchange"&&(D1.has(o)||om(o,!1,r),om(o,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[Uh]||(s[Uh]=!0,om("selectionchange",!1,s))}}function k0(r,s,o,u){switch(iE(s)){case 2:var f=sC;break;case 8:f=aC;break;default:f=Tm}o=f.bind(null,s,o,r),f=void 0,!tr||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),u?f!==void 0?r.addEventListener(s,o,{capture:!0,passive:f}):r.addEventListener(s,o,!0):f!==void 0?r.addEventListener(s,o,{passive:f}):r.addEventListener(s,o,!1)}function um(r,s,o,u,f){var m=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var E=u.tag;if(E===3||E===4){var A=u.stateNode.containerInfo;if(A===f)break;if(E===4)for(E=u.return;E!==null;){var k=E.tag;if((k===3||k===4)&&E.stateNode.containerInfo===f)return;E=E.return}for(;A!==null;){if(E=di(A),E===null)return;if(k=E.tag,k===5||k===6||k===26||k===27){u=m=E;continue e}A=A.parentNode}}u=u.return}Bc(function(){var Y=m,te=er(o),ie=[];e:{var X=my.get(r);if(X!==void 0){var W=eo,Re=r;switch(r){case"keypress":if(Ur(o)===0)break e;case"keydown":case"keyup":W=ao;break;case"focusin":Re="focus",W=ro;break;case"focusout":Re="blur",W=ro;break;case"beforeblur":case"afterblur":W=ro;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=nr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=Md;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=Yc;break;case hy:case fy:case dy:W=io;break;case py:W=Xc;break;case"scroll":case"scrollend":W=zc;break;case"wheel":W=oo;break;case"copy":case"cut":case"paste":W=so;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=jl;break;case"toggle":case"beforetoggle":W=Jc}var Te=(s&4)!==0,st=!Te&&(r==="scroll"||r==="scrollend"),H=Te?X!==null?X+"Capture":null:X;Te=[];for(var B=Y,K;B!==null;){var ne=B;if(K=ne.stateNode,ne=ne.tag,ne!==5&&ne!==26&&ne!==27||K===null||H===null||(ne=ta(B,H),ne!=null&&Te.push(gu(B,ne,K))),st)break;B=B.return}0<Te.length&&(X=new W(X,Re,null,o,te),ie.push({event:X,listeners:Te}))}}if((s&7)===0){e:{if(X=r==="mouseover"||r==="pointerover",W=r==="mouseout"||r==="pointerout",X&&o!==vi&&(Re=o.relatedTarget||o.fromElement)&&(di(Re)||Re[Jn]))break e;if((W||X)&&(X=te.window===te?te:(X=te.ownerDocument)?X.defaultView||X.parentWindow:window,W?(Re=o.relatedTarget||o.toElement,W=Y,Re=Re?di(Re):null,Re!==null&&(st=l(Re),Te=Re.tag,Re!==st||Te!==5&&Te!==27&&Te!==6)&&(Re=null)):(W=null,Re=Y),W!==Re)){if(Te=nr,ne="onMouseLeave",H="onMouseEnter",B="mouse",(r==="pointerout"||r==="pointerover")&&(Te=jl,ne="onPointerLeave",H="onPointerEnter",B="pointer"),st=W==null?X:kr(W),K=Re==null?X:kr(Re),X=new Te(ne,B+"leave",W,o,te),X.target=st,X.relatedTarget=K,ne=null,di(te)===Y&&(Te=new Te(H,B+"enter",Re,o,te),Te.target=K,Te.relatedTarget=st,ne=Te),st=ne,W&&Re)t:{for(Te=W,H=Re,B=0,K=Te;K;K=Po(K))B++;for(K=0,ne=H;ne;ne=Po(ne))K++;for(;0<B-K;)Te=Po(Te),B--;for(;0<K-B;)H=Po(H),K--;for(;B--;){if(Te===H||H!==null&&Te===H.alternate)break t;Te=Po(Te),H=Po(H)}Te=null}else Te=null;W!==null&&M0(ie,X,W,Te,!1),Re!==null&&st!==null&&M0(ie,st,Re,Te,!0)}}e:{if(X=Y?kr(Y):window,W=X.nodeName&&X.nodeName.toLowerCase(),W==="select"||W==="input"&&X.type==="file")var me=ey;else if(Vt(X))if(ty)me=GR;else{me=FR;var Me=qR}else W=X.nodeName,!W||W.toLowerCase()!=="input"||X.type!=="checkbox"&&X.type!=="radio"?Y&&Dl(Y.elementType)&&(me=ey):me=HR;if(me&&(me=me(r,Y))){Ti(ie,me,o,te);break e}Me&&Me(r,X,Y),r==="focusout"&&Y&&X.type==="number"&&Y.memoizedProps.value!=null&&Ji(X,"number",X.value)}switch(Me=Y?kr(Y):window,r){case"focusin":(Vt(Me)||Me.contentEditable==="true")&&(lo=Me,Bd=Y,ql=null);break;case"focusout":ql=Bd=lo=null;break;case"mousedown":zd=!0;break;case"contextmenu":case"mouseup":case"dragend":zd=!1,uy(ie,o,te);break;case"selectionchange":if(KR)break;case"keydown":case"keyup":uy(ie,o,te)}var _e;if(zr)e:{switch(r){case"compositionstart":var Ae="onCompositionStart";break e;case"compositionend":Ae="onCompositionEnd";break e;case"compositionupdate":Ae="onCompositionUpdate";break e}Ae=void 0}else ze?ee(r,o)&&(Ae="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(Ae="onCompositionStart");Ae&&(_&&o.locale!=="ko"&&(ze||Ae!=="onCompositionStart"?Ae==="onCompositionEnd"&&ze&&(_e=kl()):(Lr=te,Zi="value"in Lr?Lr.value:Lr.textContent,ze=!0)),Me=jh(Y,Ae),0<Me.length&&(Ae=new Ll(Ae,r,null,o,te),ie.push({event:Ae,listeners:Me}),_e?Ae.data=_e:(_e=ce(o),_e!==null&&(Ae.data=_e)))),(_e=y?Mt(r,o):qe(r,o))&&(Ae=jh(Y,"onBeforeInput"),0<Ae.length&&(Me=new Ll("onBeforeInput","beforeinput",null,o,te),ie.push({event:Me,listeners:Ae}),Me.data=_e)),x1(ie,r,Y,o,te)}P0(ie,s)})}function gu(r,s,o){return{instance:r,listener:s,currentTarget:o}}function jh(r,s){for(var o=s+"Capture",u=[];r!==null;){var f=r,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=ta(r,o),f!=null&&u.unshift(gu(r,f,m)),f=ta(r,s),f!=null&&u.push(gu(r,f,m))),r.tag===3)return u;r=r.return}return[]}function Po(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function M0(r,s,o,u,f){for(var m=s._reactName,E=[];o!==null&&o!==u;){var A=o,k=A.alternate,Y=A.stateNode;if(A=A.tag,k!==null&&k===u)break;A!==5&&A!==26&&A!==27||Y===null||(k=Y,f?(Y=ta(o,m),Y!=null&&E.unshift(gu(o,Y,k))):f||(Y=ta(o,m),Y!=null&&E.push(gu(o,Y,k)))),o=o.return}E.length!==0&&r.push({event:s,listeners:E})}var P1=/\r\n?/g,k1=/\u0000|\uFFFD/g;function V0(r){return(typeof r=="string"?r:""+r).replace(P1,`
`).replace(k1,"")}function L0(r,s){return s=V0(s),V0(r)===s}function Bh(){}function it(r,s,o,u,f,m){switch(o){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||Zn(r,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&Zn(r,""+u);break;case"className":Mr(r,"class",u);break;case"tabIndex":Mr(r,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Mr(r,o,u);break;case"style":Nl(r,u,m);break;case"data":if(s!=="object"){Mr(r,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||o!=="href")){r.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=Za(""+u),r.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(o==="formAction"?(s!=="input"&&it(r,s,"name",f.name,f,null),it(r,s,"formEncType",f.formEncType,f,null),it(r,s,"formMethod",f.formMethod,f,null),it(r,s,"formTarget",f.formTarget,f,null)):(it(r,s,"encType",f.encType,f,null),it(r,s,"method",f.method,f,null),it(r,s,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=Za(""+u),r.setAttribute(o,u);break;case"onClick":u!=null&&(r.onclick=Bh);break;case"onScroll":u!=null&&Le("scroll",r);break;case"onScrollEnd":u!=null&&Le("scrollend",r);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"multiple":r.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":r.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){r.removeAttribute("xlink:href");break}o=Za(""+u),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""+u):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":u===!0?r.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,u):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?r.setAttribute(o,u):r.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?r.removeAttribute(o):r.setAttribute(o,u);break;case"popover":Le("beforetoggle",r),Le("toggle",r),Wi(r,"popover",u);break;case"xlinkActuate":Zt(r,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Zt(r,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Zt(r,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Zt(r,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Zt(r,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Zt(r,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Zt(r,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Zt(r,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Zt(r,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Wi(r,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Pd.get(o)||o,Wi(r,o,u))}}function cm(r,s,o,u,f,m){switch(o){case"style":Nl(r,u,m);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"children":typeof u=="string"?Zn(r,u):(typeof u=="number"||typeof u=="bigint")&&Zn(r,""+u);break;case"onScroll":u!=null&&Le("scroll",r);break;case"onScrollEnd":u!=null&&Le("scrollend",r);break;case"onClick":u!=null&&(r.onclick=Bh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ya.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),s=o.slice(2,f?o.length-7:void 0),m=r[Ct]||null,m=m!=null?m[o]:null,typeof m=="function"&&r.removeEventListener(s,m,f),typeof u=="function")){typeof m!="function"&&m!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(s,u,f);break e}o in r?r[o]=u:u===!0?r.setAttribute(o,""):Wi(r,o,u)}}}function rn(r,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Le("error",r),Le("load",r);var u=!1,f=!1,m;for(m in o)if(o.hasOwnProperty(m)){var E=o[m];if(E!=null)switch(m){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:it(r,s,m,E,o,null)}}f&&it(r,s,"srcSet",o.srcSet,o,null),u&&it(r,s,"src",o.src,o,null);return;case"input":Le("invalid",r);var A=m=E=f=null,k=null,Y=null;for(u in o)if(o.hasOwnProperty(u)){var te=o[u];if(te!=null)switch(u){case"name":f=te;break;case"type":E=te;break;case"checked":k=te;break;case"defaultChecked":Y=te;break;case"value":m=te;break;case"defaultValue":A=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(i(137,s));break;default:it(r,s,u,te,o,null)}}Js(r,m,A,k,Y,E,f,!1),Ja(r);return;case"select":Le("invalid",r),u=E=m=null;for(f in o)if(o.hasOwnProperty(f)&&(A=o[f],A!=null))switch(f){case"value":m=A;break;case"defaultValue":E=A;break;case"multiple":u=A;default:it(r,s,f,A,o,null)}s=m,o=E,r.multiple=!!u,s!=null?gi(r,!!u,s,!1):o!=null&&gi(r,!!u,o,!0);return;case"textarea":Le("invalid",r),m=f=u=null;for(E in o)if(o.hasOwnProperty(E)&&(A=o[E],A!=null))switch(E){case"value":u=A;break;case"defaultValue":f=A;break;case"children":m=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(i(91));break;default:it(r,s,E,A,o,null)}Zs(r,u,f,m),Ja(r);return;case"option":for(k in o)if(o.hasOwnProperty(k)&&(u=o[k],u!=null))switch(k){case"selected":r.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:it(r,s,k,u,o,null)}return;case"dialog":Le("beforetoggle",r),Le("toggle",r),Le("cancel",r),Le("close",r);break;case"iframe":case"object":Le("load",r);break;case"video":case"audio":for(u=0;u<mu.length;u++)Le(mu[u],r);break;case"image":Le("error",r),Le("load",r);break;case"details":Le("toggle",r);break;case"embed":case"source":case"link":Le("error",r),Le("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in o)if(o.hasOwnProperty(Y)&&(u=o[Y],u!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:it(r,s,Y,u,o,null)}return;default:if(Dl(s)){for(te in o)o.hasOwnProperty(te)&&(u=o[te],u!==void 0&&cm(r,s,te,u,o,void 0));return}}for(A in o)o.hasOwnProperty(A)&&(u=o[A],u!=null&&it(r,s,A,u,o,null))}function M1(r,s,o,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,E=null,A=null,k=null,Y=null,te=null;for(W in o){var ie=o[W];if(o.hasOwnProperty(W)&&ie!=null)switch(W){case"checked":break;case"value":break;case"defaultValue":k=ie;default:u.hasOwnProperty(W)||it(r,s,W,null,u,ie)}}for(var X in u){var W=u[X];if(ie=o[X],u.hasOwnProperty(X)&&(W!=null||ie!=null))switch(X){case"type":m=W;break;case"name":f=W;break;case"checked":Y=W;break;case"defaultChecked":te=W;break;case"value":E=W;break;case"defaultValue":A=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(i(137,s));break;default:W!==ie&&it(r,s,X,W,u,ie)}}Bn(r,E,A,k,Y,te,m,f);return;case"select":W=E=A=X=null;for(m in o)if(k=o[m],o.hasOwnProperty(m)&&k!=null)switch(m){case"value":break;case"multiple":W=k;default:u.hasOwnProperty(m)||it(r,s,m,null,u,k)}for(f in u)if(m=u[f],k=o[f],u.hasOwnProperty(f)&&(m!=null||k!=null))switch(f){case"value":X=m;break;case"defaultValue":A=m;break;case"multiple":E=m;default:m!==k&&it(r,s,f,m,u,k)}s=A,o=E,u=W,X!=null?gi(r,!!o,X,!1):!!u!=!!o&&(s!=null?gi(r,!!o,s,!0):gi(r,!!o,o?[]:"",!1));return;case"textarea":W=X=null;for(A in o)if(f=o[A],o.hasOwnProperty(A)&&f!=null&&!u.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:it(r,s,A,null,u,f)}for(E in u)if(f=u[E],m=o[E],u.hasOwnProperty(E)&&(f!=null||m!=null))switch(E){case"value":X=f;break;case"defaultValue":W=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(i(91));break;default:f!==m&&it(r,s,E,f,u,m)}nt(r,X,W);return;case"option":for(var Re in o)if(X=o[Re],o.hasOwnProperty(Re)&&X!=null&&!u.hasOwnProperty(Re))switch(Re){case"selected":r.selected=!1;break;default:it(r,s,Re,null,u,X)}for(k in u)if(X=u[k],W=o[k],u.hasOwnProperty(k)&&X!==W&&(X!=null||W!=null))switch(k){case"selected":r.selected=X&&typeof X!="function"&&typeof X!="symbol";break;default:it(r,s,k,X,u,W)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Te in o)X=o[Te],o.hasOwnProperty(Te)&&X!=null&&!u.hasOwnProperty(Te)&&it(r,s,Te,null,u,X);for(Y in u)if(X=u[Y],W=o[Y],u.hasOwnProperty(Y)&&X!==W&&(X!=null||W!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(i(137,s));break;default:it(r,s,Y,X,u,W)}return;default:if(Dl(s)){for(var st in o)X=o[st],o.hasOwnProperty(st)&&X!==void 0&&!u.hasOwnProperty(st)&&cm(r,s,st,void 0,u,X);for(te in u)X=u[te],W=o[te],!u.hasOwnProperty(te)||X===W||X===void 0&&W===void 0||cm(r,s,te,X,u,W);return}}for(var H in o)X=o[H],o.hasOwnProperty(H)&&X!=null&&!u.hasOwnProperty(H)&&it(r,s,H,null,u,X);for(ie in u)X=u[ie],W=o[ie],!u.hasOwnProperty(ie)||X===W||X==null&&W==null||it(r,s,ie,X,u,W)}var hm=null,fm=null;function zh(r){return r.nodeType===9?r:r.ownerDocument}function U0(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function j0(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function dm(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var pm=null;function V1(){var r=window.event;return r&&r.type==="popstate"?r===pm?!1:(pm=r,!0):(pm=null,!1)}var B0=typeof setTimeout=="function"?setTimeout:void 0,L1=typeof clearTimeout=="function"?clearTimeout:void 0,z0=typeof Promise=="function"?Promise:void 0,U1=typeof queueMicrotask=="function"?queueMicrotask:typeof z0<"u"?function(r){return z0.resolve(null).then(r).catch(j1)}:B0;function j1(r){setTimeout(function(){throw r})}function ms(r){return r==="head"}function q0(r,s){var o=s,u=0,f=0;do{var m=o.nextSibling;if(r.removeChild(o),m&&m.nodeType===8)if(o=m.data,o==="/$"){if(0<u&&8>u){o=u;var E=r.ownerDocument;if(o&1&&vu(E.documentElement),o&2&&vu(E.body),o&4)for(o=E.head,vu(o),E=o.firstChild;E;){var A=E.nextSibling,k=E.nodeName;E[Ys]||k==="SCRIPT"||k==="STYLE"||k==="LINK"&&E.rel.toLowerCase()==="stylesheet"||o.removeChild(E),E=A}}if(f===0){r.removeChild(m),Su(s);return}f--}else o==="$"||o==="$?"||o==="$!"?f++:u=o.charCodeAt(0)-48;else u=0;o=m}while(o);Su(s)}function mm(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":mm(o),Xi(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function B1(r,s,o,u){for(;r.nodeType===1;){var f=o;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(u){if(!r[Ys])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(m=r.getAttribute("rel"),m==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(m!==f.rel||r.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||r.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||r.getAttribute("title")!==(f.title==null?null:f.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(m=r.getAttribute("src"),(m!==(f.src==null?null:f.src)||r.getAttribute("type")!==(f.type==null?null:f.type)||r.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&r.getAttribute("name")===m)return r}else return r;if(r=wr(r.nextSibling),r===null)break}return null}function z1(r,s,o){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=wr(r.nextSibling),r===null))return null;return r}function gm(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function q1(r,s){var o=r.ownerDocument;if(r.data!=="$?"||o.readyState==="complete")s();else{var u=function(){s(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),r._reactRetry=u}}function wr(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return r}var vm=null;function F0(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return r;s--}else o==="/$"&&s++}r=r.previousSibling}return null}function H0(r,s,o){switch(s=zh(o),r){case"html":if(r=s.documentElement,!r)throw Error(i(452));return r;case"head":if(r=s.head,!r)throw Error(i(453));return r;case"body":if(r=s.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function vu(r){for(var s=r.attributes;s.length;)r.removeAttributeNode(s[0]);Xi(r)}var ur=new Map,G0=new Set;function qh(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Mi=oe.d;oe.d={f:F1,r:H1,D:G1,C:$1,L:K1,m:Y1,X:X1,S:Q1,M:W1};function F1(){var r=Mi.f(),s=Ph();return r||s}function H1(r){var s=Pr(r);s!==null&&s.tag===5&&s.type==="form"?h_(s):Mi.r(r)}var ko=typeof document>"u"?null:document;function $0(r,s,o){var u=ko;if(u&&typeof s=="string"&&s){var f=It(s);f='link[rel="'+r+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),G0.has(f)||(G0.add(f),r={rel:r,crossOrigin:o,href:s},u.querySelector(f)===null&&(s=u.createElement("link"),rn(s,"link",r),bt(s),u.head.appendChild(s)))}}function G1(r){Mi.D(r),$0("dns-prefetch",r,null)}function $1(r,s){Mi.C(r,s),$0("preconnect",r,s)}function K1(r,s,o){Mi.L(r,s,o);var u=ko;if(u&&r&&s){var f='link[rel="preload"][as="'+It(s)+'"]';s==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+It(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+It(o.imageSizes)+'"]')):f+='[href="'+It(r)+'"]';var m=f;switch(s){case"style":m=Mo(r);break;case"script":m=Vo(r)}ur.has(m)||(r=v({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:r,as:s},o),ur.set(m,r),u.querySelector(f)!==null||s==="style"&&u.querySelector(yu(m))||s==="script"&&u.querySelector(_u(m))||(s=u.createElement("link"),rn(s,"link",r),bt(s),u.head.appendChild(s)))}}function Y1(r,s){Mi.m(r,s);var o=ko;if(o&&r){var u=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+It(u)+'"][href="'+It(r)+'"]',m=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Vo(r)}if(!ur.has(m)&&(r=v({rel:"modulepreload",href:r},s),ur.set(m,r),o.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(_u(m)))return}u=o.createElement("link"),rn(u,"link",r),bt(u),o.head.appendChild(u)}}}function Q1(r,s,o){Mi.S(r,s,o);var u=ko;if(u&&r){var f=Tn(u).hoistableStyles,m=Mo(r);s=s||"default";var E=f.get(m);if(!E){var A={loading:0,preload:null};if(E=u.querySelector(yu(m)))A.loading=5;else{r=v({rel:"stylesheet",href:r,"data-precedence":s},o),(o=ur.get(m))&&ym(r,o);var k=E=u.createElement("link");bt(k),rn(k,"link",r),k._p=new Promise(function(Y,te){k.onload=Y,k.onerror=te}),k.addEventListener("load",function(){A.loading|=1}),k.addEventListener("error",function(){A.loading|=2}),A.loading|=4,Fh(E,s,u)}E={type:"stylesheet",instance:E,count:1,state:A},f.set(m,E)}}}function X1(r,s){Mi.X(r,s);var o=ko;if(o&&r){var u=Tn(o).hoistableScripts,f=Vo(r),m=u.get(f);m||(m=o.querySelector(_u(f)),m||(r=v({src:r,async:!0},s),(s=ur.get(f))&&_m(r,s),m=o.createElement("script"),bt(m),rn(m,"link",r),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(f,m))}}function W1(r,s){Mi.M(r,s);var o=ko;if(o&&r){var u=Tn(o).hoistableScripts,f=Vo(r),m=u.get(f);m||(m=o.querySelector(_u(f)),m||(r=v({src:r,async:!0,type:"module"},s),(s=ur.get(f))&&_m(r,s),m=o.createElement("script"),bt(m),rn(m,"link",r),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(f,m))}}function K0(r,s,o,u){var f=(f=ye.current)?qh(f):null;if(!f)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=Mo(o.href),o=Tn(f).hoistableStyles,u=o.get(s),u||(u={type:"style",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=Mo(o.href);var m=Tn(f).hoistableStyles,E=m.get(r);if(E||(f=f.ownerDocument||f,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(r,E),(m=f.querySelector(yu(r)))&&!m._p&&(E.instance=m,E.state.loading=5),ur.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},ur.set(r,o),m||J1(f,r,o,E.state))),s&&u===null)throw Error(i(528,""));return E}if(s&&u!==null)throw Error(i(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Vo(o),o=Tn(f).hoistableScripts,u=o.get(s),u||(u={type:"script",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function Mo(r){return'href="'+It(r)+'"'}function yu(r){return'link[rel="stylesheet"]['+r+"]"}function Y0(r){return v({},r,{"data-precedence":r.precedence,precedence:null})}function J1(r,s,o,u){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=r.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),rn(s,"link",o),bt(s),r.head.appendChild(s))}function Vo(r){return'[src="'+It(r)+'"]'}function _u(r){return"script[async]"+r}function Q0(r,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var u=r.querySelector('style[data-href~="'+It(o.href)+'"]');if(u)return s.instance=u,bt(u),u;var f=v({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(r.ownerDocument||r).createElement("style"),bt(u),rn(u,"style",f),Fh(u,o.precedence,r),s.instance=u;case"stylesheet":f=Mo(o.href);var m=r.querySelector(yu(f));if(m)return s.state.loading|=4,s.instance=m,bt(m),m;u=Y0(o),(f=ur.get(f))&&ym(u,f),m=(r.ownerDocument||r).createElement("link"),bt(m);var E=m;return E._p=new Promise(function(A,k){E.onload=A,E.onerror=k}),rn(m,"link",u),s.state.loading|=4,Fh(m,o.precedence,r),s.instance=m;case"script":return m=Vo(o.src),(f=r.querySelector(_u(m)))?(s.instance=f,bt(f),f):(u=o,(f=ur.get(m))&&(u=v({},o),_m(u,f)),r=r.ownerDocument||r,f=r.createElement("script"),bt(f),rn(f,"link",u),r.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,Fh(u,o.precedence,r));return s.instance}function Fh(r,s,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,m=f,E=0;E<u.length;E++){var A=u[E];if(A.dataset.precedence===s)m=A;else if(m!==f)break}m?m.parentNode.insertBefore(r,m.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(r,s.firstChild))}function ym(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function _m(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var Hh=null;function X0(r,s,o){if(Hh===null){var u=new Map,f=Hh=new Map;f.set(o,u)}else f=Hh,u=f.get(o),u||(u=new Map,f.set(o,u));if(u.has(r))return u;for(u.set(r,null),o=o.getElementsByTagName(r),f=0;f<o.length;f++){var m=o[f];if(!(m[Ys]||m[kt]||r==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var E=m.getAttribute(s)||"";E=r+E;var A=u.get(E);A?A.push(m):u.set(E,[m])}}return u}function W0(r,s,o){r=r.ownerDocument||r,r.head.insertBefore(o,s==="title"?r.querySelector("head > title"):null)}function Z1(r,s,o){if(o===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return r=s.disabled,typeof s.precedence=="string"&&r==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function J0(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var Eu=null;function eC(){}function tC(r,s,o){if(Eu===null)throw Error(i(475));var u=Eu;if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var f=Mo(o.href),m=r.querySelector(yu(f));if(m){r=m._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(u.count++,u=Gh.bind(u),r.then(u,u)),s.state.loading|=4,s.instance=m,bt(m);return}m=r.ownerDocument||r,o=Y0(o),(f=ur.get(f))&&ym(o,f),m=m.createElement("link"),bt(m);var E=m;E._p=new Promise(function(A,k){E.onload=A,E.onerror=k}),rn(m,"link",o),s.instance=m}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(s,r),(r=s.state.preload)&&(s.state.loading&3)===0&&(u.count++,s=Gh.bind(u),r.addEventListener("load",s),r.addEventListener("error",s))}}function nC(){if(Eu===null)throw Error(i(475));var r=Eu;return r.stylesheets&&r.count===0&&Em(r,r.stylesheets),0<r.count?function(s){var o=setTimeout(function(){if(r.stylesheets&&Em(r,r.stylesheets),r.unsuspend){var u=r.unsuspend;r.unsuspend=null,u()}},6e4);return r.unsuspend=s,function(){r.unsuspend=null,clearTimeout(o)}}:null}function Gh(){if(this.count--,this.count===0){if(this.stylesheets)Em(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var $h=null;function Em(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,$h=new Map,s.forEach(rC,r),$h=null,Gh.call(r))}function rC(r,s){if(!(s.state.loading&4)){var o=$h.get(r);if(o)var u=o.get(null);else{o=new Map,$h.set(r,o);for(var f=r.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var E=f[m];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(o.set(E.dataset.precedence,E),u=E)}u&&o.set(null,u)}f=s.instance,E=f.getAttribute("data-precedence"),m=o.get(E)||u,m===u&&o.set(null,f),o.set(E,f),this.count++,u=Gh.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),m?m.parentNode.insertBefore(f,m.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(f,r.firstChild)),s.state.loading|=4}}var bu={$$typeof:j,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function iC(r,s,o,u,f,m,E,A){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=hi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hi(0),this.hiddenUpdates=hi(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function Z0(r,s,o,u,f,m,E,A,k,Y,te,ie){return r=new iC(r,s,o,E,A,k,Y,ie),s=1,m===!0&&(s|=24),m=qn(3,null,null,s),r.current=m,m.stateNode=r,s=tp(),s.refCount++,r.pooledCache=s,s.refCount++,m.memoizedState={element:u,isDehydrated:o,cache:s},sp(m),r}function eE(r){return r?(r=fo,r):fo}function tE(r,s,o,u,f,m){f=eE(f),u.context===null?u.context=f:u.pendingContext=f,u=ns(s),u.payload={element:o},m=m===void 0?null:m,m!==null&&(u.callback=m),o=rs(r,u,s),o!==null&&(Kn(o,r,s),Wl(o,r,s))}function nE(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<s?o:s}}function bm(r,s){nE(r,s),(r=r.alternate)&&nE(r,s)}function rE(r){if(r.tag===13){var s=ho(r,67108864);s!==null&&Kn(s,r,67108864),bm(r,67108864)}}var Kh=!0;function sC(r,s,o,u){var f=Z.T;Z.T=null;var m=oe.p;try{oe.p=2,Tm(r,s,o,u)}finally{oe.p=m,Z.T=f}}function aC(r,s,o,u){var f=Z.T;Z.T=null;var m=oe.p;try{oe.p=8,Tm(r,s,o,u)}finally{oe.p=m,Z.T=f}}function Tm(r,s,o,u){if(Kh){var f=Am(u);if(f===null)um(r,s,u,Yh,o),sE(r,u);else if(lC(f,r,s,o,u))u.stopPropagation();else if(sE(r,u),s&4&&-1<oC.indexOf(r)){for(;f!==null;){var m=Pr(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var E=_r(m.pendingLanes);if(E!==0){var A=m;for(A.pendingLanes|=2,A.entangledLanes|=2;E;){var k=1<<31-dn(E);A.entanglements[1]|=k,E&=~k}Kr(m),(Ze&6)===0&&(Nh=Ce()+500,pu(0))}}break;case 13:A=ho(m,2),A!==null&&Kn(A,m,2),Ph(),bm(m,2)}if(m=Am(u),m===null&&um(r,s,u,Yh,o),m===f)break;f=m}f!==null&&u.stopPropagation()}else um(r,s,u,null,o)}}function Am(r){return r=er(r),wm(r)}var Yh=null;function wm(r){if(Yh=null,r=di(r),r!==null){var s=l(r);if(s===null)r=null;else{var o=s.tag;if(o===13){if(r=c(s),r!==null)return r;r=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return Yh=r,null}function iE(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(hn()){case Cn:return 2;case tt:return 8;case Rt:case In:return 32;case Jt:return 268435456;default:return 32}default:return 32}}var Sm=!1,gs=null,vs=null,ys=null,Tu=new Map,Au=new Map,_s=[],oC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function sE(r,s){switch(r){case"focusin":case"focusout":gs=null;break;case"dragenter":case"dragleave":vs=null;break;case"mouseover":case"mouseout":ys=null;break;case"pointerover":case"pointerout":Tu.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Au.delete(s.pointerId)}}function wu(r,s,o,u,f,m){return r===null||r.nativeEvent!==m?(r={blockedOn:s,domEventName:o,eventSystemFlags:u,nativeEvent:m,targetContainers:[f]},s!==null&&(s=Pr(s),s!==null&&rE(s)),r):(r.eventSystemFlags|=u,s=r.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),r)}function lC(r,s,o,u,f){switch(s){case"focusin":return gs=wu(gs,r,s,o,u,f),!0;case"dragenter":return vs=wu(vs,r,s,o,u,f),!0;case"mouseover":return ys=wu(ys,r,s,o,u,f),!0;case"pointerover":var m=f.pointerId;return Tu.set(m,wu(Tu.get(m)||null,r,s,o,u,f)),!0;case"gotpointercapture":return m=f.pointerId,Au.set(m,wu(Au.get(m)||null,r,s,o,u,f)),!0}return!1}function aE(r){var s=di(r.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=c(o),s!==null){r.blockedOn=s,Pc(r.priority,function(){if(o.tag===13){var u=$n();u=Ki(u);var f=ho(o,u);f!==null&&Kn(f,o,u),bm(o,u)}});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Qh(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var o=Am(r.nativeEvent);if(o===null){o=r.nativeEvent;var u=new o.constructor(o.type,o);vi=u,o.target.dispatchEvent(u),vi=null}else return s=Pr(o),s!==null&&rE(s),r.blockedOn=o,!1;s.shift()}return!0}function oE(r,s,o){Qh(r)&&o.delete(s)}function uC(){Sm=!1,gs!==null&&Qh(gs)&&(gs=null),vs!==null&&Qh(vs)&&(vs=null),ys!==null&&Qh(ys)&&(ys=null),Tu.forEach(oE),Au.forEach(oE)}function Xh(r,s){r.blockedOn===s&&(r.blockedOn=null,Sm||(Sm=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,uC)))}var Wh=null;function lE(r){Wh!==r&&(Wh=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Wh===r&&(Wh=null);for(var s=0;s<r.length;s+=3){var o=r[s],u=r[s+1],f=r[s+2];if(typeof u!="function"){if(wm(u||o)===null)continue;break}var m=Pr(o);m!==null&&(r.splice(s,3),s-=3,wp(m,{pending:!0,data:f,method:o.method,action:u},u,f))}}))}function Su(r){function s(k){return Xh(k,r)}gs!==null&&Xh(gs,r),vs!==null&&Xh(vs,r),ys!==null&&Xh(ys,r),Tu.forEach(s),Au.forEach(s);for(var o=0;o<_s.length;o++){var u=_s[o];u.blockedOn===r&&(u.blockedOn=null)}for(;0<_s.length&&(o=_s[0],o.blockedOn===null);)aE(o),o.blockedOn===null&&_s.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var f=o[u],m=o[u+1],E=f[Ct]||null;if(typeof m=="function")E||lE(o);else if(E){var A=null;if(m&&m.hasAttribute("formAction")){if(f=m,E=m[Ct]||null)A=E.formAction;else if(wm(f)!==null)continue}else A=E.action;typeof A=="function"?o[u+1]=A:(o.splice(u,3),u-=3),lE(o)}}}function Rm(r){this._internalRoot=r}Jh.prototype.render=Rm.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(i(409));var o=s.current,u=$n();tE(o,u,r,s,null,null)},Jh.prototype.unmount=Rm.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;tE(r.current,2,null,r,null,null),Ph(),s[Jn]=null}};function Jh(r){this._internalRoot=r}Jh.prototype.unstable_scheduleHydration=function(r){if(r){var s=Yi();r={blockedOn:null,target:r,priority:s};for(var o=0;o<_s.length&&s!==0&&s<_s[o].priority;o++);_s.splice(o,0,r),o===0&&aE(r)}};var uE=e.version;if(uE!=="19.1.0")throw Error(i(527,uE,"19.1.0"));oe.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=p(s),r=r!==null?g(r):null,r=r===null?null:r.stateNode,r};var cC={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Z,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zh.isDisabled&&Zh.supportsFiber)try{ct=Zh.inject(cC),Ge=Zh}catch{}}return Cu.createRoot=function(r,s){if(!a(r))throw Error(i(299));var o=!1,u="",f=S_,m=R_,E=C_,A=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(m=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(A=s.unstable_transitionCallbacks)),s=Z0(r,1,!1,null,null,o,u,f,m,E,A,null),r[Jn]=s.current,lm(r),new Rm(s)},Cu.hydrateRoot=function(r,s,o){if(!a(r))throw Error(i(299));var u=!1,f="",m=S_,E=R_,A=C_,k=null,Y=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(m=o.onUncaughtError),o.onCaughtError!==void 0&&(E=o.onCaughtError),o.onRecoverableError!==void 0&&(A=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(k=o.unstable_transitionCallbacks),o.formState!==void 0&&(Y=o.formState)),s=Z0(r,1,!0,s,o??null,u,f,m,E,A,k,Y),s.context=eE(null),o=s.current,u=$n(),u=Ki(u),f=ns(u),f.callback=null,rs(o,f,u),o=u,s.current.lanes=o,fi(s,o),Kr(s),r[Jn]=s.current,lm(r),new Jh(s)},Cu.version="19.1.0",Cu}var _E;function bC(){if(_E)return xm.exports;_E=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),xm.exports=EC(),xm.exports}var TC=bC(),Iu={},EE;function AC(){if(EE)return Iu;EE=1,Object.defineProperty(Iu,"__esModule",{value:!0}),Iu.parse=c,Iu.serialize=g;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,l=(()=>{const w=function(){};return w.prototype=Object.create(null),w})();function c(w,O){const C=new l,M=w.length;if(M<2)return C;const N=(O==null?void 0:O.decode)||v;let z=0;do{const q=w.indexOf("=",z);if(q===-1)break;const j=w.indexOf(";",z),G=j===-1?M:j;if(q>G){z=w.lastIndexOf(";",q-1)+1;continue}const Q=d(w,z,q),J=p(w,q,Q),x=w.slice(Q,J);if(C[x]===void 0){let S=d(w,q+1,G),I=p(w,G,S);const D=N(w.slice(S,I));C[x]=D}z=G+1}while(z<M);return C}function d(w,O,C){do{const M=w.charCodeAt(O);if(M!==32&&M!==9)return O}while(++O<C);return C}function p(w,O,C){for(;O>C;){const M=w.charCodeAt(--O);if(M!==32&&M!==9)return O+1}return C}function g(w,O,C){const M=(C==null?void 0:C.encode)||encodeURIComponent;if(!n.test(w))throw new TypeError(`argument name is invalid: ${w}`);const N=M(O);if(!e.test(N))throw new TypeError(`argument val is invalid: ${O}`);let z=w+"="+N;if(!C)return z;if(C.maxAge!==void 0){if(!Number.isInteger(C.maxAge))throw new TypeError(`option maxAge is invalid: ${C.maxAge}`);z+="; Max-Age="+C.maxAge}if(C.domain){if(!t.test(C.domain))throw new TypeError(`option domain is invalid: ${C.domain}`);z+="; Domain="+C.domain}if(C.path){if(!i.test(C.path))throw new TypeError(`option path is invalid: ${C.path}`);z+="; Path="+C.path}if(C.expires){if(!b(C.expires)||!Number.isFinite(C.expires.valueOf()))throw new TypeError(`option expires is invalid: ${C.expires}`);z+="; Expires="+C.expires.toUTCString()}if(C.httpOnly&&(z+="; HttpOnly"),C.secure&&(z+="; Secure"),C.partitioned&&(z+="; Partitioned"),C.priority)switch(typeof C.priority=="string"?C.priority.toLowerCase():void 0){case"low":z+="; Priority=Low";break;case"medium":z+="; Priority=Medium";break;case"high":z+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${C.priority}`)}if(C.sameSite)switch(typeof C.sameSite=="string"?C.sameSite.toLowerCase():C.sameSite){case!0:case"strict":z+="; SameSite=Strict";break;case"lax":z+="; SameSite=Lax";break;case"none":z+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${C.sameSite}`)}return z}function v(w){if(w.indexOf("%")===-1)return w;try{return decodeURIComponent(w)}catch{return w}}function b(w){return a.call(w)==="[object Date]"}return Iu}AC();var bE="popstate";function wC(n={}){function e(i,a){let{pathname:l,search:c,hash:d}=i.location;return Xm("",{pathname:l,search:c,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(i,a){return typeof a=="string"?a:Yu(a)}return RC(e,t,null,n)}function mt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Cr(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function SC(){return Math.random().toString(36).substring(2,10)}function TE(n,e){return{usr:n.state,key:n.key,idx:e}}function Xm(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?ll(e):e,state:t,key:e&&e.key||i||SC()}}function Yu({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function ll(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function RC(n,e,t,i={}){let{window:a=document.defaultView,v5Compat:l=!1}=i,c=a.history,d="POP",p=null,g=v();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function v(){return(c.state||{idx:null}).idx}function b(){d="POP";let N=v(),z=N==null?null:N-g;g=N,p&&p({action:d,location:M.location,delta:z})}function w(N,z){d="PUSH";let q=Xm(M.location,N,z);g=v()+1;let j=TE(q,g),G=M.createHref(q);try{c.pushState(j,"",G)}catch(Q){if(Q instanceof DOMException&&Q.name==="DataCloneError")throw Q;a.location.assign(G)}l&&p&&p({action:d,location:M.location,delta:1})}function O(N,z){d="REPLACE";let q=Xm(M.location,N,z);g=v();let j=TE(q,g),G=M.createHref(q);c.replaceState(j,"",G),l&&p&&p({action:d,location:M.location,delta:0})}function C(N){return CC(N)}let M={get action(){return d},get location(){return n(a,c)},listen(N){if(p)throw new Error("A history only accepts one active listener");return a.addEventListener(bE,b),p=N,()=>{a.removeEventListener(bE,b),p=null}},createHref(N){return e(a,N)},createURL:C,encodeLocation(N){let z=C(N);return{pathname:z.pathname,search:z.search,hash:z.hash}},push:w,replace:O,go(N){return c.go(N)}};return M}function CC(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),mt(t,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:Yu(n);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function XT(n,e,t="/"){return IC(n,e,t,!1)}function IC(n,e,t,i){let a=typeof e=="string"?ll(e):e,l=zi(a.pathname||"/",t);if(l==null)return null;let c=WT(n);xC(c);let d=null;for(let p=0;d==null&&p<c.length;++p){let g=BC(l);d=UC(c[p],g,i)}return d}function WT(n,e=[],t=[],i=""){let a=(l,c,d)=>{let p={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};p.relativePath.startsWith("/")&&(mt(p.relativePath.startsWith(i),`Absolute route path "${p.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(i.length));let g=Ui([i,p.relativePath]),v=t.concat(p);l.children&&l.children.length>0&&(mt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),WT(l.children,e,v,g)),!(l.path==null&&!l.index)&&e.push({path:g,score:VC(g,l.index),routesMeta:v})};return n.forEach((l,c)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))a(l,c);else for(let p of JT(l.path))a(l,c,p)}),e}function JT(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,a=t.endsWith("?"),l=t.replace(/\?$/,"");if(i.length===0)return a?[l,""]:[l];let c=JT(i.join("/")),d=[];return d.push(...c.map(p=>p===""?l:[l,p].join("/"))),a&&d.push(...c),d.map(p=>n.startsWith("/")&&p===""?"/":p)}function xC(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:LC(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var OC=/^:[\w-]+$/,NC=3,DC=2,PC=1,kC=10,MC=-2,AE=n=>n==="*";function VC(n,e){let t=n.split("/"),i=t.length;return t.some(AE)&&(i+=MC),e&&(i+=DC),t.filter(a=>!AE(a)).reduce((a,l)=>a+(OC.test(l)?NC:l===""?PC:kC),i)}function LC(n,e){return n.length===e.length&&n.slice(0,-1).every((i,a)=>i===e[a])?n[n.length-1]-e[e.length-1]:0}function UC(n,e,t=!1){let{routesMeta:i}=n,a={},l="/",c=[];for(let d=0;d<i.length;++d){let p=i[d],g=d===i.length-1,v=l==="/"?e:e.slice(l.length)||"/",b=xf({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},v),w=p.route;if(!b&&g&&t&&!i[i.length-1].route.index&&(b=xf({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},v)),!b)return null;Object.assign(a,b.params),c.push({params:a,pathname:Ui([l,b.pathname]),pathnameBase:HC(Ui([l,b.pathnameBase])),route:w}),b.pathnameBase!=="/"&&(l=Ui([l,b.pathnameBase]))}return c}function xf(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=jC(n.path,n.caseSensitive,n.end),a=e.match(t);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:i.reduce((g,{paramName:v,isOptional:b},w)=>{if(v==="*"){let C=d[w]||"";c=l.slice(0,l.length-C.length).replace(/(.)\/+$/,"$1")}const O=d[w];return b&&!O?g[v]=void 0:g[v]=(O||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:c,pattern:n}}function jC(n,e=!1,t=!0){Cr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,p)=>(i.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function BC(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Cr(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function zi(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function zC(n,e="/"){let{pathname:t,search:i="",hash:a=""}=typeof n=="string"?ll(n):n;return{pathname:t?t.startsWith("/")?t:qC(t,e):e,search:GC(i),hash:$C(a)}}function qC(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function Pm(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function FC(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Ng(n){let e=FC(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function Dg(n,e,t,i=!1){let a;typeof n=="string"?a=ll(n):(a={...n},mt(!a.pathname||!a.pathname.includes("?"),Pm("?","pathname","search",a)),mt(!a.pathname||!a.pathname.includes("#"),Pm("#","pathname","hash",a)),mt(!a.search||!a.search.includes("#"),Pm("#","search","hash",a)));let l=n===""||a.pathname==="",c=l?"/":a.pathname,d;if(c==null)d=t;else{let b=e.length-1;if(!i&&c.startsWith("..")){let w=c.split("/");for(;w[0]==="..";)w.shift(),b-=1;a.pathname=w.join("/")}d=b>=0?e[b]:"/"}let p=zC(a,d),g=c&&c!=="/"&&c.endsWith("/"),v=(l||c===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(g||v)&&(p.pathname+="/"),p}var Ui=n=>n.join("/").replace(/\/\/+/g,"/"),HC=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),GC=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,$C=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function KC(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var ZT=["POST","PUT","PATCH","DELETE"];new Set(ZT);var YC=["GET",...ZT];new Set(YC);var ul=F.createContext(null);ul.displayName="DataRouter";var Zf=F.createContext(null);Zf.displayName="DataRouterState";var eA=F.createContext({isTransitioning:!1});eA.displayName="ViewTransition";var QC=F.createContext(new Map);QC.displayName="Fetchers";var XC=F.createContext(null);XC.displayName="Await";var Or=F.createContext(null);Or.displayName="Navigation";var pc=F.createContext(null);pc.displayName="Location";var Nr=F.createContext({outlet:null,matches:[],isDataRoute:!1});Nr.displayName="Route";var Pg=F.createContext(null);Pg.displayName="RouteError";function WC(n,{relative:e}={}){mt(cl(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=F.useContext(Or),{hash:a,pathname:l,search:c}=mc(n,{relative:e}),d=l;return t!=="/"&&(d=l==="/"?t:Ui([t,l])),i.createHref({pathname:d,search:c,hash:a})}function cl(){return F.useContext(pc)!=null}function ui(){return mt(cl(),"useLocation() may be used only in the context of a <Router> component."),F.useContext(pc).location}var tA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function nA(n){F.useContext(Or).static||F.useLayoutEffect(n)}function Ua(){let{isDataRoute:n}=F.useContext(Nr);return n?fI():JC()}function JC(){mt(cl(),"useNavigate() may be used only in the context of a <Router> component.");let n=F.useContext(ul),{basename:e,navigator:t}=F.useContext(Or),{matches:i}=F.useContext(Nr),{pathname:a}=ui(),l=JSON.stringify(Ng(i)),c=F.useRef(!1);return nA(()=>{c.current=!0}),F.useCallback((p,g={})=>{if(Cr(c.current,tA),!c.current)return;if(typeof p=="number"){t.go(p);return}let v=Dg(p,JSON.parse(l),a,g.relative==="path");n==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Ui([e,v.pathname])),(g.replace?t.replace:t.push)(v,g.state,g)},[e,t,l,a,n])}var ZC=F.createContext(null);function eI(n){let e=F.useContext(Nr).outlet;return e&&F.createElement(ZC.Provider,{value:n},e)}function mc(n,{relative:e}={}){let{matches:t}=F.useContext(Nr),{pathname:i}=ui(),a=JSON.stringify(Ng(t));return F.useMemo(()=>Dg(n,JSON.parse(a),i,e==="path"),[n,a,i,e])}function tI(n,e){return rA(n,e)}function rA(n,e,t,i){var q;mt(cl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a,static:l}=F.useContext(Or),{matches:c}=F.useContext(Nr),d=c[c.length-1],p=d?d.params:{},g=d?d.pathname:"/",v=d?d.pathnameBase:"/",b=d&&d.route;{let j=b&&b.path||"";iA(g,!b||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let w=ui(),O;if(e){let j=typeof e=="string"?ll(e):e;mt(v==="/"||((q=j.pathname)==null?void 0:q.startsWith(v)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${j.pathname}" was given in the \`location\` prop.`),O=j}else O=w;let C=O.pathname||"/",M=C;if(v!=="/"){let j=v.replace(/^\//,"").split("/");M="/"+C.replace(/^\//,"").split("/").slice(j.length).join("/")}let N=!l&&t&&t.matches&&t.matches.length>0?t.matches:XT(n,{pathname:M});Cr(b||N!=null,`No routes matched location "${O.pathname}${O.search}${O.hash}" `),Cr(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${O.pathname}${O.search}${O.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let z=aI(N&&N.map(j=>Object.assign({},j,{params:Object.assign({},p,j.params),pathname:Ui([v,a.encodeLocation?a.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?v:Ui([v,a.encodeLocation?a.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),c,t,i);return e&&z?F.createElement(pc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...O},navigationType:"POP"}},z):z}function nI(){let n=hI(),e=KC(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=F.createElement(F.Fragment,null,F.createElement("p",null," Hey developer "),F.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",F.createElement("code",{style:l},"ErrorBoundary")," or"," ",F.createElement("code",{style:l},"errorElement")," prop on your route.")),F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},e),t?F.createElement("pre",{style:a},t):null,c)}var rI=F.createElement(nI,null),iI=class extends F.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?F.createElement(Nr.Provider,{value:this.props.routeContext},F.createElement(Pg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function sI({routeContext:n,match:e,children:t}){let i=F.useContext(ul);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),F.createElement(Nr.Provider,{value:n},t)}function aI(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,l=t==null?void 0:t.errors;if(l!=null){let p=a.findIndex(g=>g.route.id&&(l==null?void 0:l[g.route.id])!==void 0);mt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,p+1))}let c=!1,d=-1;if(t)for(let p=0;p<a.length;p++){let g=a[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(d=p),g.route.id){let{loaderData:v,errors:b}=t,w=g.route.loader&&!v.hasOwnProperty(g.route.id)&&(!b||b[g.route.id]===void 0);if(g.route.lazy||w){c=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((p,g,v)=>{let b,w=!1,O=null,C=null;t&&(b=l&&g.route.id?l[g.route.id]:void 0,O=g.route.errorElement||rI,c&&(d<0&&v===0?(iA("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,C=null):d===v&&(w=!0,C=g.route.hydrateFallbackElement||null)));let M=e.concat(a.slice(0,v+1)),N=()=>{let z;return b?z=O:w?z=C:g.route.Component?z=F.createElement(g.route.Component,null):g.route.element?z=g.route.element:z=p,F.createElement(sI,{match:g,routeContext:{outlet:p,matches:M,isDataRoute:t!=null},children:z})};return t&&(g.route.ErrorBoundary||g.route.errorElement||v===0)?F.createElement(iI,{location:t.location,revalidation:t.revalidation,component:O,error:b,children:N(),routeContext:{outlet:null,matches:M,isDataRoute:!0}}):N()},null)}function kg(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function oI(n){let e=F.useContext(ul);return mt(e,kg(n)),e}function lI(n){let e=F.useContext(Zf);return mt(e,kg(n)),e}function uI(n){let e=F.useContext(Nr);return mt(e,kg(n)),e}function Mg(n){let e=uI(n),t=e.matches[e.matches.length-1];return mt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function cI(){return Mg("useRouteId")}function hI(){var i;let n=F.useContext(Pg),e=lI("useRouteError"),t=Mg("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function fI(){let{router:n}=oI("useNavigate"),e=Mg("useNavigate"),t=F.useRef(!1);return nA(()=>{t.current=!0}),F.useCallback(async(a,l={})=>{Cr(t.current,tA),t.current&&(typeof a=="number"?n.navigate(a):await n.navigate(a,{fromRouteId:e,...l}))},[n,e])}var wE={};function iA(n,e,t){!e&&!wE[n]&&(wE[n]=!0,Cr(!1,t))}F.memo(dI);function dI({routes:n,future:e,state:t}){return rA(n,void 0,t,e)}function pI({to:n,replace:e,state:t,relative:i}){mt(cl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=F.useContext(Or);Cr(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=F.useContext(Nr),{pathname:c}=ui(),d=Ua(),p=Dg(n,Ng(l),c,i==="path"),g=JSON.stringify(p);return F.useEffect(()=>{d(JSON.parse(g),{replace:e,state:t,relative:i})},[d,g,i,e,t]),null}function sA(n){return eI(n.context)}function cr(n){mt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function mI({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:a,static:l=!1}){mt(!cl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),d=F.useMemo(()=>({basename:c,navigator:a,static:l,future:{}}),[c,a,l]);typeof t=="string"&&(t=ll(t));let{pathname:p="/",search:g="",hash:v="",state:b=null,key:w="default"}=t,O=F.useMemo(()=>{let C=zi(p,c);return C==null?null:{location:{pathname:C,search:g,hash:v,state:b,key:w},navigationType:i}},[c,p,g,v,b,w,i]);return Cr(O!=null,`<Router basename="${c}"> is not able to match the URL "${p}${g}${v}" because it does not start with the basename, so the <Router> won't render anything.`),O==null?null:F.createElement(Or.Provider,{value:d},F.createElement(pc.Provider,{children:e,value:O}))}function gI({children:n,location:e}){return tI(Wm(n),e)}function Wm(n,e=[]){let t=[];return F.Children.forEach(n,(i,a)=>{if(!F.isValidElement(i))return;let l=[...e,a];if(i.type===F.Fragment){t.push.apply(t,Wm(i.props.children,l));return}mt(i.type===cr,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),mt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=Wm(i.props.children,l)),t.push(c)}),t}var ff="get",df="application/x-www-form-urlencoded";function ed(n){return n!=null&&typeof n.tagName=="string"}function vI(n){return ed(n)&&n.tagName.toLowerCase()==="button"}function yI(n){return ed(n)&&n.tagName.toLowerCase()==="form"}function _I(n){return ed(n)&&n.tagName.toLowerCase()==="input"}function EI(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function bI(n,e){return n.button===0&&(!e||e==="_self")&&!EI(n)}var ef=null;function TI(){if(ef===null)try{new FormData(document.createElement("form"),0),ef=!1}catch{ef=!0}return ef}var AI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function km(n){return n!=null&&!AI.has(n)?(Cr(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${df}"`),null):n}function wI(n,e){let t,i,a,l,c;if(yI(n)){let d=n.getAttribute("action");i=d?zi(d,e):null,t=n.getAttribute("method")||ff,a=km(n.getAttribute("enctype"))||df,l=new FormData(n)}else if(vI(n)||_I(n)&&(n.type==="submit"||n.type==="image")){let d=n.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=n.getAttribute("formaction")||d.getAttribute("action");if(i=p?zi(p,e):null,t=n.getAttribute("formmethod")||d.getAttribute("method")||ff,a=km(n.getAttribute("formenctype"))||km(d.getAttribute("enctype"))||df,l=new FormData(d,n),!TI()){let{name:g,type:v,value:b}=n;if(v==="image"){let w=g?`${g}.`:"";l.append(`${w}x`,"0"),l.append(`${w}y`,"0")}else g&&l.append(g,b)}}else{if(ed(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=ff,i=null,a=df,c=n}return l&&a==="text/plain"&&(c=l,l=void 0),{action:i,method:t.toLowerCase(),encType:a,formData:l,body:c}}function Vg(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function SI(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function RI(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function CI(n,e,t){let i=await Promise.all(n.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await SI(l,t);return c.links?c.links():[]}return[]}));return NI(i.flat(1).filter(RI).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function SE(n,e,t,i,a,l){let c=(p,g)=>t[g]?p.route.id!==t[g].route.id:!0,d=(p,g)=>{var v;return t[g].pathname!==p.pathname||((v=t[g].route.path)==null?void 0:v.endsWith("*"))&&t[g].params["*"]!==p.params["*"]};return l==="assets"?e.filter((p,g)=>c(p,g)||d(p,g)):l==="data"?e.filter((p,g)=>{var b;let v=i.routes[p.route.id];if(!v||!v.hasLoader)return!1;if(c(p,g)||d(p,g))return!0;if(p.route.shouldRevalidate){let w=p.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((b=t[0])==null?void 0:b.params)||{},nextUrl:new URL(n,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function II(n,e,{includeHydrateFallback:t}={}){return xI(n.map(i=>{let a=e.routes[i.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function xI(n){return[...new Set(n)]}function OI(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function NI(n,e){let t=new Set;return new Set(e),n.reduce((i,a)=>{let l=JSON.stringify(OI(a));return t.has(l)||(t.add(l),i.push({key:l,link:a})),i},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var DI=new Set([100,101,204,205]);function PI(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&zi(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function aA(){let n=F.useContext(ul);return Vg(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function kI(){let n=F.useContext(Zf);return Vg(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Lg=F.createContext(void 0);Lg.displayName="FrameworkContext";function oA(){let n=F.useContext(Lg);return Vg(n,"You must render this element inside a <HydratedRouter> element"),n}function MI(n,e){let t=F.useContext(Lg),[i,a]=F.useState(!1),[l,c]=F.useState(!1),{onFocus:d,onBlur:p,onMouseEnter:g,onMouseLeave:v,onTouchStart:b}=e,w=F.useRef(null);F.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let M=z=>{z.forEach(q=>{c(q.isIntersecting)})},N=new IntersectionObserver(M,{threshold:.5});return w.current&&N.observe(w.current),()=>{N.disconnect()}}},[n]),F.useEffect(()=>{if(i){let M=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(M)}}},[i]);let O=()=>{a(!0)},C=()=>{a(!1),c(!1)};return t?n!=="intent"?[l,w,{}]:[l,w,{onFocus:xu(d,O),onBlur:xu(p,C),onMouseEnter:xu(g,O),onMouseLeave:xu(v,C),onTouchStart:xu(b,O)}]:[!1,w,{}]}function xu(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function VI({page:n,...e}){let{router:t}=aA(),i=F.useMemo(()=>XT(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?F.createElement(UI,{page:n,matches:i,...e}):null}function LI(n){let{manifest:e,routeModules:t}=oA(),[i,a]=F.useState([]);return F.useEffect(()=>{let l=!1;return CI(n,e,t).then(c=>{l||a(c)}),()=>{l=!0}},[n,e,t]),i}function UI({page:n,matches:e,...t}){let i=ui(),{manifest:a,routeModules:l}=oA(),{basename:c}=aA(),{loaderData:d,matches:p}=kI(),g=F.useMemo(()=>SE(n,e,p,a,i,"data"),[n,e,p,a,i]),v=F.useMemo(()=>SE(n,e,p,a,i,"assets"),[n,e,p,a,i]),b=F.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let C=new Set,M=!1;if(e.forEach(z=>{var j;let q=a.routes[z.route.id];!q||!q.hasLoader||(!g.some(G=>G.route.id===z.route.id)&&z.route.id in d&&((j=l[z.route.id])!=null&&j.shouldRevalidate)||q.hasClientLoader?M=!0:C.add(z.route.id))}),C.size===0)return[];let N=PI(n,c);return M&&C.size>0&&N.searchParams.set("_routes",e.filter(z=>C.has(z.route.id)).map(z=>z.route.id).join(",")),[N.pathname+N.search]},[c,d,i,a,g,e,n,l]),w=F.useMemo(()=>II(v,a),[v,a]),O=LI(v);return F.createElement(F.Fragment,null,b.map(C=>F.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...t})),w.map(C=>F.createElement("link",{key:C,rel:"modulepreload",href:C,...t})),O.map(({key:C,link:M})=>F.createElement("link",{key:C,...M})))}function jI(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var lA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{lA&&(window.__reactRouterVersion="7.6.0")}catch{}function BI({basename:n,children:e,window:t}){let i=F.useRef();i.current==null&&(i.current=wC({window:t,v5Compat:!0}));let a=i.current,[l,c]=F.useState({action:a.action,location:a.location}),d=F.useCallback(p=>{F.startTransition(()=>c(p))},[c]);return F.useLayoutEffect(()=>a.listen(d),[a,d]),F.createElement(mI,{basename:n,children:e,location:l.location,navigationType:l.action,navigator:a})}var uA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,wa=F.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:a,reloadDocument:l,replace:c,state:d,target:p,to:g,preventScrollReset:v,viewTransition:b,...w},O){let{basename:C}=F.useContext(Or),M=typeof g=="string"&&uA.test(g),N,z=!1;if(typeof g=="string"&&M&&(N=g,lA))try{let I=new URL(window.location.href),D=g.startsWith("//")?new URL(I.protocol+g):new URL(g),V=zi(D.pathname,C);D.origin===I.origin&&V!=null?g=V+D.search+D.hash:z=!0}catch{Cr(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let q=WC(g,{relative:a}),[j,G,Q]=MI(i,w),J=HI(g,{replace:c,state:d,target:p,preventScrollReset:v,relative:a,viewTransition:b});function x(I){e&&e(I),I.defaultPrevented||J(I)}let S=F.createElement("a",{...w,...Q,href:N||q,onClick:z||l?e:x,ref:jI(O,G),target:p,"data-discover":!M&&t==="render"?"true":void 0});return j&&!M?F.createElement(F.Fragment,null,S,F.createElement(VI,{page:q})):S});wa.displayName="Link";var zI=F.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:a=!1,style:l,to:c,viewTransition:d,children:p,...g},v){let b=mc(c,{relative:g.relative}),w=ui(),O=F.useContext(Zf),{navigator:C,basename:M}=F.useContext(Or),N=O!=null&&QI(b)&&d===!0,z=C.encodeLocation?C.encodeLocation(b).pathname:b.pathname,q=w.pathname,j=O&&O.navigation&&O.navigation.location?O.navigation.location.pathname:null;t||(q=q.toLowerCase(),j=j?j.toLowerCase():null,z=z.toLowerCase()),j&&M&&(j=zi(j,M)||j);const G=z!=="/"&&z.endsWith("/")?z.length-1:z.length;let Q=q===z||!a&&q.startsWith(z)&&q.charAt(G)==="/",J=j!=null&&(j===z||!a&&j.startsWith(z)&&j.charAt(z.length)==="/"),x={isActive:Q,isPending:J,isTransitioning:N},S=Q?e:void 0,I;typeof i=="function"?I=i(x):I=[i,Q?"active":null,J?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let D=typeof l=="function"?l(x):l;return F.createElement(wa,{...g,"aria-current":S,className:I,ref:v,style:D,to:c,viewTransition:d},typeof p=="function"?p(x):p)});zI.displayName="NavLink";var qI=F.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:a,state:l,method:c=ff,action:d,onSubmit:p,relative:g,preventScrollReset:v,viewTransition:b,...w},O)=>{let C=KI(),M=YI(d,{relative:g}),N=c.toLowerCase()==="get"?"get":"post",z=typeof d=="string"&&uA.test(d),q=j=>{if(p&&p(j),j.defaultPrevented)return;j.preventDefault();let G=j.nativeEvent.submitter,Q=(G==null?void 0:G.getAttribute("formmethod"))||c;C(G||j.currentTarget,{fetcherKey:e,method:Q,navigate:t,replace:a,state:l,relative:g,preventScrollReset:v,viewTransition:b})};return F.createElement("form",{ref:O,method:N,action:M,onSubmit:i?p:q,...w,"data-discover":!z&&n==="render"?"true":void 0})});qI.displayName="Form";function FI(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function cA(n){let e=F.useContext(ul);return mt(e,FI(n)),e}function HI(n,{target:e,replace:t,state:i,preventScrollReset:a,relative:l,viewTransition:c}={}){let d=Ua(),p=ui(),g=mc(n,{relative:l});return F.useCallback(v=>{if(bI(v,e)){v.preventDefault();let b=t!==void 0?t:Yu(p)===Yu(g);d(n,{replace:b,state:i,preventScrollReset:a,relative:l,viewTransition:c})}},[p,d,g,t,i,e,n,a,l,c])}var GI=0,$I=()=>`__${String(++GI)}__`;function KI(){let{router:n}=cA("useSubmit"),{basename:e}=F.useContext(Or),t=cI();return F.useCallback(async(i,a={})=>{let{action:l,method:c,encType:d,formData:p,body:g}=wI(i,e);if(a.navigate===!1){let v=a.fetcherKey||$I();await n.fetch(v,t,a.action||l,{preventScrollReset:a.preventScrollReset,formData:p,body:g,formMethod:a.method||c,formEncType:a.encType||d,flushSync:a.flushSync})}else await n.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:p,body:g,formMethod:a.method||c,formEncType:a.encType||d,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[n,e,t])}function YI(n,{relative:e}={}){let{basename:t}=F.useContext(Or),i=F.useContext(Nr);mt(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),l={...mc(n||".",{relative:e})},c=ui();if(n==null){l.search=c.search;let d=new URLSearchParams(l.search),p=d.getAll("index");if(p.some(v=>v==="")){d.delete("index"),p.filter(b=>b).forEach(b=>d.append("index",b));let v=d.toString();l.search=v?`?${v}`:""}}return(!n||n===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:Ui([t,l.pathname])),Yu(l)}function QI(n,e={}){let t=F.useContext(eA);mt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=cA("useViewTransitionState"),a=mc(n,{relative:e.relative});if(!t.isTransitioning)return!1;let l=zi(t.currentLocation.pathname,i)||t.currentLocation.pathname,c=zi(t.nextLocation.pathname,i)||t.nextLocation.pathname;return xf(a.pathname,c)!=null||xf(a.pathname,l)!=null}[...DI];/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Yn=function(){return Yn=Object.assign||function(e){for(var t,i=1,a=arguments.length;i<a;i++){t=arguments[i];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l])}return e},Yn.apply(this,arguments)};function xa(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(n);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(n,i[a])&&(t[i[a]]=n[i[a]]);return t}function bn(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n}function Jm(){return Jm=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Jm.apply(this,arguments)}function Ug(n){var e=Object.create(null);return function(t){return e[t]===void 0&&(e[t]=n(t)),e[t]}}var XI=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,WI=Ug(function(n){return XI.test(n)||n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)<91});function JI(n){if(n.sheet)return n.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===n)return document.styleSheets[e]}function ZI(n){var e=document.createElement("style");return e.setAttribute("data-emotion",n.key),n.nonce!==void 0&&e.setAttribute("nonce",n.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var ex=function(){function n(t){var i=this;this._insertTag=function(a){var l;i.tags.length===0?i.insertionPoint?l=i.insertionPoint.nextSibling:i.prepend?l=i.container.firstChild:l=i.before:l=i.tags[i.tags.length-1].nextSibling,i.container.insertBefore(a,l),i.tags.push(a)},this.isSpeedy=t.speedy===void 0?!0:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=n.prototype;return e.hydrate=function(i){i.forEach(this._insertTag)},e.insert=function(i){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(ZI(this));var a=this.tags[this.tags.length-1];if(this.isSpeedy){var l=JI(a);try{l.insertRule(i,l.cssRules.length)}catch{}}else a.appendChild(document.createTextNode(i));this.ctr++},e.flush=function(){this.tags.forEach(function(i){return i.parentNode&&i.parentNode.removeChild(i)}),this.tags=[],this.ctr=0},n}(),vn="-ms-",Of="-moz-",Ye="-webkit-",hA="comm",jg="rule",Bg="decl",tx="@import",fA="@keyframes",nx=Math.abs,td=String.fromCharCode,rx=Object.assign;function ix(n,e){return an(n,0)^45?(((e<<2^an(n,0))<<2^an(n,1))<<2^an(n,2))<<2^an(n,3):0}function dA(n){return n.trim()}function sx(n,e){return(n=e.exec(n))?n[0]:n}function We(n,e,t){return n.replace(e,t)}function Zm(n,e){return n.indexOf(e)}function an(n,e){return n.charCodeAt(e)|0}function Qu(n,e,t){return n.slice(e,t)}function Qr(n){return n.length}function zg(n){return n.length}function tf(n,e){return e.push(n),n}function ax(n,e){return n.map(e).join("")}var nd=1,Qo=1,pA=0,Ln=0,Dt=0,hl="";function rd(n,e,t,i,a,l,c){return{value:n,root:e,parent:t,type:i,props:a,children:l,line:nd,column:Qo,length:c,return:""}}function Ou(n,e){return rx(rd("",null,null,"",null,null,0),n,{length:-n.length},e)}function ox(){return Dt}function lx(){return Dt=Ln>0?an(hl,--Ln):0,Qo--,Dt===10&&(Qo=1,nd--),Dt}function Xn(){return Dt=Ln<pA?an(hl,Ln++):0,Qo++,Dt===10&&(Qo=1,nd++),Dt}function Jr(){return an(hl,Ln)}function pf(){return Ln}function gc(n,e){return Qu(hl,n,e)}function Xu(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function mA(n){return nd=Qo=1,pA=Qr(hl=n),Ln=0,[]}function gA(n){return hl="",n}function mf(n){return dA(gc(Ln-1,eg(n===91?n+2:n===40?n+1:n)))}function ux(n){for(;(Dt=Jr())&&Dt<33;)Xn();return Xu(n)>2||Xu(Dt)>3?"":" "}function cx(n,e){for(;--e&&Xn()&&!(Dt<48||Dt>102||Dt>57&&Dt<65||Dt>70&&Dt<97););return gc(n,pf()+(e<6&&Jr()==32&&Xn()==32))}function eg(n){for(;Xn();)switch(Dt){case n:return Ln;case 34:case 39:n!==34&&n!==39&&eg(Dt);break;case 40:n===41&&eg(n);break;case 92:Xn();break}return Ln}function hx(n,e){for(;Xn()&&n+Dt!==57;)if(n+Dt===84&&Jr()===47)break;return"/*"+gc(e,Ln-1)+"*"+td(n===47?n:Xn())}function fx(n){for(;!Xu(Jr());)Xn();return gc(n,Ln)}function RE(n){return gA(gf("",null,null,null,[""],n=mA(n),0,[0],n))}function gf(n,e,t,i,a,l,c,d,p){for(var g=0,v=0,b=c,w=0,O=0,C=0,M=1,N=1,z=1,q=0,j="",G=a,Q=l,J=i,x=j;N;)switch(C=q,q=Xn()){case 40:if(C!=108&&an(x,b-1)==58){Zm(x+=We(mf(q),"&","&\f"),"&\f")!=-1&&(z=-1);break}case 34:case 39:case 91:x+=mf(q);break;case 9:case 10:case 13:case 32:x+=ux(C);break;case 92:x+=cx(pf()-1,7);continue;case 47:switch(Jr()){case 42:case 47:tf(dx(hx(Xn(),pf()),e,t),p);break;default:x+="/"}break;case 123*M:d[g++]=Qr(x)*z;case 125*M:case 59:case 0:switch(q){case 0:case 125:N=0;case 59+v:O>0&&Qr(x)-b&&tf(O>32?IE(x+";",i,t,b-1):IE(We(x," ","")+";",i,t,b-2),p);break;case 59:x+=";";default:if(tf(J=CE(x,e,t,g,v,a,d,j,G=[],Q=[],b),l),q===123)if(v===0)gf(x,e,J,J,G,l,b,d,Q);else switch(w===99&&an(x,3)===110?100:w){case 100:case 109:case 115:gf(n,J,J,i&&tf(CE(n,J,J,0,0,a,d,j,a,G=[],b),Q),a,Q,b,d,i?G:Q);break;default:gf(x,J,J,J,[""],Q,0,d,Q)}}g=v=O=0,M=z=1,j=x="",b=c;break;case 58:b=1+Qr(x),O=C;default:if(M<1){if(q==123)--M;else if(q==125&&M++==0&&lx()==125)continue}switch(x+=td(q),q*M){case 38:z=v>0?1:(x+="\f",-1);break;case 44:d[g++]=(Qr(x)-1)*z,z=1;break;case 64:Jr()===45&&(x+=mf(Xn())),w=Jr(),v=b=Qr(j=x+=fx(pf())),q++;break;case 45:C===45&&Qr(x)==2&&(M=0)}}return l}function CE(n,e,t,i,a,l,c,d,p,g,v){for(var b=a-1,w=a===0?l:[""],O=zg(w),C=0,M=0,N=0;C<i;++C)for(var z=0,q=Qu(n,b+1,b=nx(M=c[C])),j=n;z<O;++z)(j=dA(M>0?w[z]+" "+q:We(q,/&\f/g,w[z])))&&(p[N++]=j);return rd(n,e,t,a===0?jg:d,p,g,v)}function dx(n,e,t){return rd(n,e,t,hA,td(ox()),Qu(n,2,-2),0)}function IE(n,e,t,i){return rd(n,e,t,Bg,Qu(n,0,i),Qu(n,i+1,-1),i)}function Ra(n,e){for(var t="",i=zg(n),a=0;a<i;a++)t+=e(n[a],a,n,e)||"";return t}function xE(n,e,t,i){switch(n.type){case tx:case Bg:return n.return=n.return||n.value;case hA:return"";case fA:return n.return=n.value+"{"+Ra(n.children,i)+"}";case jg:n.value=n.props.join(",")}return Qr(t=Ra(n.children,i))?n.return=n.value+"{"+t+"}":""}function OE(n){var e=zg(n);return function(t,i,a,l){for(var c="",d=0;d<e;d++)c+=n[d](t,i,a,l)||"";return c}}function px(n){return function(e){e.root||(e=e.return)&&n(e)}}var mx=function(e){var t=new WeakMap;return function(i){if(t.has(i))return t.get(i);var a=e(i);return t.set(i,a),a}},gx=function(e,t,i){for(var a=0,l=0;a=l,l=Jr(),a===38&&l===12&&(t[i]=1),!Xu(l);)Xn();return gc(e,Ln)},vx=function(e,t){var i=-1,a=44;do switch(Xu(a)){case 0:a===38&&Jr()===12&&(t[i]=1),e[i]+=gx(Ln-1,t,i);break;case 2:e[i]+=mf(a);break;case 4:if(a===44){e[++i]=Jr()===58?"&\f":"",t[i]=e[i].length;break}default:e[i]+=td(a)}while(a=Xn());return e},yx=function(e,t){return gA(vx(mA(e),t))},NE=new WeakMap,_x=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var t=e.value,i=e.parent,a=e.column===i.column&&e.line===i.line;i.type!=="rule";)if(i=i.parent,!i)return;if(!(e.props.length===1&&t.charCodeAt(0)!==58&&!NE.get(i))&&!a){NE.set(e,!0);for(var l=[],c=yx(t,l),d=i.props,p=0,g=0;p<c.length;p++)for(var v=0;v<d.length;v++,g++)e.props[g]=l[p]?c[p].replace(/&\f/g,d[v]):d[v]+" "+c[p]}}},Ex=function(e){if(e.type==="decl"){var t=e.value;t.charCodeAt(0)===108&&t.charCodeAt(2)===98&&(e.return="",e.value="")}};function vA(n,e){switch(ix(n,e)){case 5103:return Ye+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Ye+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return Ye+n+Of+n+vn+n+n;case 6828:case 4268:return Ye+n+vn+n+n;case 6165:return Ye+n+vn+"flex-"+n+n;case 5187:return Ye+n+We(n,/(\w+).+(:[^]+)/,Ye+"box-$1$2"+vn+"flex-$1$2")+n;case 5443:return Ye+n+vn+"flex-item-"+We(n,/flex-|-self/,"")+n;case 4675:return Ye+n+vn+"flex-line-pack"+We(n,/align-content|flex-|-self/,"")+n;case 5548:return Ye+n+vn+We(n,"shrink","negative")+n;case 5292:return Ye+n+vn+We(n,"basis","preferred-size")+n;case 6060:return Ye+"box-"+We(n,"-grow","")+Ye+n+vn+We(n,"grow","positive")+n;case 4554:return Ye+We(n,/([^-])(transform)/g,"$1"+Ye+"$2")+n;case 6187:return We(We(We(n,/(zoom-|grab)/,Ye+"$1"),/(image-set)/,Ye+"$1"),n,"")+n;case 5495:case 3959:return We(n,/(image-set\([^]*)/,Ye+"$1$`$1");case 4968:return We(We(n,/(.+:)(flex-)?(.*)/,Ye+"box-pack:$3"+vn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Ye+n+n;case 4095:case 3583:case 4068:case 2532:return We(n,/(.+)-inline(.+)/,Ye+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Qr(n)-1-e>6)switch(an(n,e+1)){case 109:if(an(n,e+4)!==45)break;case 102:return We(n,/(.+:)(.+)-([^]+)/,"$1"+Ye+"$2-$3$1"+Of+(an(n,e+3)==108?"$3":"$2-$3"))+n;case 115:return~Zm(n,"stretch")?vA(We(n,"stretch","fill-available"),e)+n:n}break;case 4949:if(an(n,e+1)!==115)break;case 6444:switch(an(n,Qr(n)-3-(~Zm(n,"!important")&&10))){case 107:return We(n,":",":"+Ye)+n;case 101:return We(n,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Ye+(an(n,14)===45?"inline-":"")+"box$3$1"+Ye+"$2$3$1"+vn+"$2box$3")+n}break;case 5936:switch(an(n,e+11)){case 114:return Ye+n+vn+We(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return Ye+n+vn+We(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return Ye+n+vn+We(n,/[svh]\w+-[tblr]{2}/,"lr")+n}return Ye+n+vn+n+n}return n}var bx=function(e,t,i,a){if(e.length>-1&&!e.return)switch(e.type){case Bg:e.return=vA(e.value,e.length);break;case fA:return Ra([Ou(e,{value:We(e.value,"@","@"+Ye)})],a);case jg:if(e.length)return ax(e.props,function(l){switch(sx(l,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Ra([Ou(e,{props:[We(l,/:(read-\w+)/,":"+Of+"$1")]})],a);case"::placeholder":return Ra([Ou(e,{props:[We(l,/:(plac\w+)/,":"+Ye+"input-$1")]}),Ou(e,{props:[We(l,/:(plac\w+)/,":"+Of+"$1")]}),Ou(e,{props:[We(l,/:(plac\w+)/,vn+"input-$1")]})],a)}return""})}},vf=typeof document<"u",Tx=vf?void 0:mx(function(){return Ug(function(){var n={};return function(e){return n[e]}})}),Ax=[bx],yA=function(e){var t=e.key;if(vf&&t==="css"){var i=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(i,function(G){var Q=G.getAttribute("data-emotion");Q.indexOf(" ")!==-1&&(document.head.appendChild(G),G.setAttribute("data-s",""))})}var a=e.stylisPlugins||Ax,l={},c,d=[];vf&&(c=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(G){for(var Q=G.getAttribute("data-emotion").split(" "),J=1;J<Q.length;J++)l[Q[J]]=!0;d.push(G)}));var p,g=[_x,Ex];if(vf){var v,b=[xE,px(function(G){v.insert(G)})],w=OE(g.concat(a,b)),O=function(Q){return Ra(RE(Q),w)};p=function(Q,J,x,S){v=x,O(Q?Q+"{"+J.styles+"}":J.styles),S&&(j.inserted[J.name]=!0)}}else{var C=[xE],M=OE(g.concat(a,C)),N=function(Q){return Ra(RE(Q),M)},z=Tx(a)(t),q=function(Q,J){var x=J.name;return z[x]===void 0&&(z[x]=N(Q?Q+"{"+J.styles+"}":J.styles)),z[x]};p=function(Q,J,x,S){var I=J.name,D=q(Q,J);if(j.compat===void 0)return S&&(j.inserted[I]=!0),D;if(S)j.inserted[I]=D;else return D}}var j={key:t,sheet:new ex({key:t,container:c,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:l,registered:{},insert:p};return j.sheet.hydrate(d),j},wx=typeof document<"u",DE=function(e){return e()},Sx=F.useInsertionEffect?F.useInsertionEffect:!1,Rx=wx&&Sx||DE,Cx=typeof document<"u",Nf=F.createContext(typeof HTMLElement<"u"?yA({key:"css"}):null);Nf.Provider;var _A=function(e){return F.forwardRef(function(t,i){var a=F.useContext(Nf);return e(t,a,i)})};Cx||(_A=function(e){return function(t){var i=F.useContext(Nf);return i===null?(i=yA({key:"css"}),F.createElement(Nf.Provider,{value:i},e(t,i))):e(t,i)}});var Ix=F.createContext({}),tg=typeof document<"u";function xx(n,e,t){var i="";return t.split(" ").forEach(function(a){n[a]!==void 0?e.push(n[a]+";"):i+=a+" "}),i}var EA=function(e,t,i){var a=e.key+"-"+t.name;(i===!1||tg===!1&&e.compat!==void 0)&&e.registered[a]===void 0&&(e.registered[a]=t.styles)},Ox=function(e,t,i){EA(e,t,i);var a=e.key+"-"+t.name;if(e.inserted[t.name]===void 0){var l="",c=t;do{var d=e.insert(t===c?"."+a:"",c,e.sheet,!0);!tg&&d!==void 0&&(l+=d),c=c.next}while(c!==void 0);if(!tg&&l.length!==0)return l}};function Nx(n){for(var e=0,t,i=0,a=n.length;a>=4;++i,a-=4)t=n.charCodeAt(i)&255|(n.charCodeAt(++i)&255)<<8|(n.charCodeAt(++i)&255)<<16|(n.charCodeAt(++i)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,e=(t&65535)*1540483477+((t>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(a){case 3:e^=(n.charCodeAt(i+2)&255)<<16;case 2:e^=(n.charCodeAt(i+1)&255)<<8;case 1:e^=n.charCodeAt(i)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var Dx={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Px=/[A-Z]|^ms/g,kx=/_EMO_([^_]+?)_([^]*?)_EMO_/g,bA=function(e){return e.charCodeAt(1)===45},PE=function(e){return e!=null&&typeof e!="boolean"},Mm=Ug(function(n){return bA(n)?n:n.replace(Px,"-$&").toLowerCase()}),kE=function(e,t){switch(e){case"animation":case"animationName":if(typeof t=="string")return t.replace(kx,function(i,a,l){return Xr={name:a,styles:l,next:Xr},a})}return Dx[e]!==1&&!bA(e)&&typeof t=="number"&&t!==0?t+"px":t};function Wu(n,e,t){if(t==null)return"";if(t.__emotion_styles!==void 0)return t;switch(typeof t){case"boolean":return"";case"object":{if(t.anim===1)return Xr={name:t.name,styles:t.styles,next:Xr},t.name;if(t.styles!==void 0){var i=t.next;if(i!==void 0)for(;i!==void 0;)Xr={name:i.name,styles:i.styles,next:Xr},i=i.next;var a=t.styles+";";return a}return Mx(n,e,t)}case"function":{if(n!==void 0){var l=Xr,c=t(n);return Xr=l,Wu(n,e,c)}break}}if(e==null)return t;var d=e[t];return d!==void 0?d:t}function Mx(n,e,t){var i="";if(Array.isArray(t))for(var a=0;a<t.length;a++)i+=Wu(n,e,t[a])+";";else for(var l in t){var c=t[l];if(typeof c!="object")e!=null&&e[c]!==void 0?i+=l+"{"+e[c]+"}":PE(c)&&(i+=Mm(l)+":"+kE(l,c)+";");else if(Array.isArray(c)&&typeof c[0]=="string"&&(e==null||e[c[0]]===void 0))for(var d=0;d<c.length;d++)PE(c[d])&&(i+=Mm(l)+":"+kE(l,c[d])+";");else{var p=Wu(n,e,c);switch(l){case"animation":case"animationName":{i+=Mm(l)+":"+p+";";break}default:i+=l+"{"+p+"}"}}}return i}var ME=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Xr,Vx=function(e,t,i){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var a=!0,l="";Xr=void 0;var c=e[0];c==null||c.raw===void 0?(a=!1,l+=Wu(i,t,c)):l+=c[0];for(var d=1;d<e.length;d++)l+=Wu(i,t,e[d]),a&&(l+=c[d]);ME.lastIndex=0;for(var p="",g;(g=ME.exec(l))!==null;)p+="-"+g[1];var v=Nx(l)+p;return{name:v,styles:l,next:Xr}},Lx=WI,Ux=function(e){return e!=="theme"},VE=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?Lx:Ux},LE=function(e,t,i){var a;if(t){var l=t.shouldForwardProp;a=e.__emotion_forwardProp&&l?function(c){return e.__emotion_forwardProp(c)&&l(c)}:l}return typeof a!="function"&&i&&(a=e.__emotion_forwardProp),a},jx=typeof document<"u",Bx=function(e){var t=e.cache,i=e.serialized,a=e.isStringTag;EA(t,i,a);var l=Rx(function(){return Ox(t,i,a)});if(!jx&&l!==void 0){for(var c,d=i.name,p=i.next;p!==void 0;)d+=" "+p.name,p=p.next;return F.createElement("style",(c={},c["data-emotion"]=t.key+" "+d,c.dangerouslySetInnerHTML={__html:l},c.nonce=t.sheet.nonce,c))}return null},zx=function n(e,t){var i=e.__emotion_real===e,a=i&&e.__emotion_base||e,l,c;t!==void 0&&(l=t.label,c=t.target);var d=LE(e,t,i),p=d||VE(a),g=!p("as");return function(){var v=arguments,b=i&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(l!==void 0&&b.push("label:"+l+";"),v[0]==null||v[0].raw===void 0)b.push.apply(b,v);else{b.push(v[0][0]);for(var w=v.length,O=1;O<w;O++)b.push(v[O],v[0][O])}var C=_A(function(M,N,z){var q=g&&M.as||a,j="",G=[],Q=M;if(M.theme==null){Q={};for(var J in M)Q[J]=M[J];Q.theme=F.useContext(Ix)}typeof M.className=="string"?j=xx(N.registered,G,M.className):M.className!=null&&(j=M.className+" ");var x=Vx(b.concat(G),N.registered,Q);j+=N.key+"-"+x.name,c!==void 0&&(j+=" "+c);var S=g&&d===void 0?VE(q):p,I={};for(var D in M)g&&D==="as"||S(D)&&(I[D]=M[D]);return I.className=j,I.ref=z,F.createElement(F.Fragment,null,F.createElement(Bx,{cache:N,serialized:x,isStringTag:typeof q=="string"}),F.createElement(q,I))});return C.displayName=l!==void 0?l:"Styled("+(typeof a=="string"?a:a.displayName||a.name||"Component")+")",C.defaultProps=e.defaultProps,C.__emotion_real=C,C.__emotion_base=a,C.__emotion_styles=b,C.__emotion_forwardProp=d,Object.defineProperty(C,"toString",{value:function(){return"."+c}}),C.withComponent=function(M,N){return n(M,Jm({},t,N,{shouldForwardProp:LE(C,N,!0)})).apply(void 0,b)},C}},qx=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],Wt=zx.bind();qx.forEach(function(n){Wt[n]=Wt(n)});var TA={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(n){(function(){var e={}.hasOwnProperty;function t(){for(var i=[],a=0;a<arguments.length;a++){var l=arguments[a];if(l){var c=typeof l;if(c==="string"||c==="number")i.push(l);else if(Array.isArray(l)){if(l.length){var d=t.apply(null,l);d&&i.push(d)}}else if(c==="object"){if(l.toString!==Object.prototype.toString&&!l.toString.toString().includes("[native code]")){i.push(l.toString());continue}for(var p in l)e.call(l,p)&&l[p]&&i.push(p)}}}return i.join(" ")}n.exports?(t.default=t,n.exports=t):window.classNames=t})()})(TA);var jt=TA.exports,Fx=he.createContext(void 0),Hx=function(){var n=he.useContext(Fx);return n},Gx=function(n){var e=he.useState(!!n&&typeof window<"u"&&window.matchMedia(n).matches),t=e[0],i=e[1];return he.useEffect(function(){if(n){var a=window.matchMedia(n),l=function(){a.matches!==t&&i(a.matches)};return l(),a.addEventListener("change",l),function(){return a.removeEventListener("change",l)}}},[t,n]),t},wt={root:"ps-sidebar-root",container:"ps-sidebar-container",image:"ps-sidebar-image",backdrop:"ps-sidebar-backdrop",collapsed:"ps-collapsed",toggled:"ps-toggled",rtl:"ps-rtl",broken:"ps-broken"},Qe={root:"ps-menu-root",menuItemRoot:"ps-menuitem-root",subMenuRoot:"ps-submenu-root",button:"ps-menu-button",prefix:"ps-menu-prefix",suffix:"ps-menu-suffix",label:"ps-menu-label",icon:"ps-menu-icon",subMenuContent:"ps-submenu-content",SubMenuExpandIcon:"ps-submenu-expand-icon",disabled:"ps-disabled",active:"ps-active",open:"ps-open"},$x=Wt.div(UE||(UE=bn([`
  position: fixed;
  top: 0px;
  right: 0px;
  bottom: 0px;
  left: 0px;
  z-index: 1;
  background-color: rgb(0, 0, 0, 0.3);
`],[`
  position: fixed;
  top: 0px;
  right: 0px;
  bottom: 0px;
  left: 0px;
  z-index: 1;
  background-color: rgb(0, 0, 0, 0.3);
`]))),UE,Kx={xs:"480px",sm:"576px",md:"768px",lg:"992px",xl:"1200px",xxl:"1600px",always:"always",all:"all"},Yx=Wt.aside(jE||(jE=bn([`
  position: relative;
  border-right-width: 1px;
  border-right-style: solid;
  border-color: #efefef;

  transition: `,`;

  width: `,`;
  min-width: `,`;

  &.`,` {
    width: `,`;
    min-width: `,`;
  }

  &.`,` {
    direction: rtl;
    border-right-width: none;
    border-left-width: 1px;
    border-right-style: none;
    border-left-style: solid;
  }

  &.`,` {
    position: fixed;
    height: 100%;
    top: 0px;
    z-index: 100;

    `,`

    &.`,` {
      `,`
    }

    &.`,` {
      `,`
    }

    &.`,` {
      right: -`,`;

      &.`,` {
        right: -`,`;
      }

      &.`,` {
        right: 0;
      }
    }
  }

  `,`
`],[`
  position: relative;
  border-right-width: 1px;
  border-right-style: solid;
  border-color: #efefef;

  transition: `,`;

  width: `,`;
  min-width: `,`;

  &.`,` {
    width: `,`;
    min-width: `,`;
  }

  &.`,` {
    direction: rtl;
    border-right-width: none;
    border-left-width: 1px;
    border-right-style: none;
    border-left-style: solid;
  }

  &.`,` {
    position: fixed;
    height: 100%;
    top: 0px;
    z-index: 100;

    `,`

    &.`,` {
      `,`
    }

    &.`,` {
      `,`
    }

    &.`,` {
      right: -`,`;

      &.`,` {
        right: -`,`;
      }

      &.`,` {
        right: 0;
      }
    }
  }

  `,`
`])),function(n){var e=n.transitionDuration;return"width, left, right, ".concat(e,"ms")},function(n){var e=n.width;return e},function(n){var e=n.width;return e},wt.collapsed,function(n){var e=n.collapsedWidth;return e},function(n){var e=n.collapsedWidth;return e},wt.rtl,wt.broken,function(n){var e=n.rtl,t=n.width;return e?"":"left: -".concat(t,";")},wt.collapsed,function(n){var e=n.rtl,t=n.collapsedWidth;return e?"":"left: -".concat(t,"; ")},wt.toggled,function(n){var e=n.rtl;return e?"":"left: 0;"},wt.rtl,function(n){var e=n.width;return e},wt.collapsed,function(n){var e=n.collapsedWidth;return e},wt.toggled,function(n){var e=n.rootStyles;return e}),Qx=Wt.div(BE||(BE=bn([`
  position: relative;
  height: 100%;
  overflow-y: auto;
  overflow-x: hidden;
  z-index: 3;

  `,`
`],[`
  position: relative;
  height: 100%;
  overflow-y: auto;
  overflow-x: hidden;
  z-index: 3;

  `,`
`])),function(n){var e=n.backgroundColor;return e?"background-color:".concat(e,";"):""}),Xx=Wt.img(zE||(zE=bn([`
  &.`,` {
    width: 100%;
    height: 100%;
    object-fit: cover;
    object-position: center;
    position: absolute;
    left: 0;
    top: 0;
    z-index: 2;
  }
`],[`
  &.`,` {
    width: 100%;
    height: 100%;
    object-fit: cover;
    object-position: center;
    position: absolute;
    left: 0;
    top: 0;
    z-index: 2;
  }
`])),wt.image),id=he.createContext({collapsed:!1,toggled:!1,rtl:!1,transitionDuration:300}),Wx=he.forwardRef(function(n,e){var t,i=n.collapsed,a=n.toggled,l=n.onBackdropClick,c=n.onBreakPoint,d=n.width,p=d===void 0?"250px":d,g=n.collapsedWidth,v=g===void 0?"80px":g,b=n.defaultCollapsed,w=n.className,O=n.children,C=n.breakPoint,M=n.customBreakPoint,N=n.backgroundColor,z=N===void 0?"rgb(249, 249, 249, 0.7)":N,q=n.transitionDuration,j=q===void 0?300:q,G=n.image,Q=n.rtl,J=n.rootStyles,x=xa(n,["collapsed","toggled","onBackdropClick","onBreakPoint","width","collapsedWidth","defaultCollapsed","className","children","breakPoint","customBreakPoint","backgroundColor","transitionDuration","image","rtl","rootStyles"]),S=function(){if(M)return"(max-width: ".concat(M,")");if(C)return["xs","sm","md","lg","xl","xxl"].includes(C)?"(max-width: ".concat(Kx[C],")"):C==="always"||C==="all"?(C==="always"&&console.warn('The "always" breakPoint is deprecated and will be removed in future release. Please use the "all" breakPoint instead.'),"screen"):"(max-width: ".concat(C,")")},I=he.useRef();I.current=function(fe){c==null||c(fe)};var D=Gx(S()),V=he.useState(!1),U=V[0],P=V[1],ve=Hx(),Ue=i??(!U&&b?!0:ve==null?void 0:ve.collapsed),Z=a??(ve==null?void 0:ve.toggled),oe=function(){l==null||l(),ve==null||ve.updateSidebarState({toggled:!1})};return he.useEffect(function(){var fe;(fe=I.current)===null||fe===void 0||fe.call(I,D)},[D]),he.useEffect(function(){ve==null||ve.updateSidebarState({broken:D,rtl:Q,transitionDuration:j})},[D,ve==null?void 0:ve.updateSidebarState,Q,j]),he.useEffect(function(){U||(ve==null||ve.updateSidebarState({collapsed:b}),P(!0))},[b,U,ve==null?void 0:ve.updateSidebarState]),he.createElement(id.Provider,{value:{collapsed:Ue,toggled:Z,rtl:Q,transitionDuration:j}},he.createElement(Yx,Yn({ref:e,"data-testid":"".concat(wt.root,"-test-id"),rtl:Q,rootStyles:J,width:p,collapsedWidth:v,transitionDuration:j,className:jt(wt.root,(t={},t[wt.collapsed]=Ue,t[wt.toggled]=Z,t[wt.broken]=D,t[wt.rtl]=Q,t),w)},x),he.createElement(Qx,{"data-testid":"".concat(wt.container,"-test-id"),className:wt.container,backgroundColor:z},O),G&&he.createElement(Xx,{"data-testid":"".concat(wt.image,"-test-id"),src:G,alt:"sidebar background",className:wt.image}),D&&Z&&he.createElement($x,{"data-testid":"".concat(wt.backdrop,"-test-id"),role:"button",tabIndex:0,"aria-label":"backdrop",onClick:oe,onKeyPress:oe,className:wt.backdrop})))}),jE,BE,zE,AA=Wt.ul(qE||(qE=bn([`
  list-style-type: none;
  padding: 0;
  margin: 0;
`],[`
  list-style-type: none;
  padding: 0;
  margin: 0;
`]))),qE,Jx=Wt.nav(FE||(FE=bn([`
  &.`,` {
    `,`
  }
`],[`
  &.`,` {
    `,`
  }
`])),Qe.root,function(n){var e=n.rootStyles;return e}),wA=he.createContext(void 0),Df=he.createContext(0),Zx=function(n,e){var t=n.children,i=n.className,a=n.transitionDuration,l=a===void 0?300:a,c=n.closeOnClick,d=c===void 0?!1:c,p=n.rootStyles,g=n.menuItemStyles,v=n.renderExpandIcon,b=xa(n,["children","className","transitionDuration","closeOnClick","rootStyles","menuItemStyles","renderExpandIcon"]),w=he.useMemo(function(){return{transitionDuration:l,closeOnClick:d,menuItemStyles:g,renderExpandIcon:v}},[l,d,g,v]);return he.createElement(wA.Provider,{value:w},he.createElement(Df.Provider,{value:0},he.createElement(Jx,Yn({ref:e,className:jt(Qe.root,i),rootStyles:p},b),he.createElement(AA,null,t))))},eO=he.forwardRef(Zx),FE,qg=function(){var n=he.useContext(wA);if(n===void 0)throw new Error("Menu Component is required!");return n},tO=Wt.div(HE||(HE=bn([`
  height: 0px;
  overflow: hidden;
  z-index: 999;
  transition: height `,`ms;
  box-sizing: border-box;
  background-color: white;

  `,`

  `,`

  `,`;

  `,`;
`],[`
  height: 0px;
  overflow: hidden;
  z-index: 999;
  transition: height `,`ms;
  box-sizing: border-box;
  background-color: white;

  `,`

  `,`

  `,`;

  `,`;
`])),function(n){var e=n.transitionDuration;return e},function(n){var e=n.firstLevel,t=n.collapsed;return e&&t&&`
     background-color: white;
     box-shadow: 0 3px 6px -4px #0000001f, 0 6px 16px #00000014, 0 9px 28px 8px #0000000d;
     `},function(n){var e=n.defaultOpen;return e&&"height: auto;display: block;"},function(n){var e=n.collapsed,t=n.firstLevel,i=n.openWhenCollapsed;return e&&t?`
      position: fixed;
      padding-left: 0px;
      width: 200px;
      border-radius: 4px;
      height: auto!important;
      display: block!important;     
      transition: none!important;     
      visibility: `.concat(i?"visible":"hidden",`;
     `):`
      position: static!important;
      transform: none!important;
      `},function(n){var e=n.rootStyles;return e}),nO=function(n,e){var t=n.children,i=n.open,a=n.openWhenCollapsed,l=n.firstLevel,c=n.collapsed,d=n.defaultOpen,p=xa(n,["children","open","openWhenCollapsed","firstLevel","collapsed","defaultOpen"]),g=qg().transitionDuration,v=he.useState(d)[0];return he.createElement(tO,Yn({"data-testid":"".concat(Qe.subMenuContent,"-test-id"),ref:e,firstLevel:l,collapsed:c,open:i,openWhenCollapsed:a,transitionDuration:g,defaultOpen:v},p),he.createElement(AA,null,t))},rO=he.forwardRef(nO),HE,SA=Wt.span(GE||(GE=bn([`
  flex-grow: 1;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;

  `,`;
`],[`
  flex-grow: 1;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;

  `,`;
`])),function(n){var e=n.rootStyles;return e}),GE,RA=Wt.span($E||($E=bn([`
  width: 35px;
  min-width: 35px;
  height: 35px;
  line-height: 35px;
  text-align: center;
  display: inline-block;
  border-radius: 2px;
  display: flex;
  align-items: center;
  justify-content: center;

  `,`

  `,`;
`],[`
  width: 35px;
  min-width: 35px;
  height: 35px;
  line-height: 35px;
  text-align: center;
  display: inline-block;
  border-radius: 2px;
  display: flex;
  align-items: center;
  justify-content: center;

  `,`

  `,`;
`])),function(n){var e=n.rtl;return e?"margin-left: 10px;":"margin-right: 10px;"},function(n){var e=n.rootStyles;return e}),$E,CA=Wt.span(KE||(KE=bn([`
  `,`
  opacity: `,`;
  transition: opacity `,`ms;

  `,`;
`],[`
  `,`
  opacity: `,`;
  transition: opacity `,`ms;

  `,`;
`])),function(n){var e=n.rtl;return e?"margin-left: 5px;":"margin-right: 5px;"},function(n){var e=n.firstLevel,t=n.collapsed;return e&&t?"0":"1"},function(n){var e=n.transitionDuration;return e},function(n){var e=n.rootStyles;return e}),KE,IA=Wt.span(YE||(YE=bn([`
  margin-right: 5px;
  margin-left: 5px;
  opacity: `,`;
  transition: opacity `,`ms;

  `,`;
`],[`
  margin-right: 5px;
  margin-left: 5px;
  opacity: `,`;
  transition: opacity `,`ms;

  `,`;
`])),function(n){var e=n.firstLevel,t=n.collapsed;return e&&t?"0":"1"},function(n){var e=n.transitionDuration;return e},function(n){var e=n.rootStyles;return e}),YE,iO=Wt.span(QE||(QE=bn([`
  `,`

  `,`;
`],[`
  `,`

  `,`;
`])),function(n){var e=n.collapsed,t=n.level,i=n.rtl;return e&&t===0&&`
    position: absolute;
    `.concat(i?"left: 10px;":"right: 10px;",`
    top: 50%;
    transform: translateY(-50%);
    
    `)},function(n){var e=n.rootStyles;return e}),sO=Wt.span(XE||(XE=bn([`
  display: inline-block;
  transition: transform 0.3s;
  `,`

  width: 5px;
  height: 5px;
  transform: rotate(`,`);
`],[`
  display: inline-block;
  transition: transform 0.3s;
  `,`

  width: 5px;
  height: 5px;
  transform: rotate(`,`);
`])),function(n){var e=n.rtl;return e?`
          border-left: 2px solid currentcolor;
          border-top: 2px solid currentcolor;
        `:` border-right: 2px solid currentcolor;
          border-bottom: 2px solid currentcolor;
        `},function(n){var e=n.open,t=n.rtl;return e?t?"-135deg":"45deg":"-45deg"}),aO=Wt.span(WE||(WE=bn([`
  width: 5px;
  height: 5px;
  background-color: currentcolor;
  border-radius: 50%;
  display: inline-block;
`],[`
  width: 5px;
  height: 5px;
  background-color: currentcolor;
  border-radius: 50%;
  display: inline-block;
`]))),QE,XE,WE,kn="top",pr="bottom",mr="right",Mn="left",Fg="auto",vc=[kn,pr,mr,Mn],Xo="start",Ju="end",oO="clippingParents",xA="viewport",Nu="popper",lO="reference",JE=vc.reduce(function(n,e){return n.concat([e+"-"+Xo,e+"-"+Ju])},[]),OA=[].concat(vc,[Fg]).reduce(function(n,e){return n.concat([e,e+"-"+Xo,e+"-"+Ju])},[]),uO="beforeRead",cO="read",hO="afterRead",fO="beforeMain",dO="main",pO="afterMain",mO="beforeWrite",gO="write",vO="afterWrite",yO=[uO,cO,hO,fO,dO,pO,mO,gO,vO];function oi(n){return n?(n.nodeName||"").toLowerCase():null}function gr(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var e=n.ownerDocument;return e&&e.defaultView||window}return n}function Oa(n){var e=gr(n).Element;return n instanceof e||n instanceof Element}function dr(n){var e=gr(n).HTMLElement;return n instanceof e||n instanceof HTMLElement}function Hg(n){if(typeof ShadowRoot>"u")return!1;var e=gr(n).ShadowRoot;return n instanceof e||n instanceof ShadowRoot}function _O(n){var e=n.state;Object.keys(e.elements).forEach(function(t){var i=e.styles[t]||{},a=e.attributes[t]||{},l=e.elements[t];!dr(l)||!oi(l)||(Object.assign(l.style,i),Object.keys(a).forEach(function(c){var d=a[c];d===!1?l.removeAttribute(c):l.setAttribute(c,d===!0?"":d)}))})}function EO(n){var e=n.state,t={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow),function(){Object.keys(e.elements).forEach(function(i){var a=e.elements[i],l=e.attributes[i]||{},c=Object.keys(e.styles.hasOwnProperty(i)?e.styles[i]:t[i]),d=c.reduce(function(p,g){return p[g]="",p},{});!dr(a)||!oi(a)||(Object.assign(a.style,d),Object.keys(l).forEach(function(p){a.removeAttribute(p)}))})}}var bO={name:"applyStyles",enabled:!0,phase:"write",fn:_O,effect:EO,requires:["computeStyles"]};function Zr(n){return n.split("-")[0]}var Ca=Math.max,Pf=Math.min,Wo=Math.round;function ng(){var n=navigator.userAgentData;return n!=null&&n.brands?n.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function NA(){return!/^((?!chrome|android).)*safari/i.test(ng())}function Jo(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);var i=n.getBoundingClientRect(),a=1,l=1;e&&dr(n)&&(a=n.offsetWidth>0&&Wo(i.width)/n.offsetWidth||1,l=n.offsetHeight>0&&Wo(i.height)/n.offsetHeight||1);var c=Oa(n)?gr(n):window,d=c.visualViewport,p=!NA()&&t,g=(i.left+(p&&d?d.offsetLeft:0))/a,v=(i.top+(p&&d?d.offsetTop:0))/l,b=i.width/a,w=i.height/l;return{width:b,height:w,top:v,right:g+b,bottom:v+w,left:g,x:g,y:v}}function Gg(n){var e=Jo(n),t=n.offsetWidth,i=n.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-i)<=1&&(i=e.height),{x:n.offsetLeft,y:n.offsetTop,width:t,height:i}}function DA(n,e){var t=e.getRootNode&&e.getRootNode();if(n.contains(e))return!0;if(t&&Hg(t)){var i=e;do{if(i&&n.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function qi(n){return gr(n).getComputedStyle(n)}function TO(n){return["table","td","th"].indexOf(oi(n))>=0}function qs(n){return((Oa(n)?n.ownerDocument:n.document)||window.document).documentElement}function sd(n){return oi(n)==="html"?n:n.assignedSlot||n.parentNode||(Hg(n)?n.host:null)||qs(n)}function ZE(n){return!dr(n)||qi(n).position==="fixed"?null:n.offsetParent}function AO(n){var e=/firefox/i.test(ng()),t=/Trident/i.test(ng());if(t&&dr(n)){var i=qi(n);if(i.position==="fixed")return null}var a=sd(n);for(Hg(a)&&(a=a.host);dr(a)&&["html","body"].indexOf(oi(a))<0;){var l=qi(a);if(l.transform!=="none"||l.perspective!=="none"||l.contain==="paint"||["transform","perspective"].indexOf(l.willChange)!==-1||e&&l.willChange==="filter"||e&&l.filter&&l.filter!=="none")return a;a=a.parentNode}return null}function yc(n){for(var e=gr(n),t=ZE(n);t&&TO(t)&&qi(t).position==="static";)t=ZE(t);return t&&(oi(t)==="html"||oi(t)==="body"&&qi(t).position==="static")?e:t||AO(n)||e}function $g(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function Bu(n,e,t){return Ca(n,Pf(e,t))}function wO(n,e,t){var i=Bu(n,e,t);return i>t?t:i}function PA(){return{top:0,right:0,bottom:0,left:0}}function kA(n){return Object.assign({},PA(),n)}function MA(n,e){return e.reduce(function(t,i){return t[i]=n,t},{})}var SO=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,kA(typeof e!="number"?e:MA(e,vc))};function RO(n){var e,t=n.state,i=n.name,a=n.options,l=t.elements.arrow,c=t.modifiersData.popperOffsets,d=Zr(t.placement),p=$g(d),g=[Mn,mr].indexOf(d)>=0,v=g?"height":"width";if(!(!l||!c)){var b=SO(a.padding,t),w=Gg(l),O=p==="y"?kn:Mn,C=p==="y"?pr:mr,M=t.rects.reference[v]+t.rects.reference[p]-c[p]-t.rects.popper[v],N=c[p]-t.rects.reference[p],z=yc(l),q=z?p==="y"?z.clientHeight||0:z.clientWidth||0:0,j=M/2-N/2,G=b[O],Q=q-w[v]-b[C],J=q/2-w[v]/2+j,x=Bu(G,J,Q),S=p;t.modifiersData[i]=(e={},e[S]=x,e.centerOffset=x-J,e)}}function CO(n){var e=n.state,t=n.options,i=t.element,a=i===void 0?"[data-popper-arrow]":i;a!=null&&(typeof a=="string"&&(a=e.elements.popper.querySelector(a),!a)||DA(e.elements.popper,a)&&(e.elements.arrow=a))}var IO={name:"arrow",enabled:!0,phase:"main",fn:RO,effect:CO,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Zo(n){return n.split("-")[1]}var xO={top:"auto",right:"auto",bottom:"auto",left:"auto"};function OO(n){var e=n.x,t=n.y,i=window,a=i.devicePixelRatio||1;return{x:Wo(e*a)/a||0,y:Wo(t*a)/a||0}}function eb(n){var e,t=n.popper,i=n.popperRect,a=n.placement,l=n.variation,c=n.offsets,d=n.position,p=n.gpuAcceleration,g=n.adaptive,v=n.roundOffsets,b=n.isFixed,w=c.x,O=w===void 0?0:w,C=c.y,M=C===void 0?0:C,N=typeof v=="function"?v({x:O,y:M}):{x:O,y:M};O=N.x,M=N.y;var z=c.hasOwnProperty("x"),q=c.hasOwnProperty("y"),j=Mn,G=kn,Q=window;if(g){var J=yc(t),x="clientHeight",S="clientWidth";if(J===gr(t)&&(J=qs(t),qi(J).position!=="static"&&d==="absolute"&&(x="scrollHeight",S="scrollWidth")),J=J,a===kn||(a===Mn||a===mr)&&l===Ju){G=pr;var I=b&&J===Q&&Q.visualViewport?Q.visualViewport.height:J[x];M-=I-i.height,M*=p?1:-1}if(a===Mn||(a===kn||a===pr)&&l===Ju){j=mr;var D=b&&J===Q&&Q.visualViewport?Q.visualViewport.width:J[S];O-=D-i.width,O*=p?1:-1}}var V=Object.assign({position:d},g&&xO),U=v===!0?OO({x:O,y:M}):{x:O,y:M};if(O=U.x,M=U.y,p){var P;return Object.assign({},V,(P={},P[G]=q?"0":"",P[j]=z?"0":"",P.transform=(Q.devicePixelRatio||1)<=1?"translate("+O+"px, "+M+"px)":"translate3d("+O+"px, "+M+"px, 0)",P))}return Object.assign({},V,(e={},e[G]=q?M+"px":"",e[j]=z?O+"px":"",e.transform="",e))}function NO(n){var e=n.state,t=n.options,i=t.gpuAcceleration,a=i===void 0?!0:i,l=t.adaptive,c=l===void 0?!0:l,d=t.roundOffsets,p=d===void 0?!0:d,g={placement:Zr(e.placement),variation:Zo(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:a,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,eb(Object.assign({},g,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:c,roundOffsets:p})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,eb(Object.assign({},g,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:p})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var DO={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:NO,data:{}},nf={passive:!0};function PO(n){var e=n.state,t=n.instance,i=n.options,a=i.scroll,l=a===void 0?!0:a,c=i.resize,d=c===void 0?!0:c,p=gr(e.elements.popper),g=[].concat(e.scrollParents.reference,e.scrollParents.popper);return l&&g.forEach(function(v){v.addEventListener("scroll",t.update,nf)}),d&&p.addEventListener("resize",t.update,nf),function(){l&&g.forEach(function(v){v.removeEventListener("scroll",t.update,nf)}),d&&p.removeEventListener("resize",t.update,nf)}}var kO={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:PO,data:{}},MO={left:"right",right:"left",bottom:"top",top:"bottom"};function yf(n){return n.replace(/left|right|bottom|top/g,function(e){return MO[e]})}var VO={start:"end",end:"start"};function tb(n){return n.replace(/start|end/g,function(e){return VO[e]})}function Kg(n){var e=gr(n),t=e.pageXOffset,i=e.pageYOffset;return{scrollLeft:t,scrollTop:i}}function Yg(n){return Jo(qs(n)).left+Kg(n).scrollLeft}function LO(n,e){var t=gr(n),i=qs(n),a=t.visualViewport,l=i.clientWidth,c=i.clientHeight,d=0,p=0;if(a){l=a.width,c=a.height;var g=NA();(g||!g&&e==="fixed")&&(d=a.offsetLeft,p=a.offsetTop)}return{width:l,height:c,x:d+Yg(n),y:p}}function UO(n){var e,t=qs(n),i=Kg(n),a=(e=n.ownerDocument)==null?void 0:e.body,l=Ca(t.scrollWidth,t.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),c=Ca(t.scrollHeight,t.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0),d=-i.scrollLeft+Yg(n),p=-i.scrollTop;return qi(a||t).direction==="rtl"&&(d+=Ca(t.clientWidth,a?a.clientWidth:0)-l),{width:l,height:c,x:d,y:p}}function Qg(n){var e=qi(n),t=e.overflow,i=e.overflowX,a=e.overflowY;return/auto|scroll|overlay|hidden/.test(t+a+i)}function VA(n){return["html","body","#document"].indexOf(oi(n))>=0?n.ownerDocument.body:dr(n)&&Qg(n)?n:VA(sd(n))}function zu(n,e){var t;e===void 0&&(e=[]);var i=VA(n),a=i===((t=n.ownerDocument)==null?void 0:t.body),l=gr(i),c=a?[l].concat(l.visualViewport||[],Qg(i)?i:[]):i,d=e.concat(c);return a?d:d.concat(zu(sd(c)))}function rg(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function jO(n,e){var t=Jo(n,!1,e==="fixed");return t.top=t.top+n.clientTop,t.left=t.left+n.clientLeft,t.bottom=t.top+n.clientHeight,t.right=t.left+n.clientWidth,t.width=n.clientWidth,t.height=n.clientHeight,t.x=t.left,t.y=t.top,t}function nb(n,e,t){return e===xA?rg(LO(n,t)):Oa(e)?jO(e,t):rg(UO(qs(n)))}function BO(n){var e=zu(sd(n)),t=["absolute","fixed"].indexOf(qi(n).position)>=0,i=t&&dr(n)?yc(n):n;return Oa(i)?e.filter(function(a){return Oa(a)&&DA(a,i)&&oi(a)!=="body"}):[]}function zO(n,e,t,i){var a=e==="clippingParents"?BO(n):[].concat(e),l=[].concat(a,[t]),c=l[0],d=l.reduce(function(p,g){var v=nb(n,g,i);return p.top=Ca(v.top,p.top),p.right=Pf(v.right,p.right),p.bottom=Pf(v.bottom,p.bottom),p.left=Ca(v.left,p.left),p},nb(n,c,i));return d.width=d.right-d.left,d.height=d.bottom-d.top,d.x=d.left,d.y=d.top,d}function LA(n){var e=n.reference,t=n.element,i=n.placement,a=i?Zr(i):null,l=i?Zo(i):null,c=e.x+e.width/2-t.width/2,d=e.y+e.height/2-t.height/2,p;switch(a){case kn:p={x:c,y:e.y-t.height};break;case pr:p={x:c,y:e.y+e.height};break;case mr:p={x:e.x+e.width,y:d};break;case Mn:p={x:e.x-t.width,y:d};break;default:p={x:e.x,y:e.y}}var g=a?$g(a):null;if(g!=null){var v=g==="y"?"height":"width";switch(l){case Xo:p[g]=p[g]-(e[v]/2-t[v]/2);break;case Ju:p[g]=p[g]+(e[v]/2-t[v]/2);break}}return p}function Zu(n,e){e===void 0&&(e={});var t=e,i=t.placement,a=i===void 0?n.placement:i,l=t.strategy,c=l===void 0?n.strategy:l,d=t.boundary,p=d===void 0?oO:d,g=t.rootBoundary,v=g===void 0?xA:g,b=t.elementContext,w=b===void 0?Nu:b,O=t.altBoundary,C=O===void 0?!1:O,M=t.padding,N=M===void 0?0:M,z=kA(typeof N!="number"?N:MA(N,vc)),q=w===Nu?lO:Nu,j=n.rects.popper,G=n.elements[C?q:w],Q=zO(Oa(G)?G:G.contextElement||qs(n.elements.popper),p,v,c),J=Jo(n.elements.reference),x=LA({reference:J,element:j,placement:a}),S=rg(Object.assign({},j,x)),I=w===Nu?S:J,D={top:Q.top-I.top+z.top,bottom:I.bottom-Q.bottom+z.bottom,left:Q.left-I.left+z.left,right:I.right-Q.right+z.right},V=n.modifiersData.offset;if(w===Nu&&V){var U=V[a];Object.keys(D).forEach(function(P){var ve=[mr,pr].indexOf(P)>=0?1:-1,Ue=[kn,pr].indexOf(P)>=0?"y":"x";D[P]+=U[Ue]*ve})}return D}function qO(n,e){e===void 0&&(e={});var t=e,i=t.placement,a=t.boundary,l=t.rootBoundary,c=t.padding,d=t.flipVariations,p=t.allowedAutoPlacements,g=p===void 0?OA:p,v=Zo(i),b=v?d?JE:JE.filter(function(C){return Zo(C)===v}):vc,w=b.filter(function(C){return g.indexOf(C)>=0});w.length===0&&(w=b);var O=w.reduce(function(C,M){return C[M]=Zu(n,{placement:M,boundary:a,rootBoundary:l,padding:c})[Zr(M)],C},{});return Object.keys(O).sort(function(C,M){return O[C]-O[M]})}function FO(n){if(Zr(n)===Fg)return[];var e=yf(n);return[tb(n),e,tb(e)]}function HO(n){var e=n.state,t=n.options,i=n.name;if(!e.modifiersData[i]._skip){for(var a=t.mainAxis,l=a===void 0?!0:a,c=t.altAxis,d=c===void 0?!0:c,p=t.fallbackPlacements,g=t.padding,v=t.boundary,b=t.rootBoundary,w=t.altBoundary,O=t.flipVariations,C=O===void 0?!0:O,M=t.allowedAutoPlacements,N=e.options.placement,z=Zr(N),q=z===N,j=p||(q||!C?[yf(N)]:FO(N)),G=[N].concat(j).reduce(function(ge,be){return ge.concat(Zr(be)===Fg?qO(e,{placement:be,boundary:v,rootBoundary:b,padding:g,flipVariations:C,allowedAutoPlacements:M}):be)},[]),Q=e.rects.reference,J=e.rects.popper,x=new Map,S=!0,I=G[0],D=0;D<G.length;D++){var V=G[D],U=Zr(V),P=Zo(V)===Xo,ve=[kn,pr].indexOf(U)>=0,Ue=ve?"width":"height",Z=Zu(e,{placement:V,boundary:v,rootBoundary:b,altBoundary:w,padding:g}),oe=ve?P?mr:Mn:P?pr:kn;Q[Ue]>J[Ue]&&(oe=yf(oe));var fe=yf(oe),Oe=[];if(l&&Oe.push(Z[U]<=0),d&&Oe.push(Z[oe]<=0,Z[fe]<=0),Oe.every(function(ge){return ge})){I=V,S=!1;break}x.set(V,Oe)}if(S)for(var L=C?3:1,re=function(be){var ye=G.find(function(at){var De=x.get(at);if(De)return De.slice(0,be).every(function(Ft){return Ft})});if(ye)return I=ye,"break"},ue=L;ue>0;ue--){var le=re(ue);if(le==="break")break}e.placement!==I&&(e.modifiersData[i]._skip=!0,e.placement=I,e.reset=!0)}}var GO={name:"flip",enabled:!0,phase:"main",fn:HO,requiresIfExists:["offset"],data:{_skip:!1}};function rb(n,e,t){return t===void 0&&(t={x:0,y:0}),{top:n.top-e.height-t.y,right:n.right-e.width+t.x,bottom:n.bottom-e.height+t.y,left:n.left-e.width-t.x}}function ib(n){return[kn,mr,pr,Mn].some(function(e){return n[e]>=0})}function $O(n){var e=n.state,t=n.name,i=e.rects.reference,a=e.rects.popper,l=e.modifiersData.preventOverflow,c=Zu(e,{elementContext:"reference"}),d=Zu(e,{altBoundary:!0}),p=rb(c,i),g=rb(d,a,l),v=ib(p),b=ib(g);e.modifiersData[t]={referenceClippingOffsets:p,popperEscapeOffsets:g,isReferenceHidden:v,hasPopperEscaped:b},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":v,"data-popper-escaped":b})}var KO={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:$O};function YO(n,e,t){var i=Zr(n),a=[Mn,kn].indexOf(i)>=0?-1:1,l=typeof t=="function"?t(Object.assign({},e,{placement:n})):t,c=l[0],d=l[1];return c=c||0,d=(d||0)*a,[Mn,mr].indexOf(i)>=0?{x:d,y:c}:{x:c,y:d}}function QO(n){var e=n.state,t=n.options,i=n.name,a=t.offset,l=a===void 0?[0,0]:a,c=OA.reduce(function(v,b){return v[b]=YO(b,e.rects,l),v},{}),d=c[e.placement],p=d.x,g=d.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=p,e.modifiersData.popperOffsets.y+=g),e.modifiersData[i]=c}var XO={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:QO};function WO(n){var e=n.state,t=n.name;e.modifiersData[t]=LA({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}var JO={name:"popperOffsets",enabled:!0,phase:"read",fn:WO,data:{}};function ZO(n){return n==="x"?"y":"x"}function eN(n){var e=n.state,t=n.options,i=n.name,a=t.mainAxis,l=a===void 0?!0:a,c=t.altAxis,d=c===void 0?!1:c,p=t.boundary,g=t.rootBoundary,v=t.altBoundary,b=t.padding,w=t.tether,O=w===void 0?!0:w,C=t.tetherOffset,M=C===void 0?0:C,N=Zu(e,{boundary:p,rootBoundary:g,padding:b,altBoundary:v}),z=Zr(e.placement),q=Zo(e.placement),j=!q,G=$g(z),Q=ZO(G),J=e.modifiersData.popperOffsets,x=e.rects.reference,S=e.rects.popper,I=typeof M=="function"?M(Object.assign({},e.rects,{placement:e.placement})):M,D=typeof I=="number"?{mainAxis:I,altAxis:I}:Object.assign({mainAxis:0,altAxis:0},I),V=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,U={x:0,y:0};if(J){if(l){var P,ve=G==="y"?kn:Mn,Ue=G==="y"?pr:mr,Z=G==="y"?"height":"width",oe=J[G],fe=oe+N[ve],Oe=oe-N[Ue],L=O?-S[Z]/2:0,re=q===Xo?x[Z]:S[Z],ue=q===Xo?-S[Z]:-x[Z],le=e.elements.arrow,ge=O&&le?Gg(le):{width:0,height:0},be=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:PA(),ye=be[ve],at=be[Ue],De=Bu(0,x[Z],ge[Z]),Ft=j?x[Z]/2-L-De-ye-D.mainAxis:re-De-ye-D.mainAxis,Un=j?-x[Z]/2+L+De+at+D.mainAxis:ue+De+at+D.mainAxis,un=e.elements.arrow&&yc(e.elements.arrow),vr=un?G==="y"?un.clientTop||0:un.clientLeft||0:0,Wn=(P=V==null?void 0:V[G])!=null?P:0,Ht=oe+Ft-Wn-vr,cn=oe+Un-Wn,ut=Bu(O?Pf(fe,Ht):fe,oe,O?Ca(Oe,cn):Oe);J[G]=ut,U[G]=ut-oe}if(d){var Ce,hn=G==="x"?kn:Mn,Cn=G==="x"?pr:mr,tt=J[Q],Rt=Q==="y"?"height":"width",In=tt+N[hn],Jt=tt-N[Cn],jn=[kn,Mn].indexOf(z)!==-1,yr=(Ce=V==null?void 0:V[Q])!=null?Ce:0,ct=jn?In:tt-x[Rt]-S[Rt]-yr+D.altAxis,Ge=jn?tt+x[Rt]+S[Rt]-yr-D.altAxis:Jt,fn=O&&jn?wO(ct,tt,Ge):Bu(O?ct:In,tt,O?Ge:Jt);J[Q]=fn,U[Q]=fn-tt}e.modifiersData[i]=U}}var tN={name:"preventOverflow",enabled:!0,phase:"main",fn:eN,requiresIfExists:["offset"]};function nN(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function rN(n){return n===gr(n)||!dr(n)?Kg(n):nN(n)}function iN(n){var e=n.getBoundingClientRect(),t=Wo(e.width)/n.offsetWidth||1,i=Wo(e.height)/n.offsetHeight||1;return t!==1||i!==1}function sN(n,e,t){t===void 0&&(t=!1);var i=dr(e),a=dr(e)&&iN(e),l=qs(e),c=Jo(n,a,t),d={scrollLeft:0,scrollTop:0},p={x:0,y:0};return(i||!i&&!t)&&((oi(e)!=="body"||Qg(l))&&(d=rN(e)),dr(e)?(p=Jo(e,!0),p.x+=e.clientLeft,p.y+=e.clientTop):l&&(p.x=Yg(l))),{x:c.left+d.scrollLeft-p.x,y:c.top+d.scrollTop-p.y,width:c.width,height:c.height}}function aN(n){var e=new Map,t=new Set,i=[];n.forEach(function(l){e.set(l.name,l)});function a(l){t.add(l.name);var c=[].concat(l.requires||[],l.requiresIfExists||[]);c.forEach(function(d){if(!t.has(d)){var p=e.get(d);p&&a(p)}}),i.push(l)}return n.forEach(function(l){t.has(l.name)||a(l)}),i}function oN(n){var e=aN(n);return yO.reduce(function(t,i){return t.concat(e.filter(function(a){return a.phase===i}))},[])}function lN(n){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(n())})})),e}}function uN(n){var e=n.reduce(function(t,i){var a=t[i.name];return t[i.name]=a?Object.assign({},a,i,{options:Object.assign({},a.options,i.options),data:Object.assign({},a.data,i.data)}):i,t},{});return Object.keys(e).map(function(t){return e[t]})}var sb={placement:"bottom",modifiers:[],strategy:"absolute"};function ab(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return!e.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function cN(n){n===void 0&&(n={});var e=n,t=e.defaultModifiers,i=t===void 0?[]:t,a=e.defaultOptions,l=a===void 0?sb:a;return function(d,p,g){g===void 0&&(g=l);var v={placement:"bottom",orderedModifiers:[],options:Object.assign({},sb,l),modifiersData:{},elements:{reference:d,popper:p},attributes:{},styles:{}},b=[],w=!1,O={state:v,setOptions:function(z){var q=typeof z=="function"?z(v.options):z;M(),v.options=Object.assign({},l,v.options,q),v.scrollParents={reference:Oa(d)?zu(d):d.contextElement?zu(d.contextElement):[],popper:zu(p)};var j=oN(uN([].concat(i,v.options.modifiers)));return v.orderedModifiers=j.filter(function(G){return G.enabled}),C(),O.update()},forceUpdate:function(){if(!w){var z=v.elements,q=z.reference,j=z.popper;if(ab(q,j)){v.rects={reference:sN(q,yc(j),v.options.strategy==="fixed"),popper:Gg(j)},v.reset=!1,v.placement=v.options.placement,v.orderedModifiers.forEach(function(D){return v.modifiersData[D.name]=Object.assign({},D.data)});for(var G=0;G<v.orderedModifiers.length;G++){if(v.reset===!0){v.reset=!1,G=-1;continue}var Q=v.orderedModifiers[G],J=Q.fn,x=Q.options,S=x===void 0?{}:x,I=Q.name;typeof J=="function"&&(v=J({state:v,options:S,name:I,instance:O})||v)}}}},update:lN(function(){return new Promise(function(N){O.forceUpdate(),N(v)})}),destroy:function(){M(),w=!0}};if(!ab(d,p))return O;O.setOptions(g).then(function(N){!w&&g.onFirstUpdate&&g.onFirstUpdate(N)});function C(){v.orderedModifiers.forEach(function(N){var z=N.name,q=N.options,j=q===void 0?{}:q,G=N.effect;if(typeof G=="function"){var Q=G({state:v,name:z,instance:O,options:j}),J=function(){};b.push(Q||J)}})}function M(){b.forEach(function(N){return N()}),b=[]}return O}}var hN=[kO,JO,DO,bO,XO,GO,tN,IO,KO],fN=cN({defaultModifiers:hN}),dN=function(n){var e=n.level,t=n.buttonRef,i=n.contentRef,a=he.useContext(id),l=a.collapsed,c=a.toggled,d=a.transitionDuration,p=he.useRef();return he.useEffect(function(){return e===0&&l&&i.current&&t.current&&(p.current=fN(t.current,i.current,{placement:"right",strategy:"fixed",modifiers:[{name:"offset",options:{offset:[0,5]}}]})),function(){var g;return(g=p.current)===null||g===void 0?void 0:g.destroy()}},[e,l,i,t]),he.useEffect(function(){if(i.current&&t.current){var g=new ResizeObserver(function(){var v;(v=p.current)===null||v===void 0||v.update()});g.observe(i.current),g.observe(t.current)}setTimeout(function(){var v;(v=p.current)===null||v===void 0||v.update()},d)},[d,c,i,t]),{popperInstance:p.current}},UA=function(n){var e=n.rtl,t=n.level,i=n.collapsed,a=n.disabled,l=n.active;return`
    display: flex;
    align-items: center;
    height: 50px;
    text-decoration: none;
    color: inherit;
    box-sizing: border-box;
    cursor: pointer;

    `.concat(e?`padding-left: 20px;
           padding-right: `.concat(t===0?20:(i?t:t+1)*20,`px;
            `):`padding-right: 20px;
           padding-left: `.concat(t===0?20:(i?t:t+1)*20,`px;
           `),`

    &:hover {
      background-color: #f3f3f3;
    }

    `).concat(a&&` 
      pointer-events: none;
      cursor: default;
      color:#adadad;
        `,`

    `).concat(l&&"background-color: #e2eef9;",`
  
  `)},pN=function(n,e){var t=n.className,i=n.component,a=n.children,l=xa(n,["className","component","children"]);if(i){if(typeof i=="string")return he.createElement(i,Yn(Yn({className:jt(t)},l),{ref:e}),a);var c=i.props,d=c.className,p=xa(c,["className"]);return he.cloneElement(i,Yn(Yn(Yn({className:jt(t,d)},l),p),{ref:e}),a)}else return he.createElement("a",Yn({ref:e,className:jt(t)},l),a)},jA=he.forwardRef(pN),mN=Wt.li(lb||(lb=bn([`
  position: relative;
  width: 100%;

  `,`;

  `,`;

  > .`,` {
    `,`;

    `,`;
  }
`],[`
  position: relative;
  width: 100%;

  `,`;

  `,`;

  > .`,` {
    `,`;

    `,`;
  }
`])),function(n){var e=n.menuItemStyles;return e},function(n){var e=n.rootStyles;return e},Qe.button,function(n){var e=n.level,t=n.disabled,i=n.active,a=n.collapsed,l=n.rtl;return UA({level:e,disabled:t,active:i,collapsed:a,rtl:l})},function(n){var e=n.buttonStyles;return e}),gN=function(n,e){var t,i=n.children,a=n.className,l=n.label,c=n.icon,d=n.title,p=n.prefix,g=n.suffix,v=n.open,b=n.defaultOpen,w=n.active,O=w===void 0?!1:w,C=n.disabled,M=C===void 0?!1:C,N=n.rootStyles,z=n.component,q=n.onOpenChange,j=n.onClick,G=n.onKeyUp,Q=xa(n,["children","className","label","icon","title","prefix","suffix","open","defaultOpen","active","disabled","rootStyles","component","onOpenChange","onClick","onKeyUp"]),J=he.useContext(Df),x=he.useContext(id),S=x.collapsed,I=x.rtl,D=x.transitionDuration,V=qg(),U=V.renderExpandIcon,P=V.closeOnClick,ve=V.menuItemStyles,Ue=V.transitionDuration,Z=he.useState(!!b),oe=Z[0],fe=Z[1],Oe=he.useState(!1),L=Oe[0],re=Oe[1],ue=he.useState(!1),le=ue[0],ge=ue[1],be=he.useRef(null),ye=he.useRef(null),at=he.useRef(),De=dN({level:J,buttonRef:be,contentRef:ye}).popperInstance,Ft=he.useCallback(function(){var ut,Ce=ye.current;if(Ce){var hn=(ut=Ce==null?void 0:Ce.querySelector(".".concat(Qe.subMenuContent," > ul")))===null||ut===void 0?void 0:ut.clientHeight;Ce.style.overflow="hidden",Ce.style.height="".concat(hn,"px"),at.current=setTimeout(function(){Ce.style.overflow="auto",Ce.style.height="auto"},Ue)}},[Ue]),Un=function(){var ut,Ce=ye.current;if(Ce){var hn=(ut=Ce==null?void 0:Ce.querySelector(".".concat(Qe.subMenuContent," > ul")))===null||ut===void 0?void 0:ut.clientHeight;Ce.style.overflow="hidden",Ce.style.height="".concat(hn,"px"),Ce.offsetHeight,Ce.style.height="0px"}},un=function(){J===0&&S||(typeof v>"u"?(clearTimeout(Number(at.current)),oe?Un():Ft(),q==null||q(!oe),fe(!oe)):q==null||q(!v))};he.useEffect(function(){!(J===0&&S)&&typeof v<"u"&&le&&(clearTimeout(Number(at.current)),v?Ft():Un())},[S,Ft,l,J,q,v]);var vr=function(ut){j==null||j(ut),un()},Wn=function(ut){G==null||G(ut),ut.key==="Enter"&&un()},Ht=function(ut){if(ve){var Ce={level:J,disabled:M,active:O,isSubmenu:!0,open:v??oe},hn=ve.root,Cn=ve.button,tt=ve.label,Rt=ve.icon,In=ve.prefix,Jt=ve.suffix,jn=ve.subMenuContent,yr=ve.SubMenuExpandIcon;switch(ut){case"root":return typeof hn=="function"?hn(Ce):hn;case"button":return typeof Cn=="function"?Cn(Ce):Cn;case"label":return typeof tt=="function"?tt(Ce):tt;case"icon":return typeof Rt=="function"?Rt(Ce):Rt;case"prefix":return typeof In=="function"?In(Ce):In;case"suffix":return typeof Jt=="function"?Jt(Ce):Jt;case"SubMenuExpandIcon":return typeof yr=="function"?yr(Ce):yr;case"subMenuContent":return typeof jn=="function"?jn(Ce):jn;default:return}}};he.useEffect(function(){setTimeout(function(){return De==null?void 0:De.update()},D),S&&J===0&&re(!1)},[S,J,I,D,De]),he.useEffect(function(){var ut=function(tt){var Rt,In,Jt;!L&&(!((Rt=be.current)===null||Rt===void 0)&&Rt.contains(tt))?re(!0):(P&&!(!((In=tt.closest(".".concat(Qe.menuItemRoot)))===null||In===void 0)&&In.classList.contains(Qe.subMenuRoot))||!(!((Jt=ye.current)===null||Jt===void 0)&&Jt.contains(tt))&&L)&&re(!1)},Ce=function(tt){ut(tt.target)},hn=function(tt){tt.key==="Enter"?ut(tt.target):tt.key==="Escape"&&re(!1)},Cn=function(){document.removeEventListener("click",Ce),document.removeEventListener("keyup",hn)};return Cn(),S&&J===0&&(document.addEventListener("click",Ce,!1),document.addEventListener("keyup",hn,!1)),function(){Cn()}},[S,J,P,L]),he.useEffect(function(){ge(!0)},[]);var cn=(t={},t[Qe.active]=O,t[Qe.disabled]=M,t[Qe.open]=v??oe,t);return he.createElement(mN,{ref:e,className:jt(Qe.menuItemRoot,Qe.subMenuRoot,cn,a),menuItemStyles:Ht("root"),level:J,collapsed:S,rtl:I,disabled:M,active:O,buttonStyles:Ht("button"),rootStyles:N},he.createElement(jA,Yn({"data-testid":"".concat(Qe.button,"-test-id"),ref:be,title:d,className:jt(Qe.button,cn),onClick:vr,onKeyUp:Wn,component:z,tabIndex:0},Q),c&&he.createElement(RA,{rtl:I,className:jt(Qe.icon,cn),rootStyles:Ht("icon")},c),p&&he.createElement(CA,{collapsed:S,transitionDuration:D,firstLevel:J===0,className:jt(Qe.prefix,cn),rtl:I,rootStyles:Ht("prefix")},p),he.createElement(SA,{className:jt(Qe.label,cn),rootStyles:Ht("label")},l),g&&he.createElement(IA,{collapsed:S,transitionDuration:D,firstLevel:J===0,className:jt(Qe.suffix,cn),rootStyles:Ht("suffix")},g),he.createElement(iO,{rtl:I,className:jt(Qe.SubMenuExpandIcon,cn),collapsed:S,level:J,rootStyles:Ht("SubMenuExpandIcon")},U?U({level:J,disabled:M,active:O,open:v??oe}):S&&J===0?he.createElement(aO,null):he.createElement(sO,{rtl:I,open:v??oe}))),he.createElement(rO,{ref:ye,openWhenCollapsed:L,open:v??oe,firstLevel:J===0,collapsed:S,defaultOpen:v&&!le||b,className:jt(Qe.subMenuContent,cn),rootStyles:Ht("subMenuContent")},he.createElement(Df.Provider,{value:J+1},i)))},ob=he.forwardRef(gN),lb,vN=Wt.li(ub||(ub=bn([`
  width: 100%;
  position: relative;

  `,`;

  `,`;

  > .`,` {
    `,`;

    `,`;
  }
`],[`
  width: 100%;
  position: relative;

  `,`;

  `,`;

  > .`,` {
    `,`;

    `,`;
  }
`])),function(n){var e=n.menuItemStyles;return e},function(n){var e=n.rootStyles;return e},Qe.button,function(n){var e=n.level,t=n.disabled,i=n.active,a=n.collapsed,l=n.rtl;return UA({level:e,disabled:t,active:i,collapsed:a,rtl:l})},function(n){var e=n.buttonStyles;return e}),yN=function(n,e){var t,i=n.children,a=n.icon,l=n.className,c=n.prefix,d=n.suffix,p=n.active,g=p===void 0?!1:p,v=n.disabled,b=v===void 0?!1:v,w=n.component,O=n.rootStyles,C=xa(n,["children","icon","className","prefix","suffix","active","disabled","component","rootStyles"]),M=he.useContext(Df),N=he.useContext(id),z=N.collapsed,q=N.rtl,j=N.transitionDuration,G=qg().menuItemStyles,Q=function(x){if(G){var S={level:M,disabled:b,active:g,isSubmenu:!1},I=G.root,D=G.button,V=G.label,U=G.icon,P=G.prefix,ve=G.suffix;switch(x){case"root":return typeof I=="function"?I(S):I;case"button":return typeof D=="function"?D(S):D;case"label":return typeof V=="function"?V(S):V;case"icon":return typeof U=="function"?U(S):U;case"prefix":return typeof P=="function"?P(S):P;case"suffix":return typeof ve=="function"?ve(S):ve;default:return}}},J=(t={},t[Qe.active]=g,t[Qe.disabled]=b,t);return he.createElement(vN,{ref:e,className:jt(Qe.menuItemRoot,J,l),menuItemStyles:Q("root"),level:M,collapsed:z,rtl:q,disabled:b,active:g,buttonStyles:Q("button"),rootStyles:O},he.createElement(jA,Yn({className:jt(Qe.button,J),"data-testid":"".concat(Qe.button,"-test-id"),component:w,tabIndex:0},C),a&&he.createElement(RA,{rtl:q,className:jt(Qe.icon,J),rootStyles:Q("icon")},a),c&&he.createElement(CA,{collapsed:z,transitionDuration:j,firstLevel:M===0,className:jt(Qe.prefix,J),rtl:q,rootStyles:Q("prefix")},c),he.createElement(SA,{className:jt(Qe.label,J),rootStyles:Q("label")},i),d&&he.createElement(IA,{collapsed:z,transitionDuration:j,firstLevel:M===0,className:jt(Qe.suffix,J),rootStyles:Q("suffix")},d)))},Du=he.forwardRef(yN),ub;const Xg="/concurso-interno-violino/assets/logo-gulbenkian-BDNkqi1c.png",Wg="/concurso-interno-violino/assets/logo-republica-portuguesa-C5MSZW22.png";function _N({collapsed:n,toggled:e,onClose:t,setBroken:i}){const a=Ua(),l=ui(),c=d=>{a(d),e&&t()};return T.jsx(Wx,{collapsed:n,toggled:e,onBackdropClick:t,onBreakPoint:i,breakPoint:"md",backgroundColor:"hsl(210, 15%, 98%)",style:{height:"100vh",position:"fixed",zIndex:1e3,borderRight:"1px solid hsl(210, 15%, 90%)"},width:"230px",collapsedWidth:"65px",children:T.jsxs("div",{style:{display:"flex",flexDirection:"column",height:"100%"},children:[T.jsxs(eO,{children:[" ",T.jsxs("div",{className:"sidebar-header",children:[T.jsx("img",{src:Xg,alt:"Logo Concurso",className:"sidebar-logo"}),T.jsx("span",{className:"sidebar-title",children:"V Concurso Interno"}),T.jsx("br",{}),T.jsx("span",{className:"sidebar-title",children:"de Violino"})]}),T.jsx(Du,{component:T.jsx(wa,{to:"/"}),active:l.pathname==="/",onClick:()=>c("/"),children:"Pgina Principal"}),T.jsxs(ob,{label:"V Concurso Interno Violino",defaultOpen:["/regulamento","/inscricao","/juri","/resultados"].includes(l.pathname),children:[T.jsx(Du,{component:T.jsx(wa,{to:"/regulamento"}),active:l.pathname==="/regulamento",onClick:()=>c("/regulamento"),children:"Regulamento"}),T.jsx(Du,{component:T.jsx(wa,{to:"/inscricao"}),active:l.pathname==="/inscricao",onClick:()=>c("/inscricao"),children:"Inscries"}),T.jsx(Du,{component:T.jsx(wa,{to:"/juri"}),active:l.pathname==="/juri",onClick:()=>c("/juri"),children:"Jri"})]}),T.jsx(ob,{label:"rea Reservada",defaultOpen:l.pathname==="/jurylogin",children:T.jsx(Du,{component:T.jsx(wa,{to:"/jurylogin"}),active:l.pathname==="/jurylogin",onClick:()=>c("/jurylogin"),children:"Login Jri"})})]}),T.jsx("div",{className:"sidebar-footer",children:T.jsx("img",{src:Wg,alt:"Logo Concurso",className:"sidebar-logo-footer"})})]})})}function EN({onClick:n,isOpen:e}){return T.jsxs("button",{className:`burger-button-pro-sidebar ${e?"open":""}`,onClick:n,"aria-label":e?"Fechar menu":"Abrir menu","aria-expanded":e,children:[T.jsx("span",{}),T.jsx("span",{}),T.jsx("span",{})]})}function bN(){const[n,e]=F.useState(!1),[t,i]=F.useState(!1),[a,l]=F.useState(!1),c=()=>{a?i(!t):e(!n)};return F.useEffect(()=>(a&&t?document.body.classList.add("sidebar-mobile-open"):document.body.classList.remove("sidebar-mobile-open"),()=>{document.body.classList.remove("sidebar-mobile-open")}),[a,t]),T.jsxs("div",{className:"site-container-pro-sidebar",children:[" ",T.jsx(_N,{collapsed:n&&!a,toggled:t&&a,onClose:()=>i(!1),setBroken:l}),a&&T.jsx("div",{className:"burger-button-container",children:T.jsx(EN,{onClick:c,isOpen:t})}),T.jsx("main",{className:"content-wrap-pro-sidebar",children:T.jsx(sA,{})})]})}const TN=()=>{};var cb={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BA=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let a=n.charCodeAt(i);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},AN=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const a=n[t++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const l=n[t++];e[i++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=n[t++],c=n[t++],d=n[t++],p=((a&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const l=n[t++],c=n[t++];e[i++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},zA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<n.length;a+=3){const l=n[a],c=a+1<n.length,d=c?n[a+1]:0,p=a+2<n.length,g=p?n[a+2]:0,v=l>>2,b=(l&3)<<4|d>>4;let w=(d&15)<<2|g>>6,O=g&63;p||(O=64,c||(w=64)),i.push(t[v],t[b],t[w],t[O])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(BA(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):AN(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<n.length;){const l=t[n.charAt(a++)],d=a<n.length?t[n.charAt(a)]:0;++a;const g=a<n.length?t[n.charAt(a)]:64;++a;const b=a<n.length?t[n.charAt(a)]:64;if(++a,l==null||d==null||g==null||b==null)throw new wN;const w=l<<2|d>>4;if(i.push(w),g!==64){const O=d<<4&240|g>>2;if(i.push(O),b!==64){const C=g<<6&192|b;i.push(C)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class wN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const SN=function(n){const e=BA(n);return zA.encodeByteArray(e,!0)},kf=function(n){return SN(n).replace(/\./g,"")},qA=function(n){try{return zA.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CN=()=>RN().__FIREBASE_DEFAULTS__,IN=()=>{if(typeof process>"u"||typeof cb>"u")return;const n=cb.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},xN=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&qA(n[1]);return e&&JSON.parse(e)},ad=()=>{try{return TN()||CN()||IN()||xN()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},FA=n=>{var e,t;return(t=(e=ad())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},HA=n=>{const e=FA(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},GA=()=>{var n;return(n=ad())===null||n===void 0?void 0:n.config},$A=n=>{var e;return(e=ad())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KA(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",a=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},n);return[kf(JSON.stringify(t)),kf(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function En(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function NN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(En())}function DN(){var n;const e=(n=ad())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function PN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function kN(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function MN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function VN(){const n=En();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function LN(){return!DN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function UN(){try{return typeof indexedDB=="object"}catch{return!1}}function jN(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{var l;e(((l=a.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BN="FirebaseError";class ci extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=BN,Object.setPrototypeOf(this,ci.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_c.prototype.create)}}class _c{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?zN(l,i):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new ci(a,d,i)}}function zN(n,e){return n.replace(qN,(t,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const qN=/\{\$([^}]+)}/g;function FN(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Na(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const a of t){if(!i.includes(a))return!1;const l=n[a],c=e[a];if(hb(l)&&hb(c)){if(!Na(l,c))return!1}else if(l!==c)return!1}for(const a of i)if(!t.includes(a))return!1;return!0}function hb(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ec(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function ku(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[a,l]=i.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function Mu(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function HN(n,e){const t=new GN(n,e);return t.subscribe.bind(t)}class GN{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let a;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");$N(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:i},a.next===void 0&&(a.next=Vm),a.error===void 0&&(a.error=Vm),a.complete===void 0&&(a.complete=Vm);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function $N(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Vm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qt(n){return n&&n._delegate?n._delegate:n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fl(n){return n.endsWith(".cloudworkstations.dev")}async function Jg(n){return(await fetch(n,{credentials:"include"})).ok}class ks{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new ON;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(QN(e))try{this.getOrInitializeService({instanceIdentifier:Aa})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:a});i.resolve(l)}catch{}}}}clearInstance(e=Aa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Aa){return this.instances.has(e)}getOptions(e=Aa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);i===d&&c.resolve(a)}return a}onInit(e,t){var i;const a=this.normalizeInstanceIdentifier(t),l=(i=this.onInitCallbacks.get(a))!==null&&i!==void 0?i:new Set;l.add(e),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&e(c,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const a of i)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:YN(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Aa){return this.component?this.component.multipleInstances?e:Aa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function YN(n){return n===Aa?void 0:n}function QN(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new KN(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var je;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(je||(je={}));const WN={debug:je.DEBUG,verbose:je.VERBOSE,info:je.INFO,warn:je.WARN,error:je.ERROR,silent:je.SILENT},JN=je.INFO,ZN={[je.DEBUG]:"log",[je.VERBOSE]:"log",[je.INFO]:"info",[je.WARN]:"warn",[je.ERROR]:"error"},eD=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),a=ZN[e];if(a)console[a](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Zg{constructor(e){this.name=e,this._logLevel=JN,this._logHandler=eD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?WN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,je.DEBUG,...e),this._logHandler(this,je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,je.VERBOSE,...e),this._logHandler(this,je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,je.INFO,...e),this._logHandler(this,je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,je.WARN,...e),this._logHandler(this,je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,je.ERROR,...e),this._logHandler(this,je.ERROR,...e)}}const tD=(n,e)=>e.some(t=>n instanceof t);let fb,db;function nD(){return fb||(fb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function rD(){return db||(db=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const YA=new WeakMap,ig=new WeakMap,QA=new WeakMap,Lm=new WeakMap,ev=new WeakMap;function iD(n){const e=new Promise((t,i)=>{const a=()=>{n.removeEventListener("success",l),n.removeEventListener("error",c)},l=()=>{t(Is(n.result)),a()},c=()=>{i(n.error),a()};n.addEventListener("success",l),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&YA.set(t,n)}).catch(()=>{}),ev.set(e,n),e}function sD(n){if(ig.has(n))return;const e=new Promise((t,i)=>{const a=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",c),n.removeEventListener("abort",c)},l=()=>{t(),a()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",l),n.addEventListener("error",c),n.addEventListener("abort",c)});ig.set(n,e)}let sg={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return ig.get(n);if(e==="objectStoreNames")return n.objectStoreNames||QA.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Is(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function aD(n){sg=n(sg)}function oD(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(Um(this),e,...t);return QA.set(i,e.sort?e.sort():[e]),Is(i)}:rD().includes(n)?function(...e){return n.apply(Um(this),e),Is(YA.get(this))}:function(...e){return Is(n.apply(Um(this),e))}}function lD(n){return typeof n=="function"?oD(n):(n instanceof IDBTransaction&&sD(n),tD(n,nD())?new Proxy(n,sg):n)}function Is(n){if(n instanceof IDBRequest)return iD(n);if(Lm.has(n))return Lm.get(n);const e=lD(n);return e!==n&&(Lm.set(n,e),ev.set(e,n)),e}const Um=n=>ev.get(n);function uD(n,e,{blocked:t,upgrade:i,blocking:a,terminated:l}={}){const c=indexedDB.open(n,e),d=Is(c);return i&&c.addEventListener("upgradeneeded",p=>{i(Is(c.result),p.oldVersion,p.newVersion,Is(c.transaction),p)}),t&&c.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),d.then(p=>{l&&p.addEventListener("close",()=>l()),a&&p.addEventListener("versionchange",g=>a(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const cD=["get","getKey","getAll","getAllKeys","count"],hD=["put","add","delete","clear"],jm=new Map;function pb(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(jm.get(e))return jm.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,a=hD.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(a||cD.includes(t)))return;const l=async function(c,...d){const p=this.transaction(c,a?"readwrite":"readonly");let g=p.store;return i&&(g=g.index(d.shift())),(await Promise.all([g[t](...d),a&&p.done]))[0]};return jm.set(e,l),l}aD(n=>({...n,get:(e,t,i)=>pb(e,t)||n.get(e,t,i),has:(e,t)=>!!pb(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(dD(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function dD(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ag="@firebase/app",mb="0.12.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fi=new Zg("@firebase/app"),pD="@firebase/app-compat",mD="@firebase/analytics-compat",gD="@firebase/analytics",vD="@firebase/app-check-compat",yD="@firebase/app-check",_D="@firebase/auth",ED="@firebase/auth-compat",bD="@firebase/database",TD="@firebase/data-connect",AD="@firebase/database-compat",wD="@firebase/functions",SD="@firebase/functions-compat",RD="@firebase/installations",CD="@firebase/installations-compat",ID="@firebase/messaging",xD="@firebase/messaging-compat",OD="@firebase/performance",ND="@firebase/performance-compat",DD="@firebase/remote-config",PD="@firebase/remote-config-compat",kD="@firebase/storage",MD="@firebase/storage-compat",VD="@firebase/firestore",LD="@firebase/vertexai",UD="@firebase/firestore-compat",jD="firebase",BD="11.7.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const og="[DEFAULT]",zD={[ag]:"fire-core",[pD]:"fire-core-compat",[gD]:"fire-analytics",[mD]:"fire-analytics-compat",[yD]:"fire-app-check",[vD]:"fire-app-check-compat",[_D]:"fire-auth",[ED]:"fire-auth-compat",[bD]:"fire-rtdb",[TD]:"fire-data-connect",[AD]:"fire-rtdb-compat",[wD]:"fire-fn",[SD]:"fire-fn-compat",[RD]:"fire-iid",[CD]:"fire-iid-compat",[ID]:"fire-fcm",[xD]:"fire-fcm-compat",[OD]:"fire-perf",[ND]:"fire-perf-compat",[DD]:"fire-rc",[PD]:"fire-rc-compat",[kD]:"fire-gcs",[MD]:"fire-gcs-compat",[VD]:"fire-fst",[UD]:"fire-fst-compat",[LD]:"fire-vertex","fire-js":"fire-js",[jD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mf=new Map,qD=new Map,lg=new Map;function gb(n,e){try{n.container.addComponent(e)}catch(t){Fi.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Da(n){const e=n.name;if(lg.has(e))return Fi.debug(`There were multiple attempts to register component ${e}.`),!1;lg.set(e,n);for(const t of Mf.values())gb(t,n);for(const t of qD.values())gb(t,n);return!0}function od(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function hr(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},xs=new _c("app","Firebase",FD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new ks("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw xs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ja=BD;function XA(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:og,automaticDataCollectionEnabled:!1},e),a=i.name;if(typeof a!="string"||!a)throw xs.create("bad-app-name",{appName:String(a)});if(t||(t=GA()),!t)throw xs.create("no-options");const l=Mf.get(a);if(l){if(Na(t,l.options)&&Na(i,l.config))return l;throw xs.create("duplicate-app",{appName:a})}const c=new XN(a);for(const p of lg.values())c.addComponent(p);const d=new HD(t,i,c);return Mf.set(a,d),d}function tv(n=og){const e=Mf.get(n);if(!e&&n===og&&GA())return XA();if(!e)throw xs.create("no-app",{appName:n});return e}function ei(n,e,t){var i;let a=(i=zD[n])!==null&&i!==void 0?i:n;t&&(a+=`-${t}`);const l=a.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${e}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Fi.warn(d.join(" "));return}Da(new ks(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GD="firebase-heartbeat-database",$D=1,ec="firebase-heartbeat-store";let Bm=null;function WA(){return Bm||(Bm=uD(GD,$D,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(ec)}catch(t){console.warn(t)}}}}).catch(n=>{throw xs.create("idb-open",{originalErrorMessage:n.message})})),Bm}async function KD(n){try{const t=(await WA()).transaction(ec),i=await t.objectStore(ec).get(JA(n));return await t.done,i}catch(e){if(e instanceof ci)Fi.warn(e.message);else{const t=xs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Fi.warn(t.message)}}}async function vb(n,e){try{const i=(await WA()).transaction(ec,"readwrite");await i.objectStore(ec).put(e,JA(n)),await i.done}catch(t){if(t instanceof ci)Fi.warn(t.message);else{const i=xs.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Fi.warn(i.message)}}}function JA(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YD=1024,QD=30;class XD{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new JD(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=yb();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>QD){const c=ZD(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Fi.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=yb(),{heartbeatsToSend:i,unsentEntries:a}=WD(this._heartbeatsCache.heartbeats),l=kf(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Fi.warn(t),""}}}function yb(){return new Date().toISOString().substring(0,10)}function WD(n,e=YD){const t=[];let i=n.slice();for(const a of n){const l=t.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),_b(t)>e){l.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),_b(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class JD{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return UN()?jN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await KD(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return vb(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return vb(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function _b(n){return kf(JSON.stringify({version:2,heartbeats:n})).length}function ZD(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e2(n){Da(new ks("platform-logger",e=>new fD(e),"PRIVATE")),Da(new ks("heartbeat",e=>new XD(e),"PRIVATE")),ei(ag,mb,n),ei(ag,mb,"esm2017"),ei("fire-js","")}e2("");function nv(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(n);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(n,i[a])&&(t[i[a]]=n[i[a]]);return t}function ZA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const t2=ZA,ew=new _c("auth","Firebase",ZA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vf=new Zg("@firebase/auth");function n2(n,...e){Vf.logLevel<=je.WARN&&Vf.warn(`Auth (${ja}): ${n}`,...e)}function _f(n,...e){Vf.logLevel<=je.ERROR&&Vf.error(`Auth (${ja}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ir(n,...e){throw rv(n,...e)}function ti(n,...e){return rv(n,...e)}function tw(n,e,t){const i=Object.assign(Object.assign({},t2()),{[e]:t});return new _c("auth","Firebase",i).create(e,{appName:n.name})}function Os(n){return tw(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function rv(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return ew.create(n,...e)}function we(n,e,...t){if(!n)throw rv(e,...t)}function Vi(n){const e="INTERNAL ASSERTION FAILED: "+n;throw _f(e),new Error(e)}function Hi(n,e){n||Vi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ug(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function r2(){return Eb()==="http:"||Eb()==="https:"}function Eb(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(r2()||kN()||"connection"in navigator)?navigator.onLine:!0}function s2(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(e,t){this.shortDelay=e,this.longDelay=t,Hi(t>e,"Short delay should be less than long delay!"),this.isMobile=NN()||MN()}get(){return i2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iv(n,e){Hi(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nw{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Vi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Vi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Vi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],l2=new bc(3e4,6e4);function Ba(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Fs(n,e,t,i,a={}){return rw(n,a,async()=>{let l={},c={};i&&(e==="GET"?c=i:l={body:JSON.stringify(i)});const d=Ec(Object.assign({key:n.config.apiKey},c)).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const g=Object.assign({method:e,headers:p},l);return PN()||(g.referrerPolicy="no-referrer"),n.emulatorConfig&&fl(n.emulatorConfig.host)&&(g.credentials="include"),nw.fetch()(await iw(n,n.config.apiHost,t,d),g)})}async function rw(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},a2),e);try{const a=new c2(n),l=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw rf(n,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[p,g]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw rf(n,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw rf(n,"email-already-in-use",c);if(p==="USER_DISABLED")throw rf(n,"user-disabled",c);const v=i[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw tw(n,v,g);Ir(n,v)}}catch(a){if(a instanceof ci)throw a;Ir(n,"network-request-failed",{message:String(a)})}}async function ld(n,e,t,i,a={}){const l=await Fs(n,e,t,i,a);return"mfaPendingCredential"in l&&Ir(n,"multi-factor-auth-required",{_serverResponse:l}),l}async function iw(n,e,t,i){const a=`${e}${t}?${i}`,l=n,c=l.config.emulator?iv(n.config,a):`${n.config.apiScheme}://${a}`;return o2.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function u2(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class c2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(ti(this.auth,"network-request-failed")),l2.get())})}}function rf(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const a=ti(n,e,i);return a.customData._tokenResponse=t,a}function bb(n){return n!==void 0&&n.enterprise!==void 0}class h2{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return u2(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function f2(n,e){return Fs(n,"GET","/v2/recaptchaConfig",Ba(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d2(n,e){return Fs(n,"POST","/v1/accounts:delete",e)}async function Lf(n,e){return Fs(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qu(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function p2(n,e=!1){const t=qt(n),i=await t.getIdToken(e),a=sv(i);we(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:a,token:i,authTime:qu(zm(a.auth_time)),issuedAtTime:qu(zm(a.iat)),expirationTime:qu(zm(a.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function zm(n){return Number(n)*1e3}function sv(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return _f("JWT malformed, contained fewer than 3 sections"),null;try{const a=qA(t);return a?JSON.parse(a):(_f("Failed to decode base64 JWT payload"),null)}catch(a){return _f("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function Tb(n){const e=sv(n);return we(e,"internal-error"),we(typeof e.exp<"u","internal-error"),we(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tc(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof ci&&m2(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function m2({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=qu(this.lastLoginAt),this.creationTime=qu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uf(n){var e;const t=n.auth,i=await n.getIdToken(),a=await tc(n,Lf(t,{idToken:i}));we(a==null?void 0:a.users.length,t,"internal-error");const l=a.users[0];n._notifyReloadListener(l);const c=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?sw(l.providerUserInfo):[],d=y2(n.providerData,c),p=n.isAnonymous,g=!(n.email&&l.passwordHash)&&!(d!=null&&d.length),v=p?g:!1,b={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new cg(l.createdAt,l.lastLoginAt),isAnonymous:v};Object.assign(n,b)}async function v2(n){const e=qt(n);await Uf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function y2(n,e){return[...n.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}function sw(n){return n.map(e=>{var{providerId:t}=e,i=nv(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _2(n,e){const t=await rw(n,{},async()=>{const i=Ec({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=n.config,c=await iw(n,a,"/v1/token",`key=${l}`),d=await n._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",nw.fetch()(c,{method:"POST",headers:d,body:i})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function E2(n,e){return Fs(n,"POST","/v2/accounts:revokeToken",Ba(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){we(e.idToken,"internal-error"),we(typeof e.idToken<"u","internal-error"),we(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Tb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){we(e.length!==0,"internal-error");const t=Tb(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(we(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:a,expiresIn:l}=await _2(e,t);this.updateTokensAndExpiration(i,a,Number(l))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:a,expirationTime:l}=t,c=new Go;return i&&(we(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),a&&(we(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(we(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Go,this.toJSON())}_performRefresh(){return Vi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bs(n,e){we(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Sr{constructor(e){var{uid:t,auth:i,stsTokenManager:a}=e,l=nv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new g2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new cg(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await tc(this,this.stsTokenManager.getToken(this.auth,e));return we(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return p2(this,e)}reload(){return v2(this)}_assign(e){this!==e&&(we(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Sr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await Uf(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(hr(this.auth.app))return Promise.reject(Os(this.auth));const e=await this.getIdToken();return await tc(this,d2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,a,l,c,d,p,g,v;const b=(i=t.displayName)!==null&&i!==void 0?i:void 0,w=(a=t.email)!==null&&a!==void 0?a:void 0,O=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,C=(c=t.photoURL)!==null&&c!==void 0?c:void 0,M=(d=t.tenantId)!==null&&d!==void 0?d:void 0,N=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,z=(g=t.createdAt)!==null&&g!==void 0?g:void 0,q=(v=t.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:j,emailVerified:G,isAnonymous:Q,providerData:J,stsTokenManager:x}=t;we(j&&x,e,"internal-error");const S=Go.fromJSON(this.name,x);we(typeof j=="string",e,"internal-error"),bs(b,e.name),bs(w,e.name),we(typeof G=="boolean",e,"internal-error"),we(typeof Q=="boolean",e,"internal-error"),bs(O,e.name),bs(C,e.name),bs(M,e.name),bs(N,e.name),bs(z,e.name),bs(q,e.name);const I=new Sr({uid:j,auth:e,email:w,emailVerified:G,displayName:b,isAnonymous:Q,photoURL:C,phoneNumber:O,tenantId:M,stsTokenManager:S,createdAt:z,lastLoginAt:q});return J&&Array.isArray(J)&&(I.providerData=J.map(D=>Object.assign({},D))),N&&(I._redirectEventId=N),I}static async _fromIdTokenResponse(e,t,i=!1){const a=new Go;a.updateFromServerResponse(t);const l=new Sr({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:i});return await Uf(l),l}static async _fromGetAccountInfoResponse(e,t,i){const a=t.users[0];we(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?sw(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!(l!=null&&l.length),d=new Go;d.updateFromIdToken(i);const p=new Sr({uid:a.localId,auth:e,stsTokenManager:d,isAnonymous:c}),g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new cg(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(l!=null&&l.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ab=new Map;function Li(n){Hi(n instanceof Function,"Expected a class definition");let e=Ab.get(n);return e?(Hi(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Ab.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}aw.type="NONE";const wb=aw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ef(n,e,t){return`firebase:${n}:${e}:${t}`}class $o{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:a,name:l}=this.auth;this.fullUserKey=Ef(this.userKey,a.apiKey,l),this.fullPersistenceKey=Ef("persistence",a.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Lf(this.auth,{idToken:e}).catch(()=>{});return t?Sr._fromGetAccountInfoResponse(this.auth,t,e):null}return Sr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new $o(Li(wb),e,i);const a=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=a[0]||Li(wb);const c=Ef(i,e.config.apiKey,e.name);let d=null;for(const g of t)try{const v=await g._get(c);if(v){let b;if(typeof v=="string"){const w=await Lf(e,{idToken:v}).catch(()=>{});if(!w)break;b=await Sr._fromGetAccountInfoResponse(e,w,v)}else b=Sr._fromJSON(e,v);g!==l&&(d=b),l=g;break}}catch{}const p=a.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new $o(l,e,i):(l=p[0],d&&await l._set(c,d.toJSON()),await Promise.all(t.map(async g=>{if(g!==l)try{await g._remove(c)}catch{}})),new $o(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sb(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(cw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ow(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(fw(e))return"Blackberry";if(dw(e))return"Webos";if(lw(e))return"Safari";if((e.includes("chrome/")||uw(e))&&!e.includes("edge/"))return"Chrome";if(hw(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function ow(n=En()){return/firefox\//i.test(n)}function lw(n=En()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function uw(n=En()){return/crios\//i.test(n)}function cw(n=En()){return/iemobile/i.test(n)}function hw(n=En()){return/android/i.test(n)}function fw(n=En()){return/blackberry/i.test(n)}function dw(n=En()){return/webos/i.test(n)}function av(n=En()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function b2(n=En()){var e;return av(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function T2(){return VN()&&document.documentMode===10}function pw(n=En()){return av(n)||hw(n)||dw(n)||fw(n)||/windows phone/i.test(n)||cw(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mw(n,e=[]){let t;switch(n){case"Browser":t=Sb(En());break;case"Worker":t=`${Sb(En())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ja}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=l=>new Promise((c,d)=>{try{const p=e(l);c(p)}catch(p){d(p)}});i.onAbort=t,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w2(n,e={}){return Fs(n,"GET","/v2/passwordPolicy",Ba(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S2=6;class R2{constructor(e){var t,i,a,l;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=c.minPasswordLength)!==null&&t!==void 0?t:S2,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,a,l,c,d;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(i=p.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),p.isValid&&(p.isValid=(a=p.containsLowercaseLetter)!==null&&a!==void 0?a:!0),p.isValid&&(p.isValid=(l=p.containsUppercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(c=p.containsNumericCharacter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(d=p.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),p}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let a=0;a<e.length;a++)i=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(e,t,i,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Rb(this),this.idTokenSubscription=new Rb(this),this.beforeStateQueue=new A2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ew,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Li(t)),this._initializationPromise=this.queue(async()=>{var i,a,l;if(!this._deleted&&(this.persistenceManager=await $o.create(this,e),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Lf(this,{idToken:e}),i=await Sr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(hr(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=a==null?void 0:a._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===d)&&(p!=null&&p.user)&&(a=p.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return we(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Uf(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=s2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(hr(this.app))return Promise.reject(Os(this));const t=e?qt(e):null;return t&&we(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&we(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return hr(this.app)?Promise.reject(Os(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return hr(this.app)?Promise.reject(Os(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Li(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await w2(this),t=new R2(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new _c("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await E2(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Li(e)||this._popupRedirectResolver;we(t,this,"argument-error"),this.redirectPersistenceManager=await $o.create(this,[Li(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,a){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(we(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,i,a);return()=>{c=!0,p()}}else{const p=e.addObserver(t);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=mw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){var e;if(hr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&n2(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function dl(n){return qt(n)}class Rb{constructor(e){this.auth=e,this.observer=null,this.addObserver=HN(t=>this.observer=t)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ud={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function I2(n){ud=n}function gw(n){return ud.loadJS(n)}function x2(){return ud.recaptchaEnterpriseScript}function O2(){return ud.gapiScript}function N2(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class D2{constructor(){this.enterprise=new P2}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class P2{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const k2="recaptcha-enterprise",vw="NO_RECAPTCHA";class M2{constructor(e){this.type=k2,this.auth=dl(e)}async verify(e="verify",t=!1){async function i(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,d)=>{f2(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const g=new h2(p);return l.tenantId==null?l._agentRecaptchaConfig=g:l._tenantRecaptchaConfigs[l.tenantId]=g,c(g.siteKey)}}).catch(p=>{d(p)})})}function a(l,c,d){const p=window.grecaptcha;bb(p)?p.enterprise.ready(()=>{p.enterprise.execute(l,{action:e}).then(g=>{c(g)}).catch(()=>{c(vw)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new D2().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{i(this.auth).then(d=>{if(!t&&bb(window.grecaptcha))a(d,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let p=x2();p.length!==0&&(p+=d),gw(p).then(()=>{a(d,l,c)}).catch(g=>{c(g)})}}).catch(d=>{c(d)})})}}async function Cb(n,e,t,i=!1,a=!1){const l=new M2(n);let c;if(a)c=vw;else try{c=await l.verify(t)}catch{c=await l.verify(t,!0)}const d=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const p=d.phoneEnrollmentInfo.phoneNumber,g=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const p=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return i?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function Ib(n,e,t,i,a){var l;if(!((l=n._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await Cb(n,e,t,t==="getOobCode");return i(n,c)}else return i(n,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await Cb(n,e,t,t==="getOobCode");return i(n,d)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V2(n,e){const t=od(n,"auth");if(t.isInitialized()){const a=t.getImmediate(),l=t.getOptions();if(Na(l,e??{}))return a;Ir(a,"already-initialized")}return t.initialize({options:e})}function L2(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(Li);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function U2(n,e,t){const i=dl(n);we(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const a=!1,l=yw(e),{host:c,port:d}=j2(e),p=d===null?"":`:${d}`,g={url:`${l}//${c}${p}/`},v=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){we(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),we(Na(g,i.config.emulator)&&Na(v,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=g,i.emulatorConfig=v,i.settings.appVerificationDisabledForTesting=!0,B2(),fl(c)&&Jg(`${l}//${c}${p}`)}function yw(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function j2(n){const e=yw(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const l=a[1];return{host:l,port:xb(i.substr(l.length+1))}}else{const[l,c]=i.split(":");return{host:l,port:xb(c)}}}function xb(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function B2(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ov{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Vi("not implemented")}_getIdTokenResponse(e){return Vi("not implemented")}_linkToIdToken(e,t){return Vi("not implemented")}_getReauthenticationResolver(e){return Vi("not implemented")}}async function z2(n,e){return Fs(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q2(n,e){return ld(n,"POST","/v1/accounts:signInWithPassword",Ba(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F2(n,e){return ld(n,"POST","/v1/accounts:signInWithEmailLink",Ba(n,e))}async function H2(n,e){return ld(n,"POST","/v1/accounts:signInWithEmailLink",Ba(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc extends ov{constructor(e,t,i,a=null){super("password",i),this._email=e,this._password=t,this._tenantId=a}static _fromEmailAndPassword(e,t){return new nc(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new nc(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ib(e,t,"signInWithPassword",q2);case"emailLink":return F2(e,{email:this._email,oobCode:this._password});default:Ir(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ib(e,i,"signUpPassword",z2);case"emailLink":return H2(e,{idToken:t,email:this._email,oobCode:this._password});default:Ir(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ko(n,e){return ld(n,"POST","/v1/accounts:signInWithIdp",Ba(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G2="http://localhost";class Pa extends ov{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Pa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ir("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:a}=t,l=nv(t,["providerId","signInMethod"]);if(!i||!a)return null;const c=new Pa(i,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return Ko(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,Ko(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ko(e,t)}buildRequest(){const e={requestUri:G2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ec(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $2(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function K2(n){const e=ku(Mu(n)).link,t=e?ku(Mu(e)).deep_link_id:null,i=ku(Mu(n)).deep_link_id;return(i?ku(Mu(i)).link:null)||i||t||e||n}class lv{constructor(e){var t,i,a,l,c,d;const p=ku(Mu(e)),g=(t=p.apiKey)!==null&&t!==void 0?t:null,v=(i=p.oobCode)!==null&&i!==void 0?i:null,b=$2((a=p.mode)!==null&&a!==void 0?a:null);we(g&&v&&b,"argument-error"),this.apiKey=g,this.operation=b,this.code=v,this.continueUrl=(l=p.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(c=p.lang)!==null&&c!==void 0?c:null,this.tenantId=(d=p.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const t=K2(e);try{return new lv(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(){this.providerId=pl.PROVIDER_ID}static credential(e,t){return nc._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=lv.parseLink(t);return we(i,"argument-error"),nc._fromEmailAndCode(e,i.code,i.tenantId)}}pl.PROVIDER_ID="password";pl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";pl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc extends _w{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts extends Tc{constructor(){super("facebook.com")}static credential(e){return Pa._fromParams({providerId:Ts.PROVIDER_ID,signInMethod:Ts.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ts.credentialFromTaggedObject(e)}static credentialFromError(e){return Ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ts.credential(e.oauthAccessToken)}catch{return null}}}Ts.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ts.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As extends Tc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Pa._fromParams({providerId:As.PROVIDER_ID,signInMethod:As.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return As.credentialFromTaggedObject(e)}static credentialFromError(e){return As.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return As.credential(t,i)}catch{return null}}}As.GOOGLE_SIGN_IN_METHOD="google.com";As.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws extends Tc{constructor(){super("github.com")}static credential(e){return Pa._fromParams({providerId:ws.PROVIDER_ID,signInMethod:ws.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ws.credentialFromTaggedObject(e)}static credentialFromError(e){return ws.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ws.credential(e.oauthAccessToken)}catch{return null}}}ws.GITHUB_SIGN_IN_METHOD="github.com";ws.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss extends Tc{constructor(){super("twitter.com")}static credential(e,t){return Pa._fromParams({providerId:Ss.PROVIDER_ID,signInMethod:Ss.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ss.credentialFromTaggedObject(e)}static credentialFromError(e){return Ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return Ss.credential(t,i)}catch{return null}}}Ss.TWITTER_SIGN_IN_METHOD="twitter.com";Ss.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,a=!1){const l=await Sr._fromIdTokenResponse(e,i,a),c=Ob(i);return new el({user:l,providerId:c,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const a=Ob(i);return new el({user:e,providerId:a,_tokenResponse:i,operationType:t})}}function Ob(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jf extends ci{constructor(e,t,i,a){var l;super(t.code,t.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,jf.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,a){return new jf(e,t,i,a)}}function Ew(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?jf._fromErrorAndOperation(n,l,e,i):l})}async function Y2(n,e,t=!1){const i=await tc(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return el._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q2(n,e,t=!1){const{auth:i}=n;if(hr(i.app))return Promise.reject(Os(i));const a="reauthenticate";try{const l=await tc(n,Ew(i,a,e,n),t);we(l.idToken,i,"internal-error");const c=sv(l.idToken);we(c,i,"internal-error");const{sub:d}=c;return we(n.uid===d,i,"user-mismatch"),el._forOperation(n,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&Ir(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bw(n,e,t=!1){if(hr(n.app))return Promise.reject(Os(n));const i="signIn",a=await Ew(n,i,e),l=await el._fromIdTokenResponse(n,i,a);return t||await n._updateCurrentUser(l.user),l}async function X2(n,e){return bw(dl(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W2(n){const e=dl(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function J2(n,e,t){return hr(n.app)?Promise.reject(Os(n)):X2(qt(n),pl.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&W2(n),i})}function Z2(n,e,t,i){return qt(n).onIdTokenChanged(e,t,i)}function eP(n,e,t){return qt(n).beforeAuthStateChanged(e,t)}function tP(n,e,t,i){return qt(n).onAuthStateChanged(e,t,i)}function nP(n){return qt(n).signOut()}const Bf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Bf,"1"),this.storage.removeItem(Bf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rP=1e3,iP=10;class Aw extends Tw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=pw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),a=this.localCache[t];i!==a&&e(t,a,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,d,p)=>{this.notifyListeners(c,p)});return}const i=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(i);!t&&this.localCache[i]===c||this.notifyListeners(i,c)},l=this.storage.getItem(i);T2()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,iP):a()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},rP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Aw.type="LOCAL";const sP=Aw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww extends Tw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}ww.type="SESSION";const Sw=ww;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aP(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const i=new cd(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:a,data:l}=t.data,c=this.handlersMap[a];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const d=Array.from(c).map(async g=>g(t.origin,l)),p=await aP(d);t.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}cd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uv(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oP{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((d,p)=>{const g=uv("",20);a.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},i);c={messageChannel:a,onMessage(b){const w=b;if(w.data.eventId===g)switch(w.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(w.data.response);break;default:clearTimeout(v),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ni(){return window}function lP(n){ni().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rw(){return typeof ni().WorkerGlobalScope<"u"&&typeof ni().importScripts=="function"}async function uP(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function cP(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function hP(){return Rw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cw="firebaseLocalStorageDb",fP=1,zf="firebaseLocalStorage",Iw="fbase_key";class Ac{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function hd(n,e){return n.transaction([zf],e?"readwrite":"readonly").objectStore(zf)}function dP(){const n=indexedDB.deleteDatabase(Cw);return new Ac(n).toPromise()}function hg(){const n=indexedDB.open(Cw,fP);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(zf,{keyPath:Iw})}catch(a){t(a)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(zf)?e(i):(i.close(),await dP(),e(await hg()))})})}async function Nb(n,e,t){const i=hd(n,!0).put({[Iw]:e,value:t});return new Ac(i).toPromise()}async function pP(n,e){const t=hd(n,!1).get(e),i=await new Ac(t).toPromise();return i===void 0?null:i.value}function Db(n,e){const t=hd(n,!0).delete(e);return new Ac(t).toPromise()}const mP=800,gP=3;class xw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await hg(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>gP)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Rw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=cd._getInstance(hP()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await uP(),!this.activeServiceWorker)return;this.sender=new oP(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||cP()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await hg();return await Nb(e,Bf,"1"),await Db(e,Bf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Nb(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>pP(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Db(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=hd(a,!1).getAll();return new Ac(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),mP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}xw.type="LOCAL";const vP=xw;new bc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yP(n,e){return e?Li(e):(we(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cv extends ov{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ko(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ko(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ko(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function _P(n){return bw(n.auth,new cv(n),n.bypassAuthState)}function EP(n){const{auth:e,user:t}=n;return we(t,e,"internal-error"),Q2(t,new cv(n),n.bypassAuthState)}async function bP(n){const{auth:e,user:t}=n;return we(t,e,"internal-error"),Y2(t,new cv(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{constructor(e,t,i,a,l=!1){this.auth=e,this.resolver=i,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:a,tenantId:l,error:c,type:d}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:t,sessionId:i,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return _P;case"linkViaPopup":case"linkViaRedirect":return bP;case"reauthViaPopup":case"reauthViaRedirect":return EP;default:Ir(this.auth,"internal-error")}}resolve(e){Hi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Hi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TP=new bc(2e3,1e4);class Fo extends Ow{constructor(e,t,i,a,l){super(e,t,a,l),this.provider=i,this.authWindow=null,this.pollId=null,Fo.currentPopupAction&&Fo.currentPopupAction.cancel(),Fo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return we(e,this.auth,"internal-error"),e}async onExecution(){Hi(this.filter.length===1,"Popup operations only handle one event");const e=uv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(ti(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ti(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Fo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ti(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,TP.get())};e()}}Fo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AP="pendingRedirect",bf=new Map;class wP extends Ow{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=bf.get(this.auth._key());if(!e){try{const i=await SP(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}bf.set(this.auth._key(),e)}return this.bypassAuthState||bf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function SP(n,e){const t=IP(e),i=CP(n);if(!await i._isAvailable())return!1;const a=await i._get(t)==="true";return await i._remove(t),a}function RP(n,e){bf.set(n._key(),e)}function CP(n){return Li(n._redirectPersistence)}function IP(n){return Ef(AP,n.config.apiKey,n.name)}async function xP(n,e,t=!1){if(hr(n.app))return Promise.reject(Os(n));const i=dl(n),a=yP(i,e),c=await new wP(i,a,t).execute();return c&&!t&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OP=10*60*1e3;class NP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!DP(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!Nw(e)){const a=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(ti(this.auth,a))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=OP&&this.cachedEventUids.clear(),this.cachedEventUids.has(Pb(e))}saveEventToCache(e){this.cachedEventUids.add(Pb(e)),this.lastProcessedEventTime=Date.now()}}function Pb(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function Nw({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function DP(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Nw(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PP(n,e={}){return Fs(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,MP=/^https?/;async function VP(n){if(n.config.emulator)return;const{authorizedDomains:e}=await PP(n);for(const t of e)try{if(LP(t))return}catch{}Ir(n,"unauthorized-domain")}function LP(n){const e=ug(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===i}if(!MP.test(t))return!1;if(kP.test(n))return i===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UP=new bc(3e4,6e4);function kb(){const n=ni().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function jP(n){return new Promise((e,t)=>{var i,a,l;function c(){kb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{kb(),t(ti(n,"network-request-failed"))},timeout:UP.get()})}if(!((a=(i=ni().gapi)===null||i===void 0?void 0:i.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((l=ni().gapi)===null||l===void 0)&&l.load)c();else{const d=N2("iframefcb");return ni()[d]=()=>{gapi.load?c():t(ti(n,"network-request-failed"))},gw(`${O2()}?onload=${d}`).catch(p=>t(p))}}).catch(e=>{throw Tf=null,e})}let Tf=null;function BP(n){return Tf=Tf||jP(n),Tf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zP=new bc(5e3,15e3),qP="__/auth/iframe",FP="emulator/auth/iframe",HP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},GP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function $P(n){const e=n.config;we(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?iv(e,FP):`https://${n.config.authDomain}/${qP}`,i={apiKey:e.apiKey,appName:n.name,v:ja},a=GP.get(n.config.apiHost);a&&(i.eid=a);const l=n._getFrameworks();return l.length&&(i.fw=l.join(",")),`${t}?${Ec(i).slice(1)}`}async function KP(n){const e=await BP(n),t=ni().gapi;return we(t,n,"internal-error"),e.open({where:document.body,url:$P(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:HP,dontclear:!0},i=>new Promise(async(a,l)=>{await i.restyle({setHideOnLeave:!1});const c=ti(n,"network-request-failed"),d=ni().setTimeout(()=>{l(c)},zP.get());function p(){ni().clearTimeout(d),a(i)}i.ping(p).then(p,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},QP=500,XP=600,WP="_blank",JP="http://localhost";class Mb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ZP(n,e,t,i=QP,a=XP){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let d="";const p=Object.assign(Object.assign({},YP),{width:i.toString(),height:a.toString(),top:l,left:c}),g=En().toLowerCase();t&&(d=uw(g)?WP:t),ow(g)&&(e=e||JP,p.scrollbars="yes");const v=Object.entries(p).reduce((w,[O,C])=>`${w}${O}=${C},`,"");if(b2(g)&&d!=="_self")return ek(e||"",d),new Mb(null);const b=window.open(e||"",d,v);we(b,n,"popup-blocked");try{b.focus()}catch{}return new Mb(b)}function ek(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tk="__/auth/handler",nk="emulator/auth/handler",rk=encodeURIComponent("fac");async function Vb(n,e,t,i,a,l){we(n.config.authDomain,n,"auth-domain-config-required"),we(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:ja,eventId:a};if(e instanceof _w){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",FN(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,b]of Object.entries({}))c[v]=b}if(e instanceof Tc){const v=e.getScopes().filter(b=>b!=="");v.length>0&&(c.scopes=v.join(","))}n.tenantId&&(c.tid=n.tenantId);const d=c;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const p=await n._getAppCheckToken(),g=p?`#${rk}=${encodeURIComponent(p)}`:"";return`${ik(n)}?${Ec(d).slice(1)}${g}`}function ik({config:n}){return n.emulator?iv(n,nk):`https://${n.authDomain}/${tk}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qm="webStorageSupport";class sk{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Sw,this._completeRedirectFn=xP,this._overrideRedirectResult=RP}async _openPopup(e,t,i,a){var l;Hi((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const c=await Vb(e,t,i,ug(),a);return ZP(e,c,uv())}async _openRedirect(e,t,i,a){await this._originValidation(e);const l=await Vb(e,t,i,ug(),a);return lP(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:l}=this.eventManagers[t];return a?Promise.resolve(a):(Hi(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await KP(e),i=new NP(e);return t.register("authEvent",a=>(we(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(qm,{type:qm},a=>{var l;const c=(l=a==null?void 0:a[0])===null||l===void 0?void 0:l[qm];c!==void 0&&t(!!c),Ir(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=VP(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return pw()||lw()||av()}}const ak=sk;var Lb="@firebase/auth",Ub="1.10.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ok{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lk(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function uk(n){Da(new ks("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=i.options;we(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const p={apiKey:c,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:mw(n)},g=new C2(i,a,l,p);return L2(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Da(new ks("auth-internal",e=>{const t=dl(e.getProvider("auth").getImmediate());return(i=>new ok(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ei(Lb,Ub,lk(n)),ei(Lb,Ub,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ck=5*60,hk=$A("authIdTokenMaxAge")||ck;let jb=null;const fk=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>hk)return;const a=t==null?void 0:t.token;jb!==a&&(jb=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function dk(n=tv()){const e=od(n,"auth");if(e.isInitialized())return e.getImmediate();const t=V2(n,{popupRedirectResolver:ak,persistence:[vP,sP,Sw]}),i=$A("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const c=fk(l.toString());eP(t,c,()=>c(t.currentUser)),Z2(t,d=>c(d))}}const a=FA("auth");return a&&U2(t,`http://${a}`),t}function pk(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}I2({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=a=>{const l=ti("internal-error");l.customData=a,t(l)},i.type="text/javascript",i.charset="UTF-8",pk().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});uk("Browser");/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function mk(n,e,t,i){function a(l){return l instanceof t?l:new t(function(c){c(l)})}return new(t||(t=Promise))(function(l,c){function d(v){try{g(i.next(v))}catch(b){c(b)}}function p(v){try{g(i.throw(v))}catch(b){c(b)}}function g(v){v.done?l(v.value):a(v.value).then(d,p)}g((i=i.apply(n,[])).next())})}function gk(n,e){var t={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},i,a,l,c;return c={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function d(g){return function(v){return p([g,v])}}function p(g){if(i)throw new TypeError("Generator is already executing.");for(;t;)try{if(i=1,a&&(l=g[0]&2?a.return:g[0]?a.throw||((l=a.return)&&l.call(a),0):a.next)&&!(l=l.call(a,g[1])).done)return l;switch(a=0,l&&(g=[g[0]&2,l.value]),g[0]){case 0:case 1:l=g;break;case 4:return t.label++,{value:g[1],done:!1};case 5:t.label++,a=g[1],g=[0];continue;case 7:g=t.ops.pop(),t.trys.pop();continue;default:if(l=t.trys,!(l=l.length>0&&l[l.length-1])&&(g[0]===6||g[0]===2)){t=0;continue}if(g[0]===3&&(!l||g[1]>l[0]&&g[1]<l[3])){t.label=g[1];break}if(g[0]===6&&t.label<l[1]){t.label=l[1],l=g;break}if(l&&t.label<l[2]){t.label=l[2],t.ops.push(g);break}l[2]&&t.ops.pop(),t.trys.pop();continue}g=e.call(n,t)}catch(v){g=[6,v],a=0}finally{i=l=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Ho=function(){return Ho=Object.assign||function(e){for(var t,i=1,a=arguments.length;i<a;i++){t=arguments[i];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l])}return e},Ho.apply(this,arguments)},Dw=function(n){return{loading:n==null,value:n}},vk=function(){return function(n,e){switch(e.type){case"error":return Ho(Ho({},n),{error:e.error,loading:!1,value:void 0});case"reset":return Dw(e.defaultValue);case"value":return Ho(Ho({},n),{error:void 0,loading:!1,value:e.value});default:return n}}},yk=function(n){var e=n?n():void 0,t=F.useReducer(vk(),Dw(e)),i=t[0],a=t[1],l=F.useCallback(function(){var p=n?n():void 0;a({type:"reset",defaultValue:p})},[n]),c=F.useCallback(function(p){a({type:"error",error:p})},[]),d=F.useCallback(function(p){a({type:"value",value:p})},[]);return F.useMemo(function(){return{error:i.error,loading:i.loading,reset:l,setError:c,setValue:d,value:i.value}},[i.error,i.loading,l,c,d,i.value])},hv=function(n,e){var t=yk(function(){return n.currentUser}),i=t.error,a=t.loading,l=t.setError,c=t.setValue,d=t.value;return F.useEffect(function(){var p=tP(n,function(g){return mk(void 0,void 0,void 0,function(){var v;return gk(this,function(b){switch(b.label){case 0:return[3,4];case 1:return b.trys.push([1,3,,4]),[4,e.onUserChanged(g)];case 2:return b.sent(),[3,4];case 3:return v=b.sent(),l(v),[3,4];case 4:return c(g),[2]}})})},l);return function(){p()}},[n]),[d,a,i]},_k="firebase",Ek="11.7.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ei(_k,Ek,"app");var Bb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ns,Pw;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,S){function I(){}I.prototype=S.prototype,x.D=S.prototype,x.prototype=new I,x.prototype.constructor=x,x.C=function(D,V,U){for(var P=Array(arguments.length-2),ve=2;ve<arguments.length;ve++)P[ve-2]=arguments[ve];return S.prototype[V].apply(D,P)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(x,S,I){I||(I=0);var D=Array(16);if(typeof S=="string")for(var V=0;16>V;++V)D[V]=S.charCodeAt(I++)|S.charCodeAt(I++)<<8|S.charCodeAt(I++)<<16|S.charCodeAt(I++)<<24;else for(V=0;16>V;++V)D[V]=S[I++]|S[I++]<<8|S[I++]<<16|S[I++]<<24;S=x.g[0],I=x.g[1],V=x.g[2];var U=x.g[3],P=S+(U^I&(V^U))+D[0]+3614090360&4294967295;S=I+(P<<7&4294967295|P>>>25),P=U+(V^S&(I^V))+D[1]+3905402710&4294967295,U=S+(P<<12&4294967295|P>>>20),P=V+(I^U&(S^I))+D[2]+606105819&4294967295,V=U+(P<<17&4294967295|P>>>15),P=I+(S^V&(U^S))+D[3]+3250441966&4294967295,I=V+(P<<22&4294967295|P>>>10),P=S+(U^I&(V^U))+D[4]+4118548399&4294967295,S=I+(P<<7&4294967295|P>>>25),P=U+(V^S&(I^V))+D[5]+1200080426&4294967295,U=S+(P<<12&4294967295|P>>>20),P=V+(I^U&(S^I))+D[6]+2821735955&4294967295,V=U+(P<<17&4294967295|P>>>15),P=I+(S^V&(U^S))+D[7]+4249261313&4294967295,I=V+(P<<22&4294967295|P>>>10),P=S+(U^I&(V^U))+D[8]+1770035416&4294967295,S=I+(P<<7&4294967295|P>>>25),P=U+(V^S&(I^V))+D[9]+2336552879&4294967295,U=S+(P<<12&4294967295|P>>>20),P=V+(I^U&(S^I))+D[10]+4294925233&4294967295,V=U+(P<<17&4294967295|P>>>15),P=I+(S^V&(U^S))+D[11]+2304563134&4294967295,I=V+(P<<22&4294967295|P>>>10),P=S+(U^I&(V^U))+D[12]+1804603682&4294967295,S=I+(P<<7&4294967295|P>>>25),P=U+(V^S&(I^V))+D[13]+4254626195&4294967295,U=S+(P<<12&4294967295|P>>>20),P=V+(I^U&(S^I))+D[14]+2792965006&4294967295,V=U+(P<<17&4294967295|P>>>15),P=I+(S^V&(U^S))+D[15]+1236535329&4294967295,I=V+(P<<22&4294967295|P>>>10),P=S+(V^U&(I^V))+D[1]+4129170786&4294967295,S=I+(P<<5&4294967295|P>>>27),P=U+(I^V&(S^I))+D[6]+3225465664&4294967295,U=S+(P<<9&4294967295|P>>>23),P=V+(S^I&(U^S))+D[11]+643717713&4294967295,V=U+(P<<14&4294967295|P>>>18),P=I+(U^S&(V^U))+D[0]+3921069994&4294967295,I=V+(P<<20&4294967295|P>>>12),P=S+(V^U&(I^V))+D[5]+3593408605&4294967295,S=I+(P<<5&4294967295|P>>>27),P=U+(I^V&(S^I))+D[10]+38016083&4294967295,U=S+(P<<9&4294967295|P>>>23),P=V+(S^I&(U^S))+D[15]+3634488961&4294967295,V=U+(P<<14&4294967295|P>>>18),P=I+(U^S&(V^U))+D[4]+3889429448&4294967295,I=V+(P<<20&4294967295|P>>>12),P=S+(V^U&(I^V))+D[9]+568446438&4294967295,S=I+(P<<5&4294967295|P>>>27),P=U+(I^V&(S^I))+D[14]+3275163606&4294967295,U=S+(P<<9&4294967295|P>>>23),P=V+(S^I&(U^S))+D[3]+4107603335&4294967295,V=U+(P<<14&4294967295|P>>>18),P=I+(U^S&(V^U))+D[8]+1163531501&4294967295,I=V+(P<<20&4294967295|P>>>12),P=S+(V^U&(I^V))+D[13]+2850285829&4294967295,S=I+(P<<5&4294967295|P>>>27),P=U+(I^V&(S^I))+D[2]+4243563512&4294967295,U=S+(P<<9&4294967295|P>>>23),P=V+(S^I&(U^S))+D[7]+1735328473&4294967295,V=U+(P<<14&4294967295|P>>>18),P=I+(U^S&(V^U))+D[12]+2368359562&4294967295,I=V+(P<<20&4294967295|P>>>12),P=S+(I^V^U)+D[5]+4294588738&4294967295,S=I+(P<<4&4294967295|P>>>28),P=U+(S^I^V)+D[8]+2272392833&4294967295,U=S+(P<<11&4294967295|P>>>21),P=V+(U^S^I)+D[11]+1839030562&4294967295,V=U+(P<<16&4294967295|P>>>16),P=I+(V^U^S)+D[14]+4259657740&4294967295,I=V+(P<<23&4294967295|P>>>9),P=S+(I^V^U)+D[1]+2763975236&4294967295,S=I+(P<<4&4294967295|P>>>28),P=U+(S^I^V)+D[4]+1272893353&4294967295,U=S+(P<<11&4294967295|P>>>21),P=V+(U^S^I)+D[7]+4139469664&4294967295,V=U+(P<<16&4294967295|P>>>16),P=I+(V^U^S)+D[10]+3200236656&4294967295,I=V+(P<<23&4294967295|P>>>9),P=S+(I^V^U)+D[13]+681279174&4294967295,S=I+(P<<4&4294967295|P>>>28),P=U+(S^I^V)+D[0]+3936430074&4294967295,U=S+(P<<11&4294967295|P>>>21),P=V+(U^S^I)+D[3]+3572445317&4294967295,V=U+(P<<16&4294967295|P>>>16),P=I+(V^U^S)+D[6]+76029189&4294967295,I=V+(P<<23&4294967295|P>>>9),P=S+(I^V^U)+D[9]+3654602809&4294967295,S=I+(P<<4&4294967295|P>>>28),P=U+(S^I^V)+D[12]+3873151461&4294967295,U=S+(P<<11&4294967295|P>>>21),P=V+(U^S^I)+D[15]+530742520&4294967295,V=U+(P<<16&4294967295|P>>>16),P=I+(V^U^S)+D[2]+3299628645&4294967295,I=V+(P<<23&4294967295|P>>>9),P=S+(V^(I|~U))+D[0]+4096336452&4294967295,S=I+(P<<6&4294967295|P>>>26),P=U+(I^(S|~V))+D[7]+1126891415&4294967295,U=S+(P<<10&4294967295|P>>>22),P=V+(S^(U|~I))+D[14]+2878612391&4294967295,V=U+(P<<15&4294967295|P>>>17),P=I+(U^(V|~S))+D[5]+4237533241&4294967295,I=V+(P<<21&4294967295|P>>>11),P=S+(V^(I|~U))+D[12]+1700485571&4294967295,S=I+(P<<6&4294967295|P>>>26),P=U+(I^(S|~V))+D[3]+2399980690&4294967295,U=S+(P<<10&4294967295|P>>>22),P=V+(S^(U|~I))+D[10]+4293915773&4294967295,V=U+(P<<15&4294967295|P>>>17),P=I+(U^(V|~S))+D[1]+2240044497&4294967295,I=V+(P<<21&4294967295|P>>>11),P=S+(V^(I|~U))+D[8]+1873313359&4294967295,S=I+(P<<6&4294967295|P>>>26),P=U+(I^(S|~V))+D[15]+4264355552&4294967295,U=S+(P<<10&4294967295|P>>>22),P=V+(S^(U|~I))+D[6]+2734768916&4294967295,V=U+(P<<15&4294967295|P>>>17),P=I+(U^(V|~S))+D[13]+1309151649&4294967295,I=V+(P<<21&4294967295|P>>>11),P=S+(V^(I|~U))+D[4]+4149444226&4294967295,S=I+(P<<6&4294967295|P>>>26),P=U+(I^(S|~V))+D[11]+3174756917&4294967295,U=S+(P<<10&4294967295|P>>>22),P=V+(S^(U|~I))+D[2]+718787259&4294967295,V=U+(P<<15&4294967295|P>>>17),P=I+(U^(V|~S))+D[9]+3951481745&4294967295,x.g[0]=x.g[0]+S&4294967295,x.g[1]=x.g[1]+(V+(P<<21&4294967295|P>>>11))&4294967295,x.g[2]=x.g[2]+V&4294967295,x.g[3]=x.g[3]+U&4294967295}i.prototype.u=function(x,S){S===void 0&&(S=x.length);for(var I=S-this.blockSize,D=this.B,V=this.h,U=0;U<S;){if(V==0)for(;U<=I;)a(this,x,U),U+=this.blockSize;if(typeof x=="string"){for(;U<S;)if(D[V++]=x.charCodeAt(U++),V==this.blockSize){a(this,D),V=0;break}}else for(;U<S;)if(D[V++]=x[U++],V==this.blockSize){a(this,D),V=0;break}}this.h=V,this.o+=S},i.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var S=1;S<x.length-8;++S)x[S]=0;var I=8*this.o;for(S=x.length-8;S<x.length;++S)x[S]=I&255,I/=256;for(this.u(x),x=Array(16),S=I=0;4>S;++S)for(var D=0;32>D;D+=8)x[I++]=this.g[S]>>>D&255;return x};function l(x,S){var I=d;return Object.prototype.hasOwnProperty.call(I,x)?I[x]:I[x]=S(x)}function c(x,S){this.h=S;for(var I=[],D=!0,V=x.length-1;0<=V;V--){var U=x[V]|0;D&&U==S||(I[V]=U,D=!1)}this.g=I}var d={};function p(x){return-128<=x&&128>x?l(x,function(S){return new c([S|0],0>S?-1:0)}):new c([x|0],0>x?-1:0)}function g(x){if(isNaN(x)||!isFinite(x))return b;if(0>x)return N(g(-x));for(var S=[],I=1,D=0;x>=I;D++)S[D]=x/I|0,I*=4294967296;return new c(S,0)}function v(x,S){if(x.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(x.charAt(0)=="-")return N(v(x.substring(1),S));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=g(Math.pow(S,8)),D=b,V=0;V<x.length;V+=8){var U=Math.min(8,x.length-V),P=parseInt(x.substring(V,V+U),S);8>U?(U=g(Math.pow(S,U)),D=D.j(U).add(g(P))):(D=D.j(I),D=D.add(g(P)))}return D}var b=p(0),w=p(1),O=p(16777216);n=c.prototype,n.m=function(){if(M(this))return-N(this).m();for(var x=0,S=1,I=0;I<this.g.length;I++){var D=this.i(I);x+=(0<=D?D:4294967296+D)*S,S*=4294967296}return x},n.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(C(this))return"0";if(M(this))return"-"+N(this).toString(x);for(var S=g(Math.pow(x,6)),I=this,D="";;){var V=G(I,S).g;I=z(I,V.j(S));var U=((0<I.g.length?I.g[0]:I.h)>>>0).toString(x);if(I=V,C(I))return U+D;for(;6>U.length;)U="0"+U;D=U+D}},n.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function C(x){if(x.h!=0)return!1;for(var S=0;S<x.g.length;S++)if(x.g[S]!=0)return!1;return!0}function M(x){return x.h==-1}n.l=function(x){return x=z(this,x),M(x)?-1:C(x)?0:1};function N(x){for(var S=x.g.length,I=[],D=0;D<S;D++)I[D]=~x.g[D];return new c(I,~x.h).add(w)}n.abs=function(){return M(this)?N(this):this},n.add=function(x){for(var S=Math.max(this.g.length,x.g.length),I=[],D=0,V=0;V<=S;V++){var U=D+(this.i(V)&65535)+(x.i(V)&65535),P=(U>>>16)+(this.i(V)>>>16)+(x.i(V)>>>16);D=P>>>16,U&=65535,P&=65535,I[V]=P<<16|U}return new c(I,I[I.length-1]&-2147483648?-1:0)};function z(x,S){return x.add(N(S))}n.j=function(x){if(C(this)||C(x))return b;if(M(this))return M(x)?N(this).j(N(x)):N(N(this).j(x));if(M(x))return N(this.j(N(x)));if(0>this.l(O)&&0>x.l(O))return g(this.m()*x.m());for(var S=this.g.length+x.g.length,I=[],D=0;D<2*S;D++)I[D]=0;for(D=0;D<this.g.length;D++)for(var V=0;V<x.g.length;V++){var U=this.i(D)>>>16,P=this.i(D)&65535,ve=x.i(V)>>>16,Ue=x.i(V)&65535;I[2*D+2*V]+=P*Ue,q(I,2*D+2*V),I[2*D+2*V+1]+=U*Ue,q(I,2*D+2*V+1),I[2*D+2*V+1]+=P*ve,q(I,2*D+2*V+1),I[2*D+2*V+2]+=U*ve,q(I,2*D+2*V+2)}for(D=0;D<S;D++)I[D]=I[2*D+1]<<16|I[2*D];for(D=S;D<2*S;D++)I[D]=0;return new c(I,0)};function q(x,S){for(;(x[S]&65535)!=x[S];)x[S+1]+=x[S]>>>16,x[S]&=65535,S++}function j(x,S){this.g=x,this.h=S}function G(x,S){if(C(S))throw Error("division by zero");if(C(x))return new j(b,b);if(M(x))return S=G(N(x),S),new j(N(S.g),N(S.h));if(M(S))return S=G(x,N(S)),new j(N(S.g),S.h);if(30<x.g.length){if(M(x)||M(S))throw Error("slowDivide_ only works with positive integers.");for(var I=w,D=S;0>=D.l(x);)I=Q(I),D=Q(D);var V=J(I,1),U=J(D,1);for(D=J(D,2),I=J(I,2);!C(D);){var P=U.add(D);0>=P.l(x)&&(V=V.add(I),U=P),D=J(D,1),I=J(I,1)}return S=z(x,V.j(S)),new j(V,S)}for(V=b;0<=x.l(S);){for(I=Math.max(1,Math.floor(x.m()/S.m())),D=Math.ceil(Math.log(I)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),U=g(I),P=U.j(S);M(P)||0<P.l(x);)I-=D,U=g(I),P=U.j(S);C(U)&&(U=w),V=V.add(U),x=z(x,P)}return new j(V,x)}n.A=function(x){return G(this,x).h},n.and=function(x){for(var S=Math.max(this.g.length,x.g.length),I=[],D=0;D<S;D++)I[D]=this.i(D)&x.i(D);return new c(I,this.h&x.h)},n.or=function(x){for(var S=Math.max(this.g.length,x.g.length),I=[],D=0;D<S;D++)I[D]=this.i(D)|x.i(D);return new c(I,this.h|x.h)},n.xor=function(x){for(var S=Math.max(this.g.length,x.g.length),I=[],D=0;D<S;D++)I[D]=this.i(D)^x.i(D);return new c(I,this.h^x.h)};function Q(x){for(var S=x.g.length+1,I=[],D=0;D<S;D++)I[D]=x.i(D)<<1|x.i(D-1)>>>31;return new c(I,x.h)}function J(x,S){var I=S>>5;S%=32;for(var D=x.g.length-I,V=[],U=0;U<D;U++)V[U]=0<S?x.i(U+I)>>>S|x.i(U+I+1)<<32-S:x.i(U+I);return new c(V,x.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,Pw=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=v,Ns=c}).apply(typeof Bb<"u"?Bb:typeof self<"u"?self:typeof window<"u"?window:{});var sf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var kw,Vu,Mw,Af,fg,Vw,Lw,Uw;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,y,_){return h==Array.prototype||h==Object.prototype||(h[y]=_.value),h};function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof sf=="object"&&sf];for(var y=0;y<h.length;++y){var _=h[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var i=t(this);function a(h,y){if(y)e:{var _=i;h=h.split(".");for(var R=0;R<h.length-1;R++){var $=h[R];if(!($ in _))break e;_=_[$]}h=h[h.length-1],R=_[h],y=y(R),y!=R&&y!=null&&e(_,h,{configurable:!0,writable:!0,value:y})}}function l(h,y){h instanceof String&&(h+="");var _=0,R=!1,$={next:function(){if(!R&&_<h.length){var ee=_++;return{value:y(ee,h[ee]),done:!1}}return R=!0,{done:!0,value:void 0}}};return $[Symbol.iterator]=function(){return $},$}a("Array.prototype.values",function(h){return h||function(){return l(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function p(h){var y=typeof h;return y=y!="object"?y:h?Array.isArray(h)?"array":y:"null",y=="array"||y=="object"&&typeof h.length=="number"}function g(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function v(h,y,_){return h.call.apply(h.bind,arguments)}function b(h,y,_){if(!h)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var $=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply($,R),h.apply(y,$)}}return function(){return h.apply(y,arguments)}}function w(h,y,_){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:b,w.apply(null,arguments)}function O(h,y){var _=Array.prototype.slice.call(arguments,1);return function(){var R=_.slice();return R.push.apply(R,arguments),h.apply(this,R)}}function C(h,y){function _(){}_.prototype=y.prototype,h.aa=y.prototype,h.prototype=new _,h.prototype.constructor=h,h.Qb=function(R,$,ee){for(var ce=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)ce[ze-2]=arguments[ze];return y.prototype[$].apply(R,ce)}}function M(h){const y=h.length;if(0<y){const _=Array(y);for(let R=0;R<y;R++)_[R]=h[R];return _}return[]}function N(h,y){for(let _=1;_<arguments.length;_++){const R=arguments[_];if(p(R)){const $=h.length||0,ee=R.length||0;h.length=$+ee;for(let ce=0;ce<ee;ce++)h[$+ce]=R[ce]}else h.push(R)}}class z{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function q(h){return/^[\s\xa0]*$/.test(h)}function j(){var h=d.navigator;return h&&(h=h.userAgent)?h:""}function G(h){return G[" "](h),h}G[" "]=function(){};var Q=j().indexOf("Gecko")!=-1&&!(j().toLowerCase().indexOf("webkit")!=-1&&j().indexOf("Edge")==-1)&&!(j().indexOf("Trident")!=-1||j().indexOf("MSIE")!=-1)&&j().indexOf("Edge")==-1;function J(h,y,_){for(const R in h)y.call(_,h[R],R,h)}function x(h,y){for(const _ in h)y.call(void 0,h[_],_,h)}function S(h){const y={};for(const _ in h)y[_]=h[_];return y}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(h,y){let _,R;for(let $=1;$<arguments.length;$++){R=arguments[$];for(_ in R)h[_]=R[_];for(let ee=0;ee<I.length;ee++)_=I[ee],Object.prototype.hasOwnProperty.call(R,_)&&(h[_]=R[_])}}function V(h){var y=1;h=h.split(":");const _=[];for(;0<y&&h.length;)_.push(h.shift()),y--;return h.length&&_.push(h.join(":")),_}function U(h){d.setTimeout(()=>{throw h},0)}function P(){var h=Oe;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class ve{constructor(){this.h=this.g=null}add(y,_){const R=Ue.get();R.set(y,_),this.h?this.h.next=R:this.g=R,this.h=R}}var Ue=new z(()=>new Z,h=>h.reset());class Z{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,fe=!1,Oe=new ve,L=()=>{const h=d.Promise.resolve(void 0);oe=()=>{h.then(re)}};var re=()=>{for(var h;h=P();){try{h.h.call(h.g)}catch(_){U(_)}var y=Ue;y.j(h),100>y.h&&(y.h++,h.next=y.g,y.g=h)}fe=!1};function ue(){this.s=this.s,this.C=this.C}ue.prototype.s=!1,ue.prototype.ma=function(){this.s||(this.s=!0,this.N())},ue.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function le(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}le.prototype.h=function(){this.defaultPrevented=!0};var ge=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const _=()=>{};d.addEventListener("test",_,y),d.removeEventListener("test",_,y)}catch{}return h}();function be(h,y){if(le.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var _=this.type=h.type,R=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget){if(Q){e:{try{G(y.nodeName);var $=!0;break e}catch{}$=!1}$||(y=null)}}else _=="mouseover"?y=h.fromElement:_=="mouseout"&&(y=h.toElement);this.relatedTarget=y,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:ye[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&be.aa.h.call(this)}}C(be,le);var ye={2:"touch",3:"pen",4:"mouse"};be.prototype.h=function(){be.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var at="closure_listenable_"+(1e6*Math.random()|0),De=0;function Ft(h,y,_,R,$){this.listener=h,this.proxy=null,this.src=y,this.type=_,this.capture=!!R,this.ha=$,this.key=++De,this.da=this.fa=!1}function Un(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function un(h){this.src=h,this.g={},this.h=0}un.prototype.add=function(h,y,_,R,$){var ee=h.toString();h=this.g[ee],h||(h=this.g[ee]=[],this.h++);var ce=Wn(h,y,R,$);return-1<ce?(y=h[ce],_||(y.fa=!1)):(y=new Ft(y,this.src,ee,!!R,$),y.fa=_,h.push(y)),y};function vr(h,y){var _=y.type;if(_ in h.g){var R=h.g[_],$=Array.prototype.indexOf.call(R,y,void 0),ee;(ee=0<=$)&&Array.prototype.splice.call(R,$,1),ee&&(Un(y),h.g[_].length==0&&(delete h.g[_],h.h--))}}function Wn(h,y,_,R){for(var $=0;$<h.length;++$){var ee=h[$];if(!ee.da&&ee.listener==y&&ee.capture==!!_&&ee.ha==R)return $}return-1}var Ht="closure_lm_"+(1e6*Math.random()|0),cn={};function ut(h,y,_,R,$){if(Array.isArray(y)){for(var ee=0;ee<y.length;ee++)ut(h,y[ee],_,R,$);return null}return _=yr(_),h&&h[at]?h.K(y,_,g(R)?!!R.capture:!1,$):Ce(h,y,_,!1,R,$)}function Ce(h,y,_,R,$,ee){if(!y)throw Error("Invalid event type");var ce=g($)?!!$.capture:!!$,ze=Jt(h);if(ze||(h[Ht]=ze=new un(h)),_=ze.add(y,_,R,ce,ee),_.proxy)return _;if(R=hn(),_.proxy=R,R.src=h,R.listener=_,h.addEventListener)ge||($=ce),$===void 0&&($=!1),h.addEventListener(y.toString(),R,$);else if(h.attachEvent)h.attachEvent(Rt(y.toString()),R);else if(h.addListener&&h.removeListener)h.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return _}function hn(){function h(_){return y.call(h.src,h.listener,_)}const y=In;return h}function Cn(h,y,_,R,$){if(Array.isArray(y))for(var ee=0;ee<y.length;ee++)Cn(h,y[ee],_,R,$);else R=g(R)?!!R.capture:!!R,_=yr(_),h&&h[at]?(h=h.i,y=String(y).toString(),y in h.g&&(ee=h.g[y],_=Wn(ee,_,R,$),-1<_&&(Un(ee[_]),Array.prototype.splice.call(ee,_,1),ee.length==0&&(delete h.g[y],h.h--)))):h&&(h=Jt(h))&&(y=h.g[y.toString()],h=-1,y&&(h=Wn(y,_,R,$)),(_=-1<h?y[h]:null)&&tt(_))}function tt(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[at])vr(y.i,h);else{var _=h.type,R=h.proxy;y.removeEventListener?y.removeEventListener(_,R,h.capture):y.detachEvent?y.detachEvent(Rt(_),R):y.addListener&&y.removeListener&&y.removeListener(R),(_=Jt(y))?(vr(_,h),_.h==0&&(_.src=null,y[Ht]=null)):Un(h)}}}function Rt(h){return h in cn?cn[h]:cn[h]="on"+h}function In(h,y){if(h.da)h=!0;else{y=new be(y,this);var _=h.listener,R=h.ha||h.src;h.fa&&tt(h),h=_.call(R,y)}return h}function Jt(h){return h=h[Ht],h instanceof un?h:null}var jn="__closure_events_fn_"+(1e9*Math.random()>>>0);function yr(h){return typeof h=="function"?h:(h[jn]||(h[jn]=function(y){return h.handleEvent(y)}),h[jn])}function ct(){ue.call(this),this.i=new un(this),this.M=this,this.F=null}C(ct,ue),ct.prototype[at]=!0,ct.prototype.removeEventListener=function(h,y,_,R){Cn(this,h,y,_,R)};function Ge(h,y){var _,R=h.F;if(R)for(_=[];R;R=R.F)_.push(R);if(h=h.M,R=y.type||y,typeof y=="string")y=new le(y,h);else if(y instanceof le)y.target=y.target||h;else{var $=y;y=new le(R,h),D(y,$)}if($=!0,_)for(var ee=_.length-1;0<=ee;ee--){var ce=y.g=_[ee];$=fn(ce,R,!0,y)&&$}if(ce=y.g=h,$=fn(ce,R,!0,y)&&$,$=fn(ce,R,!1,y)&&$,_)for(ee=0;ee<_.length;ee++)ce=y.g=_[ee],$=fn(ce,R,!1,y)&&$}ct.prototype.N=function(){if(ct.aa.N.call(this),this.i){var h=this.i,y;for(y in h.g){for(var _=h.g[y],R=0;R<_.length;R++)Un(_[R]);delete h.g[y],h.h--}}this.F=null},ct.prototype.K=function(h,y,_,R){return this.i.add(String(h),y,!1,_,R)},ct.prototype.L=function(h,y,_,R){return this.i.add(String(h),y,!0,_,R)};function fn(h,y,_,R){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();for(var $=!0,ee=0;ee<y.length;++ee){var ce=y[ee];if(ce&&!ce.da&&ce.capture==_){var ze=ce.listener,Mt=ce.ha||ce.src;ce.fa&&vr(h.i,ce),$=ze.call(Mt,R)!==!1&&$}}return $&&!R.defaultPrevented}function dn(h,y,_){if(typeof h=="function")_&&(h=w(h,_));else if(h&&typeof h.handleEvent=="function")h=w(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:d.setTimeout(h,y||0)}function Dc(h){h.g=dn(()=>{h.g=null,h.i&&(h.i=!1,Dc(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class xd extends ue{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Dc(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Hs(h){ue.call(this),this.h=h,this.g={}}C(Hs,ue);var Gs=[];function $s(h){J(h.g,function(y,_){this.g.hasOwnProperty(_)&&tt(y)},h),h.g={}}Hs.prototype.N=function(){Hs.aa.N.call(this),$s(this)},Hs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _r=d.JSON.stringify,$a=d.JSON.parse,Ks=class{stringify(h){return d.JSON.stringify(h,void 0)}parse(h){return d.JSON.parse(h,void 0)}};function bl(){}bl.prototype.h=null;function Tl(h){return h.h||(h.h=h.i())}function Al(){}var hi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function fi(){le.call(this,"d")}C(fi,le);function wl(){le.call(this,"c")}C(wl,le);var Dr={},Sl=null;function Ki(){return Sl=Sl||new ct}Dr.La="serverreachability";function Ka(h){le.call(this,Dr.La,h)}C(Ka,le);function Yi(h){const y=Ki();Ge(y,new Ka(y))}Dr.STAT_EVENT="statevent";function Pc(h,y){le.call(this,Dr.STAT_EVENT,h),this.stat=y}C(Pc,le);function dt(h){const y=Ki();Ge(y,new Pc(y,h))}Dr.Ma="timingevent";function kt(h,y){le.call(this,Dr.Ma,h),this.size=y}C(kt,le);function Ct(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){h()},y)}function Jn(){this.g=!0}Jn.prototype.xa=function(){this.g=!1};function Rl(h,y,_,R,$,ee){h.info(function(){if(h.g)if(ee)for(var ce="",ze=ee.split("&"),Mt=0;Mt<ze.length;Mt++){var qe=ze[Mt].split("=");if(1<qe.length){var $t=qe[0];qe=qe[1];var Vt=$t.split("_");ce=2<=Vt.length&&Vt[1]=="type"?ce+($t+"="+qe+"&"):ce+($t+"=redacted&")}}else ce=null;else ce=ee;return"XMLHTTP REQ ("+R+") [attempt "+$+"]: "+y+`
`+_+`
`+ce})}function Od(h,y,_,R,$,ee,ce){h.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+$+"]: "+y+`
`+_+`
`+ee+" "+ce})}function Qi(h,y,_,R){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+Ys(h,_)+(R?" "+R:"")})}function kc(h,y){h.info(function(){return"TIMEOUT: "+y})}Jn.prototype.info=function(){};function Ys(h,y){if(!h.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(h=0;h<_.length;h++)if(Array.isArray(_[h])){var R=_[h];if(!(2>R.length)){var $=R[1];if(Array.isArray($)&&!(1>$.length)){var ee=$[0];if(ee!="noop"&&ee!="stop"&&ee!="close")for(var ce=1;ce<$.length;ce++)$[ce]=""}}}}return _r(_)}catch{return y}}var Xi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},di={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Pr;function kr(){}C(kr,bl),kr.prototype.g=function(){return new XMLHttpRequest},kr.prototype.i=function(){return{}},Pr=new kr;function Tn(h,y,_,R){this.j=h,this.i=y,this.l=_,this.R=R||1,this.U=new Hs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new bt}function bt(){this.i=null,this.g="",this.h=!1}var Cl={},Ya={};function Er(h,y,_){h.L=1,h.v=Zs(Bn(y)),h.m=_,h.P=!0,pi(h,null)}function pi(h,y){h.F=Date.now(),Qs(h),h.A=Bn(h.v);var _=h.A,R=h.R;Array.isArray(R)||(R=[String(R)]),Pl(_.i,"t",R),h.C=0,_=h.j.J,h.h=new bt,h.g=Xc(h.j,_?y:null,!h.m),0<h.O&&(h.M=new xd(w(h.Y,h,h.g),h.O)),y=h.U,_=h.g,R=h.ca;var $="readystatechange";Array.isArray($)||($&&(Gs[0]=$.toString()),$=Gs);for(var ee=0;ee<$.length;ee++){var ce=ut(_,$[ee],R||y.handleEvent,!1,y.h||y);if(!ce)break;y.g[ce.key]=ce}y=h.H?S(h.H):{},h.m?(h.u||(h.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,y)):(h.u="GET",h.g.ea(h.A,h.u,null,y)),Yi(),Rl(h.i,h.u,h.A,h.l,h.R,h.m)}Tn.prototype.ca=function(h){h=h.target;const y=this.M;y&&nr(h)==3?y.j():this.Y(h)},Tn.prototype.Y=function(h){try{if(h==this.g)e:{const Vt=nr(this.g);var y=this.g.Ba();const Ti=this.g.Z();if(!(3>Vt)&&(Vt!=3||this.g&&(this.h.h||this.g.oa()||qc(this.g)))){this.J||Vt!=4||y==7||(y==8||0>=Ti?Yi(3):Yi(2)),Wi(this);var _=this.g.Z();this.X=_;t:if(Mc(this)){var R=qc(this.g);h="";var $=R.length,ee=nr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Zt(this),Mr(this);var ce="";break t}this.h.i=new d.TextDecoder}for(y=0;y<$;y++)this.h.h=!0,h+=this.h.i.decode(R[y],{stream:!(ee&&y==$-1)});R.length=0,this.h.g+=h,this.C=0,ce=this.h.g}else ce=this.g.oa();if(this.o=_==200,Od(this.i,this.u,this.A,this.l,this.R,Vt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var ze,Mt=this.g;if((ze=Mt.g?Mt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!q(ze)){var qe=ze;break t}}qe=null}if(_=qe)Qi(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Xs(this,_);else{this.o=!1,this.s=3,dt(12),Zt(this),Mr(this);break e}}if(this.P){_=!0;let en;for(;!this.J&&this.C<ce.length;)if(en=Vc(this,ce),en==Ya){Vt==4&&(this.s=4,dt(14),_=!1),Qi(this.i,this.l,null,"[Incomplete Response]");break}else if(en==Cl){this.s=4,dt(15),Qi(this.i,this.l,ce,"[Invalid Chunk]"),_=!1;break}else Qi(this.i,this.l,en,null),Xs(this,en);if(Mc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Vt!=4||ce.length!=0||this.h.h||(this.s=1,dt(16),_=!1),this.o=this.o&&_,!_)Qi(this.i,this.l,ce,"[Invalid Chunked Response]"),Zt(this),Mr(this);else if(0<ce.length&&!this.W){this.W=!0;var $t=this.j;$t.g==this&&$t.ba&&!$t.M&&($t.j.info("Great, no buffering proxy detected. Bytes received: "+ce.length),oa($t),$t.M=!0,dt(11))}}else Qi(this.i,this.l,ce,null),Xs(this,ce);Vt==4&&Zt(this),this.o&&!this.J&&(Vt==4?Kc(this.j,this):(this.o=!1,Qs(this)))}else Md(this.g),_==400&&0<ce.indexOf("Unknown SID")?(this.s=3,dt(12)):(this.s=0,dt(13)),Zt(this),Mr(this)}}}catch{}finally{}};function Mc(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function Vc(h,y){var _=h.C,R=y.indexOf(`
`,_);return R==-1?Ya:(_=Number(y.substring(_,R)),isNaN(_)?Cl:(R+=1,R+_>y.length?Ya:(y=y.slice(R,R+_),h.C=R+_,y)))}Tn.prototype.cancel=function(){this.J=!0,Zt(this)};function Qs(h){h.S=Date.now()+h.I,Lc(h,h.I)}function Lc(h,y){if(h.B!=null)throw Error("WatchDog timer not null");h.B=Ct(w(h.ba,h),y)}function Wi(h){h.B&&(d.clearTimeout(h.B),h.B=null)}Tn.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(kc(this.i,this.A),this.L!=2&&(Yi(),dt(17)),Zt(this),this.s=2,Mr(this)):Lc(this,this.S-h)};function Mr(h){h.j.G==0||h.J||Kc(h.j,h)}function Zt(h){Wi(h);var y=h.M;y&&typeof y.ma=="function"&&y.ma(),h.M=null,$s(h.U),h.g&&(y=h.g,h.g=null,y.abort(),y.ma())}function Xs(h,y){try{var _=h.j;if(_.G!=0&&(_.g==h||Il(_.h,h))){if(!h.K&&Il(_.h,h)&&_.G==3){try{var R=_.Da.g.parse(y)}catch{R=null}if(Array.isArray(R)&&R.length==3){var $=R;if($[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<h.F)ao(_),io(_);else break e;Ul(_),dt(18)}}else _.za=$[1],0<_.za-_.T&&37500>$[2]&&_.F&&_.v==0&&!_.C&&(_.C=Ct(w(_.Za,_),6e3));if(1>=Xa(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else bi(_,11)}else if((h.K||_.g==h)&&ao(_),!q(y))for($=_.Da.g.parse(y),y=0;y<$.length;y++){let qe=$[y];if(_.T=qe[0],qe=qe[1],_.G==2)if(qe[0]=="c"){_.K=qe[1],_.ia=qe[2];const $t=qe[3];$t!=null&&(_.la=$t,_.j.info("VER="+_.la));const Vt=qe[4];Vt!=null&&(_.Aa=Vt,_.j.info("SVER="+_.Aa));const Ti=qe[5];Ti!=null&&typeof Ti=="number"&&0<Ti&&(R=1.5*Ti,_.L=R,_.j.info("backChannelRequestTimeoutMs_="+R)),R=_;const en=h.g;if(en){const qr=en.g?en.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(qr){var ee=R.h;ee.g||qr.indexOf("spdy")==-1&&qr.indexOf("quic")==-1&&qr.indexOf("h2")==-1||(ee.j=ee.l,ee.g=new Set,ee.h&&(Wa(ee,ee.h),ee.h=null))}if(R.D){const Bl=en.g?en.g.getResponseHeader("X-HTTP-Session-Id"):null;Bl&&(R.ya=Bl,nt(R.I,R.D,Bl))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-h.F,_.j.info("Handshake RTT: "+_.R+"ms")),R=_;var ce=h;if(R.qa=Qc(R,R.J?R.ia:null,R.W),ce.K){An(R.h,ce);var ze=ce,Mt=R.L;Mt&&(ze.I=Mt),ze.B&&(Wi(ze),Qs(ze)),R.g=ce}else Gc(R);0<_.i.length&&so(_)}else qe[0]!="stop"&&qe[0]!="close"||bi(_,7);else _.G==3&&(qe[0]=="stop"||qe[0]=="close"?qe[0]=="stop"?bi(_,7):Vl(_):qe[0]!="noop"&&_.l&&_.l.ta(qe),_.v=0)}}Yi(4)}catch{}}var Uc=class{constructor(h,y){this.g=h,this.map=y}};function mi(h){this.l=h||10,d.PerformanceNavigationTiming?(h=d.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Qa(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Xa(h){return h.h?1:h.g?h.g.size:0}function Il(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function Wa(h,y){h.g?h.g.add(y):h.h=y}function An(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}mi.prototype.cancel=function(){if(this.i=xl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function xl(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const _ of h.g.values())y=y.concat(_.D);return y}return M(h.i)}function Nd(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(p(h)){for(var y=[],_=h.length,R=0;R<_;R++)y.push(h[R]);return y}y=[],_=0;for(R in h)y[_++]=h[R];return y}function Ja(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(p(h)||typeof h=="string"){var y=[];h=h.length;for(var _=0;_<h;_++)y.push(_);return y}y=[],_=0;for(const R in h)y[_++]=R;return y}}}function Ol(h,y){if(h.forEach&&typeof h.forEach=="function")h.forEach(y,void 0);else if(p(h)||typeof h=="string")Array.prototype.forEach.call(h,y,void 0);else for(var _=Ja(h),R=Nd(h),$=R.length,ee=0;ee<$;ee++)y.call(void 0,R[ee],_&&_[ee],h)}var Ws=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Dd(h,y){if(h){h=h.split("&");for(var _=0;_<h.length;_++){var R=h[_].indexOf("="),$=null;if(0<=R){var ee=h[_].substring(0,R);$=h[_].substring(R+1)}else ee=h[_];y(ee,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function It(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof It){this.h=h.h,Js(this,h.j),this.o=h.o,this.g=h.g,Ji(this,h.s),this.l=h.l;var y=h.i,_=new vi;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),gi(this,_),this.m=h.m}else h&&(y=String(h).match(Ws))?(this.h=!1,Js(this,y[1]||"",!0),this.o=Zn(y[2]||""),this.g=Zn(y[3]||"",!0),Ji(this,y[4]),this.l=Zn(y[5]||"",!0),gi(this,y[6]||"",!0),this.m=Zn(y[7]||"")):(this.h=!1,this.i=new vi(null,this.h))}It.prototype.toString=function(){var h=[],y=this.j;y&&h.push(ea(y,Nl,!0),":");var _=this.g;return(_||y=="file")&&(h.push("//"),(y=this.o)&&h.push(ea(y,Nl,!0),"@"),h.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&h.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&h.push("/"),h.push(ea(_,_.charAt(0)=="/"?Pd:Dl,!0))),(_=this.i.toString())&&h.push("?",_),(_=this.m)&&h.push("#",ea(_,Za)),h.join("")};function Bn(h){return new It(h)}function Js(h,y,_){h.j=_?Zn(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function Ji(h,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);h.s=y}else h.s=null}function gi(h,y,_){y instanceof vi?(h.i=y,Bc(h.i,h.h)):(_||(y=ea(y,kd)),h.i=new vi(y,h.h))}function nt(h,y,_){h.i.set(y,_)}function Zs(h){return nt(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function Zn(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function ea(h,y,_){return typeof h=="string"?(h=encodeURI(h).replace(y,jc),_&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function jc(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Nl=/[#\/\?@]/g,Dl=/[#\?:]/g,Pd=/[#\?]/g,kd=/[#\?@]/g,Za=/#/g;function vi(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function er(h){h.g||(h.g=new Map,h.h=0,h.i&&Dd(h.i,function(y,_){h.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}n=vi.prototype,n.add=function(h,y){er(this),this.i=null,h=Vr(this,h);var _=this.g.get(h);return _||this.g.set(h,_=[]),_.push(y),this.h+=1,this};function yi(h,y){er(h),y=Vr(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function _i(h,y){return er(h),y=Vr(h,y),h.g.has(y)}n.forEach=function(h,y){er(this),this.g.forEach(function(_,R){_.forEach(function($){h.call(y,$,R,this)},this)},this)},n.na=function(){er(this);const h=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let R=0;R<y.length;R++){const $=h[R];for(let ee=0;ee<$.length;ee++)_.push(y[R])}return _},n.V=function(h){er(this);let y=[];if(typeof h=="string")_i(this,h)&&(y=y.concat(this.g.get(Vr(this,h))));else{h=Array.from(this.g.values());for(let _=0;_<h.length;_++)y=y.concat(h[_])}return y},n.set=function(h,y){return er(this),this.i=null,h=Vr(this,h),_i(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},n.get=function(h,y){return h?(h=this.V(h),0<h.length?String(h[0]):y):y};function Pl(h,y,_){yi(h,y),0<_.length&&(h.i=null,h.g.set(Vr(h,y),M(_)),h.h+=_.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var R=y[_];const ee=encodeURIComponent(String(R)),ce=this.V(R);for(R=0;R<ce.length;R++){var $=ee;ce[R]!==""&&($+="="+encodeURIComponent(String(ce[R]))),h.push($)}}return this.i=h.join("&")};function Vr(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function Bc(h,y){y&&!h.j&&(er(h),h.i=null,h.g.forEach(function(_,R){var $=R.toLowerCase();R!=$&&(yi(this,R),Pl(this,$,_))},h)),h.j=y}function ta(h,y){const _=new Jn;if(d.Image){const R=new Image;R.onload=O(tr,_,"TestLoadImage: loaded",!0,y,R),R.onerror=O(tr,_,"TestLoadImage: error",!1,y,R),R.onabort=O(tr,_,"TestLoadImage: abort",!1,y,R),R.ontimeout=O(tr,_,"TestLoadImage: timeout",!1,y,R),d.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=h}else y(!1)}function br(h,y){const _=new Jn,R=new AbortController,$=setTimeout(()=>{R.abort(),tr(_,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:R.signal}).then(ee=>{clearTimeout($),ee.ok?tr(_,"TestPingServer: ok",!0,y):tr(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout($),tr(_,"TestPingServer: error",!1,y)})}function tr(h,y,_,R,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),R(_)}catch{}}function na(){this.g=new Ks}function Lr(h,y,_){const R=_||"";try{Ol(h,function($,ee){let ce=$;g($)&&(ce=_r($)),y.push(R+ee+"="+encodeURIComponent(ce))})}catch($){throw y.push(R+"type="+encodeURIComponent("_badmap")),$}}function Zi(h){this.l=h.Ub||null,this.j=h.eb||!1}C(Zi,bl),Zi.prototype.g=function(){return new Ei(this.l,this.j)},Zi.prototype.i=function(h){return function(){return h}}({});function Ei(h,y){ct.call(this),this.D=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(Ei,ct),n=Ei.prototype,n.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=y,this.readyState=1,jr(this)},n.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(y.body=h),(this.D||d).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ur(this)),this.readyState=0},n.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,jr(this)),this.g&&(this.readyState=3,jr(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;kl(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function kl(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}n.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?Ur(this):jr(this),this.readyState==3&&kl(this)}},n.Ra=function(h){this.g&&(this.response=this.responseText=h,Ur(this))},n.Qa=function(h){this.g&&(this.response=h,Ur(this))},n.ga=function(){this.g&&Ur(this)};function Ur(h){h.readyState=4,h.l=null,h.j=null,h.v=null,jr(h)}n.setRequestHeader=function(h,y){this.u.append(h,y)},n.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,h.push(_[0]+": "+_[1]),_=y.next();return h.join(`\r
`)};function jr(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Ei.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Ml(h){let y="";return J(h,function(_,R){y+=R,y+=":",y+=_,y+=`\r
`}),y}function Gt(h,y,_){e:{for(R in _){var R=!1;break e}R=!0}R||(_=Ml(_),typeof h=="string"?_!=null&&encodeURIComponent(String(_)):nt(h,y,_))}function Xe(h){ct.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(Xe,ct);var eo=/^https?$/i,ra=["POST","PUT"];n=Xe.prototype,n.Ha=function(h){this.J=h},n.ea=function(h,y,_,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Pr.g(),this.v=this.o?Tl(this.o):Tl(Pr),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch(ee){zc(this,ee);return}if(h=_||"",_=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var $ in R)_.set($,R[$]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const ee of R.keys())_.set(ee,R.get(ee));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(_.keys()).find(ee=>ee.toLowerCase()=="content-type"),$=d.FormData&&h instanceof d.FormData,!(0<=Array.prototype.indexOf.call(ra,y,void 0))||R||$||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ee,ce]of _)this.g.setRequestHeader(ee,ce);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ia(this),this.u=!0,this.g.send(h),this.u=!1}catch(ee){zc(this,ee)}};function zc(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.m=5,to(h),Br(h)}function to(h){h.A||(h.A=!0,Ge(h,"complete"),Ge(h,"error"))}n.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Ge(this,"complete"),Ge(this,"abort"),Br(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Br(this,!0)),Xe.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?no(this):this.bb())},n.bb=function(){no(this)};function no(h){if(h.h&&typeof c<"u"&&(!h.v[1]||nr(h)!=4||h.Z()!=2)){if(h.u&&nr(h)==4)dn(h.Ea,0,h);else if(Ge(h,"readystatechange"),nr(h)==4){h.h=!1;try{const ce=h.Z();e:switch(ce){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var R;if(R=ce===0){var $=String(h.D).match(Ws)[1]||null;!$&&d.self&&d.self.location&&($=d.self.location.protocol.slice(0,-1)),R=!eo.test($?$.toLowerCase():"")}_=R}if(_)Ge(h,"complete"),Ge(h,"success");else{h.m=6;try{var ee=2<nr(h)?h.g.statusText:""}catch{ee=""}h.l=ee+" ["+h.Z()+"]",to(h)}}finally{Br(h)}}}}function Br(h,y){if(h.g){ia(h);const _=h.g,R=h.v[0]?()=>{}:null;h.g=null,h.v=null,y||Ge(h,"ready");try{_.onreadystatechange=R}catch{}}}function ia(h){h.I&&(d.clearTimeout(h.I),h.I=null)}n.isActive=function(){return!!this.g};function nr(h){return h.g?h.g.readyState:0}n.Z=function(){try{return 2<nr(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),$a(y)}};function qc(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Md(h){const y={};h=(h.g&&2<=nr(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<h.length;R++){if(q(h[R]))continue;var _=V(h[R]);const $=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const ee=y[$]||[];y[$]=ee,ee.push(_)}x(y,function(R){return R.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function sa(h,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[h]||y}function ro(h){this.Aa=0,this.i=[],this.j=new Jn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=sa("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=sa("baseRetryDelayMs",5e3,h),this.cb=sa("retryDelaySeedMs",1e4,h),this.Wa=sa("forwardChannelMaxRetries",2,h),this.wa=sa("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new mi(h&&h.concurrentRequestLimit),this.Da=new na,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=ro.prototype,n.la=8,n.G=1,n.connect=function(h,y,_,R){dt(0),this.W=h,this.H=y||{},_&&R!==void 0&&(this.H.OSID=_,this.H.OAID=R),this.F=this.X,this.I=Qc(this,null,this.W),so(this)};function Vl(h){if(Fc(h),h.G==3){var y=h.U++,_=Bn(h.I);if(nt(_,"SID",h.K),nt(_,"RID",y),nt(_,"TYPE","terminate"),aa(h,_),y=new Tn(h,h.j,y),y.L=2,y.v=Zs(Bn(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&d.Image&&(new Image().src=y.v,_=!0),_||(y.g=Xc(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Qs(y)}Yc(h)}function io(h){h.g&&(oa(h),h.g.cancel(),h.g=null)}function Fc(h){io(h),h.u&&(d.clearTimeout(h.u),h.u=null),ao(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&d.clearTimeout(h.s),h.s=null)}function so(h){if(!Qa(h.h)&&!h.s){h.s=!0;var y=h.Ga;oe||L(),fe||(oe(),fe=!0),Oe.add(y,h),h.B=0}}function Vd(h,y){return Xa(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=y.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=Ct(w(h.Ga,h,y),jl(h,h.B)),h.B++,!0)}n.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const $=new Tn(this,this.j,h);let ee=this.o;if(this.S&&(ee?(ee=S(ee),D(ee,this.S)):ee=this.S),this.m!==null||this.O||($.H=ee,ee=null),this.P)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var R=this.i[_];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(y+=R,4096<y){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=Hc(this,$,y),_=Bn(this.I),nt(_,"RID",h),nt(_,"CVER",22),this.D&&nt(_,"X-HTTP-Session-Id",this.D),aa(this,_),ee&&(this.O?y="headers="+encodeURIComponent(String(Ml(ee)))+"&"+y:this.m&&Gt(_,this.m,ee)),Wa(this.h,$),this.Ua&&nt(_,"TYPE","init"),this.P?(nt(_,"$req",y),nt(_,"SID","null"),$.T=!0,Er($,_,null)):Er($,_,y),this.G=2}}else this.G==3&&(h?Ll(this,h):this.i.length==0||Qa(this.h)||Ll(this))};function Ll(h,y){var _;y?_=y.l:_=h.U++;const R=Bn(h.I);nt(R,"SID",h.K),nt(R,"RID",_),nt(R,"AID",h.T),aa(h,R),h.m&&h.o&&Gt(R,h.m,h.o),_=new Tn(h,h.j,_,h.B+1),h.m===null&&(_.H=h.o),y&&(h.i=y.D.concat(h.i)),y=Hc(h,_,1e3),_.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Wa(h.h,_),Er(_,R,y)}function aa(h,y){h.H&&J(h.H,function(_,R){nt(y,R,_)}),h.l&&Ol({},function(_,R){nt(y,R,_)})}function Hc(h,y,_){_=Math.min(h.i.length,_);var R=h.l?w(h.l.Na,h.l,h):null;e:{var $=h.i;let ee=-1;for(;;){const ce=["count="+_];ee==-1?0<_?(ee=$[0].g,ce.push("ofs="+ee)):ee=0:ce.push("ofs="+ee);let ze=!0;for(let Mt=0;Mt<_;Mt++){let qe=$[Mt].g;const $t=$[Mt].map;if(qe-=ee,0>qe)ee=Math.max(0,$[Mt].g-100),ze=!1;else try{Lr($t,ce,"req"+qe+"_")}catch{R&&R($t)}}if(ze){R=ce.join("&");break e}}}return h=h.i.splice(0,_),y.D=h,R}function Gc(h){if(!h.g&&!h.u){h.Y=1;var y=h.Fa;oe||L(),fe||(oe(),fe=!0),Oe.add(y,h),h.v=0}}function Ul(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=Ct(w(h.Fa,h),jl(h,h.v)),h.v++,!0)}n.Fa=function(){if(this.u=null,$c(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=Ct(w(this.ab,this),h)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,dt(10),io(this),$c(this))};function oa(h){h.A!=null&&(d.clearTimeout(h.A),h.A=null)}function $c(h){h.g=new Tn(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var y=Bn(h.qa);nt(y,"RID","rpc"),nt(y,"SID",h.K),nt(y,"AID",h.T),nt(y,"CI",h.F?"0":"1"),!h.F&&h.ja&&nt(y,"TO",h.ja),nt(y,"TYPE","xmlhttp"),aa(h,y),h.m&&h.o&&Gt(y,h.m,h.o),h.L&&(h.g.I=h.L);var _=h.g;h=h.ia,_.L=1,_.v=Zs(Bn(y)),_.m=null,_.P=!0,pi(_,h)}n.Za=function(){this.C!=null&&(this.C=null,io(this),Ul(this),dt(19))};function ao(h){h.C!=null&&(d.clearTimeout(h.C),h.C=null)}function Kc(h,y){var _=null;if(h.g==y){ao(h),oa(h),h.g=null;var R=2}else if(Il(h.h,y))_=y.D,An(h.h,y),R=1;else return;if(h.G!=0){if(y.o)if(R==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var $=h.B;R=Ki(),Ge(R,new kt(R,_)),so(h)}else Gc(h);else if($=y.s,$==3||$==0&&0<y.X||!(R==1&&Vd(h,y)||R==2&&Ul(h)))switch(_&&0<_.length&&(y=h.h,y.i=y.i.concat(_)),$){case 1:bi(h,5);break;case 4:bi(h,10);break;case 3:bi(h,6);break;default:bi(h,2)}}}function jl(h,y){let _=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(_*=2),_*y}function bi(h,y){if(h.j.info("Error code "+y),y==2){var _=w(h.fb,h),R=h.Xa;const $=!R;R=new It(R||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Js(R,"https"),Zs(R),$?ta(R.toString(),_):br(R.toString(),_)}else dt(2);h.G=0,h.l&&h.l.sa(y),Yc(h),Fc(h)}n.fb=function(h){h?(this.j.info("Successfully pinged google.com"),dt(2)):(this.j.info("Failed to ping google.com"),dt(1))};function Yc(h){if(h.G=0,h.ka=[],h.l){const y=xl(h.h);(y.length!=0||h.i.length!=0)&&(N(h.ka,y),N(h.ka,h.i),h.h.i.length=0,M(h.i),h.i.length=0),h.l.ra()}}function Qc(h,y,_){var R=_ instanceof It?Bn(_):new It(_);if(R.g!="")y&&(R.g=y+"."+R.g),Ji(R,R.s);else{var $=d.location;R=$.protocol,y=y?y+"."+$.hostname:$.hostname,$=+$.port;var ee=new It(null);R&&Js(ee,R),y&&(ee.g=y),$&&Ji(ee,$),_&&(ee.l=_),R=ee}return _=h.D,y=h.ya,_&&y&&nt(R,_,y),nt(R,"VER",h.la),aa(h,R),R}function Xc(h,y,_){if(y&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Ca&&!h.pa?new Xe(new Zi({eb:_})):new Xe(h.pa),y.Ha(h.J),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Wc(){}n=Wc.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function oo(){}oo.prototype.g=function(h,y){return new wn(h,y)};function wn(h,y){ct.call(this),this.g=new ro(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(h?h["X-WebChannel-Client-Profile"]=y.va:h={"X-WebChannel-Client-Profile":y.va}),this.g.S=h,(h=y&&y.Sb)&&!q(h)&&(this.g.m=h),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!q(y)&&(this.g.D=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new zr(this)}C(wn,ct),wn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},wn.prototype.close=function(){Vl(this.g)},wn.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var _={};_.__data__=h,h=_}else this.u&&(_={},_.__data__=_r(h),h=_);y.i.push(new Uc(y.Ya++,h)),y.G==3&&so(y)},wn.prototype.N=function(){this.g.l=null,delete this.j,Vl(this.g),delete this.g,wn.aa.N.call(this)};function Jc(h){fi.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){e:{for(const _ in y){h=_;break e}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}C(Jc,fi);function Zc(){wl.call(this),this.status=1}C(Zc,wl);function zr(h){this.g=h}C(zr,Wc),zr.prototype.ua=function(){Ge(this.g,"a")},zr.prototype.ta=function(h){Ge(this.g,new Jc(h))},zr.prototype.sa=function(h){Ge(this.g,new Zc)},zr.prototype.ra=function(){Ge(this.g,"b")},oo.prototype.createWebChannel=oo.prototype.g,wn.prototype.send=wn.prototype.o,wn.prototype.open=wn.prototype.m,wn.prototype.close=wn.prototype.close,Uw=function(){return new oo},Lw=function(){return Ki()},Vw=Dr,fg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Xi.NO_ERROR=0,Xi.TIMEOUT=8,Xi.HTTP_ERROR=6,Af=Xi,di.COMPLETE="complete",Mw=di,Al.EventType=hi,hi.OPEN="a",hi.CLOSE="b",hi.ERROR="c",hi.MESSAGE="d",ct.prototype.listen=ct.prototype.K,Vu=Al,Xe.prototype.listenOnce=Xe.prototype.L,Xe.prototype.getLastError=Xe.prototype.Ka,Xe.prototype.getLastErrorCode=Xe.prototype.Ba,Xe.prototype.getStatus=Xe.prototype.Z,Xe.prototype.getResponseJson=Xe.prototype.Oa,Xe.prototype.getResponseText=Xe.prototype.oa,Xe.prototype.send=Xe.prototype.ea,Xe.prototype.setWithCredentials=Xe.prototype.Ha,kw=Xe}).apply(typeof sf<"u"?sf:typeof self<"u"?self:typeof window<"u"?window:{});const zb="@firebase/firestore",qb="4.7.12";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}yn.UNAUTHENTICATED=new yn(null),yn.GOOGLE_CREDENTIALS=new yn("google-credentials-uid"),yn.FIRST_PARTY=new yn("first-party-uid"),yn.MOCK_USER=new yn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ml="11.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ka=new Zg("@firebase/firestore");function Uo(){return ka.logLevel}function de(n,...e){if(ka.logLevel<=je.DEBUG){const t=e.map(fv);ka.debug(`Firestore (${ml}): ${n}`,...t)}}function Gi(n,...e){if(ka.logLevel<=je.ERROR){const t=e.map(fv);ka.error(`Firestore (${ml}): ${n}`,...t)}}function tl(n,...e){if(ka.logLevel<=je.WARN){const t=e.map(fv);ka.warn(`Firestore (${ml}): ${n}`,...t)}}function fv(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(n,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,jw(n,i,t)}function jw(n,e,t){let i=`FIRESTORE (${ml}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw Gi(i),new Error(i)}function Je(n,e,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,n||jw(e,a,i)}function xe(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pe extends ci{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class bk{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(yn.UNAUTHENTICATED))}shutdown(){}}class Tk{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Ak{constructor(e){this.t=e,this.currentUser=yn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Je(this.o===void 0,42304);let i=this.i;const a=p=>this.i!==i?(i=this.i,t(p)):Promise.resolve();let l=new ji;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new ji,e.enqueueRetryable(()=>a(this.currentUser))};const c=()=>{const p=l;e.enqueueRetryable(async()=>{await p.promise,await a(this.currentUser)})},d=p=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(p=>d(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new ji)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Je(typeof i.accessToken=="string",31837,{l:i}),new Bw(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Je(e===null||typeof e=="string",2055,{h:e}),new yn(e)}}class wk{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=yn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Sk{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new wk(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(yn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Fb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Rk{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,hr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Je(this.o===void 0,3512);const i=l=>{l.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,de("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>i(l))};const a=l=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Fb(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Je(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Fb(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ck(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zw(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=Ck(40);for(let l=0;l<a.length;++l)i.length<20&&a[l]<t&&(i+=e.charAt(a[l]%62))}return i}}function ke(n,e){return n<e?-1:n>e?1:0}function dg(n,e){let t=0;for(;t<n.length&&t<e.length;){const i=n.codePointAt(t),a=e.codePointAt(t);if(i!==a){if(i<128&&a<128)return ke(i,a);{const l=zw(),c=Ik(l.encode(Hb(n,t)),l.encode(Hb(e,t)));return c!==0?c:ke(i,a)}}t+=i>65535?2:1}return ke(n.length,e.length)}function Hb(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function Ik(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return ke(n[t],e[t]);return ke(n.length,e.length)}function nl(n,e,t){return n.length===e.length&&n.every((i,a)=>t(i,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gb=-62135596800,$b=1e6;class Bt{static now(){return Bt.fromMillis(Date.now())}static fromDate(e){return Bt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*$b);return new Bt(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new pe(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new pe(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Gb)throw new pe(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pe(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/$b}_compareTo(e){return this.seconds===e.seconds?ke(this.nanoseconds,e.nanoseconds):ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Gb;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{static fromTimestamp(e){return new Ie(e)}static min(){return new Ie(new Bt(0,0))}static max(){return new Ie(new Bt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kb="__name__";class Yr{constructor(e,t,i){t===void 0?t=0:t>e.length&&Se(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&Se(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return Yr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Yr?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let a=0;a<i;a++){const l=Yr.compareSegments(e.get(a),t.get(a));if(l!==0)return l}return ke(e.length,t.length)}static compareSegments(e,t){const i=Yr.isNumericId(e),a=Yr.isNumericId(t);return i&&!a?-1:!i&&a?1:i&&a?Yr.extractNumericId(e).compare(Yr.extractNumericId(t)):dg(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ns.fromString(e.substring(4,e.length-2))}}class ht extends Yr{construct(e,t,i){return new ht(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new pe(se.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(a=>a.length>0))}return new ht(t)}static emptyPath(){return new ht([])}}const xk=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class on extends Yr{construct(e,t,i){return new on(e,t,i)}static isValidIdentifier(e){return xk.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),on.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Kb}static keyField(){return new on([Kb])}static fromServerFormat(e){const t=[];let i="",a=0;const l=()=>{if(i.length===0)throw new pe(se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new pe(se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[a+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new pe(se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,a+=2}else d==="`"?(c=!c,a++):d!=="."||c?(i+=d,a++):(l(),a++)}if(l(),c)throw new pe(se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new on(t)}static emptyPath(){return new on([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e){this.path=e}static fromPath(e){return new Ee(ht.fromString(e))}static fromName(e){return new Ee(ht.fromString(e).popFirst(5))}static empty(){return new Ee(ht.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ht.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ht.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ee(new ht(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rc=-1;function Ok(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,a=Ie.fromTimestamp(i===1e9?new Bt(t+1,0):new Bt(t,i));return new Ms(a,Ee.empty(),e)}function Nk(n){return new Ms(n.readTime,n.key,rc)}class Ms{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Ms(Ie.min(),Ee.empty(),rc)}static max(){return new Ms(Ie.max(),Ee.empty(),rc)}}function Dk(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ee.comparator(n.documentKey,e.documentKey),t!==0?t:ke(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class kk{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gl(n){if(n.code!==se.FAILED_PRECONDITION||n.message!==Pk)throw n;de("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ae((i,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ae?t:ae.resolve(t)}catch(t){return ae.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ae.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ae.reject(t)}static resolve(e){return new ae((t,i)=>{t(e)})}static reject(e){return new ae((t,i)=>{i(e)})}static waitFor(e){return new ae((t,i)=>{let a=0,l=0,c=!1;e.forEach(d=>{++a,d.next(()=>{++l,c&&l===a&&t()},p=>i(p))}),c=!0,l===a&&t()})}static or(e){let t=ae.resolve(!1);for(const i of e)t=t.next(a=>a?ae.resolve(a):i());return t}static forEach(e,t){const i=[];return e.forEach((a,l)=>{i.push(t.call(this,a,l))}),this.waitFor(i)}static mapArray(e,t){return new ae((i,a)=>{const l=e.length,c=new Array(l);let d=0;for(let p=0;p<l;p++){const g=p;t(e[g]).next(v=>{c[g]=v,++d,d===l&&i(c)},v=>a(v))}})}static doWhile(e,t){return new ae((i,a)=>{const l=()=>{e()===!0?t().next(()=>{l()},a):i()};l()})}}function Mk(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function vl(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>t.writeSequenceNumber(i))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}fd.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dv=-1;function dd(n){return n==null}function qf(n){return n===0&&1/n==-1/0}function Vk(n){return typeof n=="number"&&Number.isInteger(n)&&!qf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fw="";function Lk(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Yb(e)),e=Uk(n.get(t),e);return Yb(e)}function Uk(n,e){let t=e;const i=n.length;for(let a=0;a<i;a++){const l=n.charAt(a);switch(l){case"\0":t+="";break;case Fw:t+="";break;default:t+=l}}return t}function Yb(n){return n+Fw+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qb(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function za(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Hw(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e,t){this.comparator=e,this.root=t||sn.EMPTY}insert(e,t){return new vt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,sn.BLACK,null,null))}remove(e){return new vt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,sn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return t+i.left.size;a<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new af(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new af(this.root,e,this.comparator,!1)}getReverseIterator(){return new af(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new af(this.root,e,this.comparator,!0)}}class af{constructor(e,t,i,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class sn{constructor(e,t,i,a,l){this.key=e,this.value=t,this.color=i??sn.RED,this.left=a??sn.EMPTY,this.right=l??sn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,a,l){return new sn(e??this.key,t??this.value,i??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let a=this;const l=i(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,i),null):l===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return sn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return sn.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,sn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,sn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Se(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Se(27949);return e+(this.isRed()?0:1)}}sn.EMPTY=null,sn.RED=!0,sn.BLACK=!1;sn.EMPTY=new class{constructor(){this.size=0}get key(){throw Se(57766)}get value(){throw Se(16141)}get color(){throw Se(16727)}get left(){throw Se(29726)}get right(){throw Se(36894)}copy(e,t,i,a,l){return this}insert(e,t,i){return new sn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.comparator=e,this.data=new vt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Xb(this.data.getIterator())}getIteratorFrom(e){return new Xb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof zt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=i.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new zt(this.comparator);return t.data=e,t}}class Xb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(e){this.fields=e,e.sort(on.comparator)}static empty(){return new Rr([])}unionWith(e){let t=new zt(on.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Rr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return nl(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new Gw("Invalid base64 string: "+l):l}}(e);return new ln(t)}static fromUint8Array(e){const t=function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l}(e);return new ln(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let a=0;a<t.length;a++)i[a]=t.charCodeAt(a);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ln.EMPTY_BYTE_STRING=new ln("");const jk=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Vs(n){if(Je(!!n,39018),typeof n=="string"){let e=0;const t=jk.exec(n);if(Je(!!t,46558,{timestamp:n}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:St(n.seconds),nanos:St(n.nanos)}}function St(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ls(n){return typeof n=="string"?ln.fromBase64String(n):ln.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $w="server_timestamp",Kw="__type__",Yw="__previous_value__",Qw="__local_write_time__";function pv(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[Kw])===null||t===void 0?void 0:t.stringValue)===$w}function pd(n){const e=n.mapValue.fields[Yw];return pv(e)?pd(e):e}function ic(n){const e=Vs(n.mapValue.fields[Qw].timestampValue);return new Bt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{constructor(e,t,i,a,l,c,d,p,g,v){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=v}}const Ff="(default)";class sc{constructor(e,t){this.projectId=e,this.database=t||Ff}static empty(){return new sc("","")}get isDefaultDatabase(){return this.database===Ff}isEqual(e){return e instanceof sc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xw="__type__",zk="__max__",of={mapValue:{}},Ww="__vector__",Hf="value";function Us(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?pv(n)?4:Fk(n)?9007199254740991:qk(n)?10:11:Se(28295,{value:n})}function li(n,e){if(n===e)return!0;const t=Us(n);if(t!==Us(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return ic(n).isEqual(ic(e));case 3:return function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=Vs(a.timestampValue),d=Vs(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(a,l){return Ls(a.bytesValue).isEqual(Ls(l.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(a,l){return St(a.geoPointValue.latitude)===St(l.geoPointValue.latitude)&&St(a.geoPointValue.longitude)===St(l.geoPointValue.longitude)}(n,e);case 2:return function(a,l){if("integerValue"in a&&"integerValue"in l)return St(a.integerValue)===St(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=St(a.doubleValue),d=St(l.doubleValue);return c===d?qf(c)===qf(d):isNaN(c)&&isNaN(d)}return!1}(n,e);case 9:return nl(n.arrayValue.values||[],e.arrayValue.values||[],li);case 10:case 11:return function(a,l){const c=a.mapValue.fields||{},d=l.mapValue.fields||{};if(Qb(c)!==Qb(d))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(d[p]===void 0||!li(c[p],d[p])))return!1;return!0}(n,e);default:return Se(52216,{left:n})}}function ac(n,e){return(n.values||[]).find(t=>li(t,e))!==void 0}function rl(n,e){if(n===e)return 0;const t=Us(n),i=Us(e);if(t!==i)return ke(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return ke(n.booleanValue,e.booleanValue);case 2:return function(l,c){const d=St(l.integerValue||l.doubleValue),p=St(c.integerValue||c.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1}(n,e);case 3:return Wb(n.timestampValue,e.timestampValue);case 4:return Wb(ic(n),ic(e));case 5:return dg(n.stringValue,e.stringValue);case 6:return function(l,c){const d=Ls(l),p=Ls(c);return d.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(l,c){const d=l.split("/"),p=c.split("/");for(let g=0;g<d.length&&g<p.length;g++){const v=ke(d[g],p[g]);if(v!==0)return v}return ke(d.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(l,c){const d=ke(St(l.latitude),St(c.latitude));return d!==0?d:ke(St(l.longitude),St(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return Jb(n.arrayValue,e.arrayValue);case 10:return function(l,c){var d,p,g,v;const b=l.fields||{},w=c.fields||{},O=(d=b[Hf])===null||d===void 0?void 0:d.arrayValue,C=(p=w[Hf])===null||p===void 0?void 0:p.arrayValue,M=ke(((g=O==null?void 0:O.values)===null||g===void 0?void 0:g.length)||0,((v=C==null?void 0:C.values)===null||v===void 0?void 0:v.length)||0);return M!==0?M:Jb(O,C)}(n.mapValue,e.mapValue);case 11:return function(l,c){if(l===of.mapValue&&c===of.mapValue)return 0;if(l===of.mapValue)return 1;if(c===of.mapValue)return-1;const d=l.fields||{},p=Object.keys(d),g=c.fields||{},v=Object.keys(g);p.sort(),v.sort();for(let b=0;b<p.length&&b<v.length;++b){const w=dg(p[b],v[b]);if(w!==0)return w;const O=rl(d[p[b]],g[v[b]]);if(O!==0)return O}return ke(p.length,v.length)}(n.mapValue,e.mapValue);default:throw Se(23264,{Pe:t})}}function Wb(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return ke(n,e);const t=Vs(n),i=Vs(e),a=ke(t.seconds,i.seconds);return a!==0?a:ke(t.nanos,i.nanos)}function Jb(n,e){const t=n.values||[],i=e.values||[];for(let a=0;a<t.length&&a<i.length;++a){const l=rl(t[a],i[a]);if(l)return l}return ke(t.length,i.length)}function il(n){return pg(n)}function pg(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=Vs(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Ls(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Ee.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",a=!0;for(const l of t.values||[])a?a=!1:i+=",",i+=pg(l);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let a="{",l=!0;for(const c of i)l?l=!1:a+=",",a+=`${c}:${pg(t.fields[c])}`;return a+"}"}(n.mapValue):Se(61005,{value:n})}function wf(n){switch(Us(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=pd(n);return e?16+wf(e):16;case 5:return 2*n.stringValue.length;case 6:return Ls(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((a,l)=>a+wf(l),0)}(n.arrayValue);case 10:case 11:return function(i){let a=0;return za(i.fields,(l,c)=>{a+=l.length+wf(c)}),a}(n.mapValue);default:throw Se(13486,{value:n})}}function Zb(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function mg(n){return!!n&&"integerValue"in n}function mv(n){return!!n&&"arrayValue"in n}function eT(n){return!!n&&"nullValue"in n}function tT(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Sf(n){return!!n&&"mapValue"in n}function qk(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[Xw])===null||t===void 0?void 0:t.stringValue)===Ww}function Fu(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return za(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Fu(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Fu(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Fk(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===zk}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(e){this.value=e}static empty(){return new fr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Sf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Fu(t)}setAll(e){let t=on.emptyPath(),i={},a=[];e.forEach((c,d)=>{if(!t.isImmediateParentOf(d)){const p=this.getFieldsMap(t);this.applyChanges(p,i,a),i={},a=[],t=d.popLast()}c?i[d.lastSegment()]=Fu(c):a.push(d.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,i,a)}delete(e){const t=this.field(e.popLast());Sf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return li(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=t.mapValue.fields[e.get(i)];Sf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,i){za(t,(a,l)=>e[a]=l);for(const a of i)delete e[a]}clone(){return new fr(Fu(this.value))}}function Jw(n){const e=[];return za(n.fields,(t,i)=>{const a=new on([t]);if(Sf(i)){const l=Jw(i.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)}),new Rr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e,t,i,a,l,c,d){this.key=e,this.documentType=t,this.version=i,this.readTime=a,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(e){return new _n(e,0,Ie.min(),Ie.min(),Ie.min(),fr.empty(),0)}static newFoundDocument(e,t,i,a){return new _n(e,1,t,Ie.min(),i,a,0)}static newNoDocument(e,t){return new _n(e,2,t,Ie.min(),Ie.min(),fr.empty(),0)}static newUnknownDocument(e,t){return new _n(e,3,t,Ie.min(),Ie.min(),fr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=fr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=fr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof _n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new _n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf{constructor(e,t){this.position=e,this.inclusive=t}}function nT(n,e,t){let i=0;for(let a=0;a<n.position.length;a++){const l=e[a],c=n.position[a];if(l.field.isKeyField()?i=Ee.comparator(Ee.fromName(c.referenceValue),t.key):i=rl(c,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function rT(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!li(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(e,t="asc"){this.field=e,this.dir=t}}function Hk(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw{}class Pt extends Zw{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new $k(e,t,i):t==="array-contains"?new Qk(e,i):t==="in"?new Xk(e,i):t==="not-in"?new Wk(e,i):t==="array-contains-any"?new Jk(e,i):new Pt(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new Kk(e,i):new Yk(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(rl(t,this.value)):t!==null&&Us(this.value)===Us(t)&&this.matchesComparison(rl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class xr extends Zw{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new xr(e,t)}matches(e){return eS(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function eS(n){return n.op==="and"}function tS(n){return Gk(n)&&eS(n)}function Gk(n){for(const e of n.filters)if(e instanceof xr)return!1;return!0}function gg(n){if(n instanceof Pt)return n.field.canonicalString()+n.op.toString()+il(n.value);if(tS(n))return n.filters.map(e=>gg(e)).join(",");{const e=n.filters.map(t=>gg(t)).join(",");return`${n.op}(${e})`}}function nS(n,e){return n instanceof Pt?function(i,a){return a instanceof Pt&&i.op===a.op&&i.field.isEqual(a.field)&&li(i.value,a.value)}(n,e):n instanceof xr?function(i,a){return a instanceof xr&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce((l,c,d)=>l&&nS(c,a.filters[d]),!0):!1}(n,e):void Se(19439)}function rS(n){return n instanceof Pt?function(t){return`${t.field.canonicalString()} ${t.op} ${il(t.value)}`}(n):n instanceof xr?function(t){return t.op.toString()+" {"+t.getFilters().map(rS).join(" ,")+"}"}(n):"Filter"}class $k extends Pt{constructor(e,t,i){super(e,t,i),this.key=Ee.fromName(i.referenceValue)}matches(e){const t=Ee.comparator(e.key,this.key);return this.matchesComparison(t)}}class Kk extends Pt{constructor(e,t){super(e,"in",t),this.keys=iS("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Yk extends Pt{constructor(e,t){super(e,"not-in",t),this.keys=iS("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function iS(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>Ee.fromName(i.referenceValue))}class Qk extends Pt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return mv(t)&&ac(t.arrayValue,this.value)}}class Xk extends Pt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&ac(this.value.arrayValue,t)}}class Wk extends Pt{constructor(e,t){super(e,"not-in",t)}matches(e){if(ac(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!ac(this.value.arrayValue,t)}}class Jk extends Pt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!mv(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>ac(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zk{constructor(e,t=null,i=[],a=[],l=null,c=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=a,this.limit=l,this.startAt=c,this.endAt=d,this.Ie=null}}function iT(n,e=null,t=[],i=[],a=null,l=null,c=null){return new Zk(n,e,t,i,a,l,c)}function gv(n){const e=xe(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>gg(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(l){return l.field.canonicalString()+l.dir}(i)).join(","),dd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>il(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>il(i)).join(",")),e.Ie=t}return e.Ie}function vv(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Hk(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!nS(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!rT(n.startAt,e.startAt)&&rT(n.endAt,e.endAt)}function vg(n){return Ee.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(e,t=null,i=[],a=[],l=null,c="F",d=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=a,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=p,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function eM(n,e,t,i,a,l,c,d){return new yl(n,e,t,i,a,l,c,d)}function yv(n){return new yl(n)}function sT(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function sS(n){return n.collectionGroup!==null}function Hu(n){const e=xe(n);if(e.Ee===null){e.Ee=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ee.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new zt(on.comparator);return c.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(d=d.add(g.field))})}),d})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ee.push(new oc(l,i))}),t.has(on.keyField().canonicalString())||e.Ee.push(new oc(on.keyField(),i))}return e.Ee}function ri(n){const e=xe(n);return e.de||(e.de=tM(e,Hu(n))),e.de}function tM(n,e){if(n.limitType==="F")return iT(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(a=>{const l=a.dir==="desc"?"asc":"desc";return new oc(a.field,l)});const t=n.endAt?new Gf(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Gf(n.startAt.position,n.startAt.inclusive):null;return iT(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function yg(n,e){const t=n.filters.concat([e]);return new yl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function _g(n,e,t){return new yl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function md(n,e){return vv(ri(n),ri(e))&&n.limitType===e.limitType}function aS(n){return`${gv(ri(n))}|lt:${n.limitType}`}function jo(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(a=>rS(a)).join(", ")}]`),dd(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(a=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(a)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(a=>il(a)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(a=>il(a)).join(",")),`Target(${i})`}(ri(n))}; limitType=${n.limitType})`}function gd(n,e){return e.isFoundDocument()&&function(i,a){const l=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):Ee.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)}(n,e)&&function(i,a){for(const l of Hu(i))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0}(n,e)&&function(i,a){for(const l of i.filters)if(!l.matches(a))return!1;return!0}(n,e)&&function(i,a){return!(i.startAt&&!function(c,d,p){const g=nT(c,d,p);return c.inclusive?g<=0:g<0}(i.startAt,Hu(i),a)||i.endAt&&!function(c,d,p){const g=nT(c,d,p);return c.inclusive?g>=0:g>0}(i.endAt,Hu(i),a))}(n,e)}function nM(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function oS(n){return(e,t)=>{let i=!1;for(const a of Hu(n)){const l=rM(a,e,t);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function rM(n,e,t){const i=n.field.isKeyField()?Ee.comparator(e.key,t.key):function(l,c,d){const p=c.data.field(l),g=d.data.field(l);return p!==null&&g!==null?rl(p,g):Se(42886)}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Se(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[a,l]of i)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return i.length===1?delete this.inner[t]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){za(this.inner,(t,i)=>{for(const[a,l]of i)e(a,l)})}isEmpty(){return Hw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iM=new vt(Ee.comparator);function $i(){return iM}const lS=new vt(Ee.comparator);function Lu(...n){let e=lS;for(const t of n)e=e.insert(t.key,t);return e}function uS(n){let e=lS;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Sa(){return Gu()}function cS(){return Gu()}function Gu(){return new qa(n=>n.toString(),(n,e)=>n.isEqual(e))}const sM=new vt(Ee.comparator),aM=new zt(Ee.comparator);function Be(...n){let e=aM;for(const t of n)e=e.add(t);return e}const oM=new zt(ke);function lM(){return oM}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _v(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qf(e)?"-0":e}}function hS(n){return{integerValue:""+n}}function uM(n,e){return Vk(e)?hS(e):_v(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(){this._=void 0}}function cM(n,e,t){return n instanceof lc?function(a,l){const c={fields:{[Kw]:{stringValue:$w},[Qw]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&pv(l)&&(l=pd(l)),l&&(c.fields[Yw]=l),{mapValue:c}}(t,e):n instanceof uc?dS(n,e):n instanceof cc?pS(n,e):function(a,l){const c=fS(a,l),d=aT(c)+aT(a.Re);return mg(c)&&mg(a.Re)?hS(d):_v(a.serializer,d)}(n,e)}function hM(n,e,t){return n instanceof uc?dS(n,e):n instanceof cc?pS(n,e):t}function fS(n,e){return n instanceof $f?function(i){return mg(i)||function(l){return!!l&&"doubleValue"in l}(i)}(e)?e:{integerValue:0}:null}class lc extends vd{}class uc extends vd{constructor(e){super(),this.elements=e}}function dS(n,e){const t=mS(e);for(const i of n.elements)t.some(a=>li(a,i))||t.push(i);return{arrayValue:{values:t}}}class cc extends vd{constructor(e){super(),this.elements=e}}function pS(n,e){let t=mS(e);for(const i of n.elements)t=t.filter(a=>!li(a,i));return{arrayValue:{values:t}}}class $f extends vd{constructor(e,t){super(),this.serializer=e,this.Re=t}}function aT(n){return St(n.integerValue||n.doubleValue)}function mS(n){return mv(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fM{constructor(e,t){this.field=e,this.transform=t}}function dM(n,e){return n.field.isEqual(e.field)&&function(i,a){return i instanceof uc&&a instanceof uc||i instanceof cc&&a instanceof cc?nl(i.elements,a.elements,li):i instanceof $f&&a instanceof $f?li(i.Re,a.Re):i instanceof lc&&a instanceof lc}(n.transform,e.transform)}class pM{constructor(e,t){this.version=e,this.transformResults=t}}class ii{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ii}static exists(e){return new ii(void 0,e)}static updateTime(e){return new ii(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Rf(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class yd{}function gS(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new yS(n.key,ii.none()):new wc(n.key,n.data,ii.none());{const t=n.data,i=fr.empty();let a=new zt(on.comparator);for(let l of e.fields)if(!a.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?i.delete(l):i.set(l,c),a=a.add(l)}return new Fa(n.key,i,new Rr(a.toArray()),ii.none())}}function mM(n,e,t){n instanceof wc?function(a,l,c){const d=a.value.clone(),p=lT(a.fieldTransforms,l,c.transformResults);d.setAll(p),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(n,e,t):n instanceof Fa?function(a,l,c){if(!Rf(a.precondition,l))return void l.convertToUnknownDocument(c.version);const d=lT(a.fieldTransforms,l,c.transformResults),p=l.data;p.setAll(vS(a)),p.setAll(d),l.convertToFoundDocument(c.version,p).setHasCommittedMutations()}(n,e,t):function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,t)}function $u(n,e,t,i){return n instanceof wc?function(l,c,d,p){if(!Rf(l.precondition,c))return d;const g=l.value.clone(),v=uT(l.fieldTransforms,p,c);return g.setAll(v),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null}(n,e,t,i):n instanceof Fa?function(l,c,d,p){if(!Rf(l.precondition,c))return d;const g=uT(l.fieldTransforms,p,c),v=c.data;return v.setAll(vS(l)),v.setAll(g),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(b=>b.field))}(n,e,t,i):function(l,c,d){return Rf(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d}(n,e,t)}function gM(n,e){let t=null;for(const i of n.fieldTransforms){const a=e.data.field(i.field),l=fS(i.transform,a||null);l!=null&&(t===null&&(t=fr.empty()),t.set(i.field,l))}return t||null}function oT(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&nl(i,a,(l,c)=>dM(l,c))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class wc extends yd{constructor(e,t,i,a=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Fa extends yd{constructor(e,t,i,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function vS(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function lT(n,e,t){const i=new Map;Je(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let a=0;a<t.length;a++){const l=n[a],c=l.transform,d=e.data.field(l.field);i.set(l.field,hM(c,d,t[a]))}return i}function uT(n,e,t){const i=new Map;for(const a of n){const l=a.transform,c=t.data.field(a.field);i.set(a.field,cM(l,c,e))}return i}class yS extends yd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class vM extends yd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yM{constructor(e,t,i,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&mM(l,e,i[a])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=$u(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=$u(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=cS();return this.mutations.forEach(a=>{const l=e.get(a.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=t.has(a.key)?null:d;const p=gS(c,d);p!==null&&i.set(a.key,p),c.isValidDocument()||c.convertToNoDocument(Ie.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Be())}isEqual(e){return this.batchId===e.batchId&&nl(this.mutations,e.mutations,(t,i)=>oT(t,i))&&nl(this.baseMutations,e.baseMutations,(t,i)=>oT(t,i))}}class Ev{constructor(e,t,i,a){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=a}static from(e,t,i){Je(e.mutations.length===i.length,58842,{fe:e.mutations.length,ge:i.length});let a=function(){return sM}();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,i[c].version);return new Ev(e,t,i,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _M{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EM{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nt,He;function bM(n){switch(n){case se.OK:return Se(64938);case se.CANCELLED:case se.UNKNOWN:case se.DEADLINE_EXCEEDED:case se.RESOURCE_EXHAUSTED:case se.INTERNAL:case se.UNAVAILABLE:case se.UNAUTHENTICATED:return!1;case se.INVALID_ARGUMENT:case se.NOT_FOUND:case se.ALREADY_EXISTS:case se.PERMISSION_DENIED:case se.FAILED_PRECONDITION:case se.ABORTED:case se.OUT_OF_RANGE:case se.UNIMPLEMENTED:case se.DATA_LOSS:return!0;default:return Se(15467,{code:n})}}function _S(n){if(n===void 0)return Gi("GRPC error has no .code"),se.UNKNOWN;switch(n){case Nt.OK:return se.OK;case Nt.CANCELLED:return se.CANCELLED;case Nt.UNKNOWN:return se.UNKNOWN;case Nt.DEADLINE_EXCEEDED:return se.DEADLINE_EXCEEDED;case Nt.RESOURCE_EXHAUSTED:return se.RESOURCE_EXHAUSTED;case Nt.INTERNAL:return se.INTERNAL;case Nt.UNAVAILABLE:return se.UNAVAILABLE;case Nt.UNAUTHENTICATED:return se.UNAUTHENTICATED;case Nt.INVALID_ARGUMENT:return se.INVALID_ARGUMENT;case Nt.NOT_FOUND:return se.NOT_FOUND;case Nt.ALREADY_EXISTS:return se.ALREADY_EXISTS;case Nt.PERMISSION_DENIED:return se.PERMISSION_DENIED;case Nt.FAILED_PRECONDITION:return se.FAILED_PRECONDITION;case Nt.ABORTED:return se.ABORTED;case Nt.OUT_OF_RANGE:return se.OUT_OF_RANGE;case Nt.UNIMPLEMENTED:return se.UNIMPLEMENTED;case Nt.DATA_LOSS:return se.DATA_LOSS;default:return Se(39323,{code:n})}}(He=Nt||(Nt={}))[He.OK=0]="OK",He[He.CANCELLED=1]="CANCELLED",He[He.UNKNOWN=2]="UNKNOWN",He[He.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",He[He.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",He[He.NOT_FOUND=5]="NOT_FOUND",He[He.ALREADY_EXISTS=6]="ALREADY_EXISTS",He[He.PERMISSION_DENIED=7]="PERMISSION_DENIED",He[He.UNAUTHENTICATED=16]="UNAUTHENTICATED",He[He.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",He[He.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",He[He.ABORTED=10]="ABORTED",He[He.OUT_OF_RANGE=11]="OUT_OF_RANGE",He[He.UNIMPLEMENTED=12]="UNIMPLEMENTED",He[He.INTERNAL=13]="INTERNAL",He[He.UNAVAILABLE=14]="UNAVAILABLE",He[He.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TM=new Ns([4294967295,4294967295],0);function cT(n){const e=zw().encode(n),t=new Pw;return t.update(e),new Uint8Array(t.digest())}function hT(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Ns([t,i],0),new Ns([a,l],0)]}class bv{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Uu(`Invalid padding: ${t}`);if(i<0)throw new Uu(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Uu(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Uu(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=Ns.fromNumber(this.pe)}we(e,t,i){let a=e.add(t.multiply(Ns.fromNumber(i)));return a.compare(TM)===1&&(a=new Ns([a.getBits(0),a.getBits(1)],0)),a.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=cT(e),[i,a]=hT(t);for(let l=0;l<this.hashCount;l++){const c=this.we(i,a,l);if(!this.be(c))return!1}return!0}static create(e,t,i){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new bv(l,a,t);return i.forEach(d=>c.insert(d)),c}insert(e){if(this.pe===0)return;const t=cT(e),[i,a]=hT(t);for(let l=0;l<this.hashCount;l++){const c=this.we(i,a,l);this.Se(c)}}Se(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class Uu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d{constructor(e,t,i,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const a=new Map;return a.set(e,Sc.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new _d(Ie.min(),a,new vt(ke),$i(),Be())}}class Sc{constructor(e,t,i,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Sc(i,t,Be(),Be(),Be())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf{constructor(e,t,i,a){this.De=e,this.removedTargetIds=t,this.key=i,this.ve=a}}class ES{constructor(e,t){this.targetId=e,this.Ce=t}}class bS{constructor(e,t,i=ln.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=a}}class fT{constructor(){this.Fe=0,this.Me=dT(),this.xe=ln.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Be(),t=Be(),i=Be();return this.Me.forEach((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:i=i.add(a);break;default:Se(38017,{changeType:l})}}),new Sc(this.xe,this.Oe,e,t,i)}Qe(){this.Ne=!1,this.Me=dT()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Je(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class AM{constructor(e){this.ze=e,this.je=new Map,this.He=$i(),this.Je=lf(),this.Ye=lf(),this.Ze=new vt(ke)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const i=this.rt(t);switch(e.state){case 0:this.it(t)&&i.ke(e.resumeToken);break;case 1:i.We(),i.Be||i.Qe(),i.ke(e.resumeToken);break;case 2:i.We(),i.Be||this.removeTarget(t);break;case 3:this.it(t)&&(i.Ge(),i.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),i.ke(e.resumeToken));break;default:Se(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((i,a)=>{this.it(a)&&t(a)})}ot(e){const t=e.targetId,i=e.Ce.count,a=this._t(t);if(a){const l=a.target;if(vg(l))if(i===0){const c=new Ee(l.path);this.tt(t,c,_n.newNoDocument(c,Ie.min()))}else Je(i===1,20013,{expectedCount:i});else{const c=this.ut(t);if(c!==i){const d=this.ct(e),p=d?this.lt(d,e,c):1;if(p!==0){this.st(t);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,g)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:l=0}=t;let c,d;try{c=Ls(i).toUint8Array()}catch(p){if(p instanceof Gw)return tl("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new bv(c,a,l)}catch(p){return tl(p instanceof Uu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.pe===0?null:d}lt(e,t,i){return t.Ce.count===i-this.Tt(e,t.targetId)?0:2}Tt(e,t){const i=this.ze.getRemoteKeysForTarget(t);let a=0;return i.forEach(l=>{const c=this.ze.Pt(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.tt(t,l,null),a++)}),a}It(e){const t=new Map;this.je.forEach((l,c)=>{const d=this._t(c);if(d){if(l.current&&vg(d.target)){const p=new Ee(d.target.path);this.Et(p).has(c)||this.dt(c,p)||this.tt(c,p,_n.newNoDocument(p,e))}l.Le&&(t.set(c,l.qe()),l.Qe())}});let i=Be();this.Ye.forEach((l,c)=>{let d=!0;c.forEachWhile(p=>{const g=this._t(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(i=i.add(l))}),this.He.forEach((l,c)=>c.setReadTime(e));const a=new _d(e,t,this.Ze,this.He,i);return this.He=$i(),this.Je=lf(),this.Ye=lf(),this.Ze=new vt(ke),a}et(e,t){if(!this.it(e))return;const i=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,i),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,i){if(!this.it(e))return;const a=this.rt(e);this.dt(e,t)?a.$e(t,1):a.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),i&&(this.He=this.He.insert(t,i))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new fT,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new zt(ke),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new zt(ke),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||de("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new fT),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function lf(){return new vt(Ee.comparator)}function dT(){return new vt(Ee.comparator)}const wM={asc:"ASCENDING",desc:"DESCENDING"},SM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},RM={and:"AND",or:"OR"};class CM{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Eg(n,e){return n.useProto3Json||dd(e)?e:{value:e}}function Kf(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function TS(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function IM(n,e){return Kf(n,e.toTimestamp())}function si(n){return Je(!!n,49232),Ie.fromTimestamp(function(t){const i=Vs(t);return new Bt(i.seconds,i.nanos)}(n))}function Tv(n,e){return bg(n,e).canonicalString()}function bg(n,e){const t=function(a){return new ht(["projects",a.projectId,"databases",a.database])}(n).child("documents");return e===void 0?t:t.child(e)}function AS(n){const e=ht.fromString(n);return Je(IS(e),10190,{key:e.toString()}),e}function Tg(n,e){return Tv(n.databaseId,e.path)}function Fm(n,e){const t=AS(e);if(t.get(1)!==n.databaseId.projectId)throw new pe(se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new pe(se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ee(SS(t))}function wS(n,e){return Tv(n.databaseId,e)}function xM(n){const e=AS(n);return e.length===4?ht.emptyPath():SS(e)}function Ag(n){return new ht(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function SS(n){return Je(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function pT(n,e,t){return{name:Tg(n,e),fields:t.value.mapValue.fields}}function OM(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Se(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=function(g,v){return g.useProto3Json?(Je(v===void 0||typeof v=="string",58123),ln.fromBase64String(v||"")):(Je(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),ln.fromUint8Array(v||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&function(g){const v=g.code===void 0?se.UNKNOWN:_S(g.code);return new pe(v,g.message||"")}(c);t=new bS(i,a,l,d||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const a=Fm(n,i.document.name),l=si(i.document.updateTime),c=i.document.createTime?si(i.document.createTime):Ie.min(),d=new fr({mapValue:{fields:i.document.fields}}),p=_n.newFoundDocument(a,l,c,d),g=i.targetIds||[],v=i.removedTargetIds||[];t=new Cf(g,v,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const a=Fm(n,i.document),l=i.readTime?si(i.readTime):Ie.min(),c=_n.newNoDocument(a,l),d=i.removedTargetIds||[];t=new Cf([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const a=Fm(n,i.document),l=i.removedTargetIds||[];t=new Cf([],l,a,null)}else{if(!("filter"in e))return Se(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:a=0,unchangedNames:l}=i,c=new EM(a,l),d=i.targetId;t=new ES(d,c)}}return t}function NM(n,e){let t;if(e instanceof wc)t={update:pT(n,e.key,e.value)};else if(e instanceof yS)t={delete:Tg(n,e.key)};else if(e instanceof Fa)t={update:pT(n,e.key,e.data),updateMask:BM(e.fieldMask)};else{if(!(e instanceof vM))return Se(16599,{ft:e.type});t={verify:Tg(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(l,c){const d=c.transform;if(d instanceof lc)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof uc)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof cc)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof $f)return{fieldPath:c.field.canonicalString(),increment:d.Re};throw Se(20930,{transform:c.transform})}(0,i))),e.precondition.isNone||(t.currentDocument=function(a,l){return l.updateTime!==void 0?{updateTime:IM(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Se(27497)}(n,e.precondition)),t}function DM(n,e){return n&&n.length>0?(Je(e!==void 0,14353),n.map(t=>function(a,l){let c=a.updateTime?si(a.updateTime):si(l);return c.isEqual(Ie.min())&&(c=si(l)),new pM(c,a.transformResults||[])}(t,e))):[]}function PM(n,e){return{documents:[wS(n,e.path)]}}function kM(n,e){const t={structuredQuery:{}},i=e.path;let a;e.collectionGroup!==null?(a=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=wS(n,a);const l=function(g){if(g.length!==0)return CS(xr.create(g,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const c=function(g){if(g.length!==0)return g.map(v=>function(w){return{field:Bo(w.field),direction:LM(w.dir)}}(v))}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const d=Eg(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{gt:t,parent:a}}function MM(n){let e=xM(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let a=null;if(i>0){Je(i===1,65062);const v=t.from[0];v.allDescendants?a=v.collectionId:e=e.child(v.collectionId)}let l=[];t.where&&(l=function(b){const w=RS(b);return w instanceof xr&&tS(w)?w.getFilters():[w]}(t.where));let c=[];t.orderBy&&(c=function(b){return b.map(w=>function(C){return new oc(zo(C.field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(w))}(t.orderBy));let d=null;t.limit&&(d=function(b){let w;return w=typeof b=="object"?b.value:b,dd(w)?null:w}(t.limit));let p=null;t.startAt&&(p=function(b){const w=!!b.before,O=b.values||[];return new Gf(O,w)}(t.startAt));let g=null;return t.endAt&&(g=function(b){const w=!b.before,O=b.values||[];return new Gf(O,w)}(t.endAt)),eM(e,a,c,l,d,"F",p,g)}function VM(n,e){const t=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se(28987,{purpose:a})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function RS(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=zo(t.unaryFilter.field);return Pt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=zo(t.unaryFilter.field);return Pt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=zo(t.unaryFilter.field);return Pt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=zo(t.unaryFilter.field);return Pt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Se(61313);default:return Se(60726)}}(n):n.fieldFilter!==void 0?function(t){return Pt.create(zo(t.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Se(58110);default:return Se(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return xr.create(t.compositeFilter.filters.map(i=>RS(i)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Se(1026)}}(t.compositeFilter.op))}(n):Se(30097,{filter:n})}function LM(n){return wM[n]}function UM(n){return SM[n]}function jM(n){return RM[n]}function Bo(n){return{fieldPath:n.canonicalString()}}function zo(n){return on.fromServerFormat(n.fieldPath)}function CS(n){return n instanceof Pt?function(t){if(t.op==="=="){if(tT(t.value))return{unaryFilter:{field:Bo(t.field),op:"IS_NAN"}};if(eT(t.value))return{unaryFilter:{field:Bo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(tT(t.value))return{unaryFilter:{field:Bo(t.field),op:"IS_NOT_NAN"}};if(eT(t.value))return{unaryFilter:{field:Bo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Bo(t.field),op:UM(t.op),value:t.value}}}(n):n instanceof xr?function(t){const i=t.getFilters().map(a=>CS(a));return i.length===1?i[0]:{compositeFilter:{op:jM(t.op),filters:i}}}(n):Se(54877,{filter:n})}function BM(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function IS(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(e,t,i,a,l=Ie.min(),c=Ie.min(),d=ln.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(e){return new Cs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Cs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Cs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Cs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zM{constructor(e){this.wt=e}}function qM(n){const e=MM({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?_g(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FM{constructor(){this.yn=new HM}addToCollectionParentIndex(e,t){return this.yn.add(t),ae.resolve()}getCollectionParents(e,t){return ae.resolve(this.yn.getEntries(t))}addFieldIndex(e,t){return ae.resolve()}deleteFieldIndex(e,t){return ae.resolve()}deleteAllFieldIndexes(e){return ae.resolve()}createTargetIndexes(e,t){return ae.resolve()}getDocumentsMatchingTarget(e,t){return ae.resolve(null)}getIndexType(e,t){return ae.resolve(0)}getFieldIndexes(e,t){return ae.resolve([])}getNextCollectionGroupToUpdate(e){return ae.resolve(null)}getMinOffset(e,t){return ae.resolve(Ms.min())}getMinOffsetFromCollectionGroup(e,t){return ae.resolve(Ms.min())}updateCollectionGroup(e,t,i){return ae.resolve()}updateIndexEntries(e,t){return ae.resolve()}}class HM{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t]||new zt(ht.comparator),l=!a.has(i);return this.index[t]=a.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t];return a&&a.has(i)}getEntries(e){return(this.index[e]||new zt(ht.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},xS=41943040;class Dn{static withCacheSize(e){return new Dn(e,Dn.DEFAULT_COLLECTION_PERCENTILE,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Dn.DEFAULT_COLLECTION_PERCENTILE=10,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Dn.DEFAULT=new Dn(xS,Dn.DEFAULT_COLLECTION_PERCENTILE,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Dn.DISABLED=new Dn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new sl(0)}static ir(){return new sl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gT="LruGarbageCollector",GM=1048576;function vT([n,e],[t,i]){const a=ke(n,t);return a===0?ke(e,i):a}class $M{constructor(e){this.cr=e,this.buffer=new zt(vT),this.lr=0}hr(){return++this.lr}Pr(e){const t=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();vT(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class KM{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){de(gT,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){vl(t)?de(gT,"Ignoring IndexedDB error during garbage collection: ",t):await gl(t)}await this.Ir(3e5)})}}class YM{constructor(e,t){this.Er=e,this.params=t}calculateTargetCount(e,t){return this.Er.dr(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return ae.resolve(fd.le);const i=new $M(t);return this.Er.forEachTarget(e,a=>i.Pr(a.sequenceNumber)).next(()=>this.Er.Ar(e,a=>i.Pr(a))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.Er.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Er.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(de("LruGarbageCollector","Garbage collection skipped; disabled"),ae.resolve(mT)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),mT):this.Rr(e,t))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,t){let i,a,l,c,d,p,g;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),a=this.params.maximumSequenceNumbersToCollect):a=b,c=Date.now(),this.nthSequenceNumber(e,a))).next(b=>(i=b,d=Date.now(),this.removeTargets(e,i,t))).next(b=>(l=b,p=Date.now(),this.removeOrphanedDocuments(e,i))).next(b=>(g=Date.now(),Uo()<=je.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${a} in `+(d-c)+`ms
	Removed ${l} targets in `+(p-d)+`ms
	Removed ${b} documents in `+(g-p)+`ms
Total Duration: ${g-v}ms`),ae.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:b})))}}function QM(n,e){return new YM(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XM{constructor(){this.changes=new qa(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,_n.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?ae.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WM{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JM{constructor(e,t,i,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(i=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(i!==null&&$u(i.mutation,a,Rr.empty(),Bt.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Be()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Be()){const a=Sa();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,i).next(l=>{let c=Lu();return l.forEach((d,p)=>{c=c.insert(d,p.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const i=Sa();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Be()))}populateOverlays(e,t,i){const a=[];return i.forEach(l=>{t.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(e,a).next(l=>{l.forEach((c,d)=>{t.set(c,d)})})}computeViews(e,t,i,a){let l=$i();const c=Gu(),d=function(){return Gu()}();return t.forEach((p,g)=>{const v=i.get(g.key);a.has(g.key)&&(v===void 0||v.mutation instanceof Fa)?l=l.insert(g.key,g):v!==void 0?(c.set(g.key,v.mutation.getFieldMask()),$u(v.mutation,g,v.mutation.getFieldMask(),Bt.now())):c.set(g.key,Rr.empty())}),this.recalculateAndSaveOverlays(e,l).next(p=>(p.forEach((g,v)=>c.set(g,v)),t.forEach((g,v)=>{var b;return d.set(g,new WM(v,(b=c.get(g))!==null&&b!==void 0?b:null))}),d))}recalculateAndSaveOverlays(e,t){const i=Gu();let a=new vt((c,d)=>c-d),l=Be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const d of c)d.keys().forEach(p=>{const g=t.get(p);if(g===null)return;let v=i.get(p)||Rr.empty();v=d.applyToLocalView(g,v),i.set(p,v);const b=(a.get(d.batchId)||Be()).add(p);a=a.insert(d.batchId,b)})}).next(()=>{const c=[],d=a.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),g=p.key,v=p.value,b=cS();v.forEach(w=>{if(!l.has(w)){const O=gS(t.get(w),i.get(w));O!==null&&b.set(w,O),l=l.add(w)}}),c.push(this.documentOverlayCache.saveOverlays(e,g,b))}return ae.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,a){return function(c){return Ee.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):sS(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,a):this.getDocumentsMatchingCollectionQuery(e,t,i,a)}getNextDocuments(e,t,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,a).next(l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,a-l.size):ae.resolve(Sa());let d=rc,p=l;return c.next(g=>ae.forEach(g,(v,b)=>(d<b.largestBatchId&&(d=b.largestBatchId),l.get(v)?ae.resolve():this.remoteDocumentCache.getEntry(e,v).next(w=>{p=p.insert(v,w)}))).next(()=>this.populateOverlays(e,g,l)).next(()=>this.computeViews(e,p,g,Be())).next(v=>({batchId:d,changes:uS(v)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ee(t)).next(i=>{let a=Lu();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,i,a){const l=t.collectionGroup;let c=Lu();return this.indexManager.getCollectionParents(e,l).next(d=>ae.forEach(d,p=>{const g=function(b,w){return new yl(w,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(t,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,i,a).next(v=>{v.forEach((b,w)=>{c=c.insert(b,w)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,i,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,a))).next(c=>{l.forEach((p,g)=>{const v=g.getKey();c.get(v)===null&&(c=c.insert(v,_n.newInvalidDocument(v)))});let d=Lu();return c.forEach((p,g)=>{const v=l.get(p);v!==void 0&&$u(v.mutation,g,Rr.empty(),Bt.now()),gd(t,g)&&(d=d.insert(p,g))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZM{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,t){return ae.resolve(this.Fr.get(t))}saveBundleMetadata(e,t){return this.Fr.set(t.id,function(a){return{id:a.id,version:a.version,createTime:si(a.createTime)}}(t)),ae.resolve()}getNamedQuery(e,t){return ae.resolve(this.Mr.get(t))}saveNamedQuery(e,t){return this.Mr.set(t.name,function(a){return{name:a.name,query:qM(a.bundledQuery),readTime:si(a.readTime)}}(t)),ae.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eV{constructor(){this.overlays=new vt(Ee.comparator),this.Or=new Map}getOverlay(e,t){return ae.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Sa();return ae.forEach(t,a=>this.getOverlay(e,a).next(l=>{l!==null&&i.set(a,l)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((a,l)=>{this.St(e,t,l)}),ae.resolve()}removeOverlaysForBatchId(e,t,i){const a=this.Or.get(i);return a!==void 0&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.Or.delete(i)),ae.resolve()}getOverlaysForCollection(e,t,i){const a=Sa(),l=t.length+1,c=new Ee(t.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const p=d.getNext().value,g=p.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===l&&p.largestBatchId>i&&a.set(p.getKey(),p)}return ae.resolve(a)}getOverlaysForCollectionGroup(e,t,i,a){let l=new vt((g,v)=>g-v);const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>i){let v=l.get(g.largestBatchId);v===null&&(v=Sa(),l=l.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const d=Sa(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,v)=>d.set(g,v)),!(d.size()>=a)););return ae.resolve(d)}St(e,t,i){const a=this.overlays.get(i.key);if(a!==null){const c=this.Or.get(a.largestBatchId).delete(i.key);this.Or.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new _M(t,i));let l=this.Or.get(t);l===void 0&&(l=Be(),this.Or.set(t,l)),this.Or.set(t,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tV{constructor(){this.sessionToken=ln.EMPTY_BYTE_STRING}getSessionToken(e){return ae.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ae.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Av{constructor(){this.Nr=new zt(Xt.Br),this.Lr=new zt(Xt.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,t){const i=new Xt(e,t);this.Nr=this.Nr.add(i),this.Lr=this.Lr.add(i)}qr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.Qr(new Xt(e,t))}$r(e,t){e.forEach(i=>this.removeReference(i,t))}Ur(e){const t=new Ee(new ht([])),i=new Xt(t,e),a=new Xt(t,e+1),l=[];return this.Lr.forEachInRange([i,a],c=>{this.Qr(c),l.push(c.key)}),l}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const t=new Ee(new ht([])),i=new Xt(t,e),a=new Xt(t,e+1);let l=Be();return this.Lr.forEachInRange([i,a],c=>{l=l.add(c.key)}),l}containsKey(e){const t=new Xt(e,0),i=this.Nr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Xt{constructor(e,t){this.key=e,this.Gr=t}static Br(e,t){return Ee.comparator(e.key,t.key)||ke(e.Gr,t.Gr)}static kr(e,t){return ke(e.Gr,t.Gr)||Ee.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nV{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Jn=1,this.zr=new zt(Xt.Br)}checkEmpty(e){return ae.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,a){const l=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new yM(l,t,i,a);this.mutationQueue.push(c);for(const d of a)this.zr=this.zr.add(new Xt(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return ae.resolve(c)}lookupMutationBatch(e,t){return ae.resolve(this.jr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,a=this.Hr(i),l=a<0?0:a;return ae.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ae.resolve(this.mutationQueue.length===0?dv:this.Jn-1)}getAllMutationBatches(e){return ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Xt(t,0),a=new Xt(t,Number.POSITIVE_INFINITY),l=[];return this.zr.forEachInRange([i,a],c=>{const d=this.jr(c.Gr);l.push(d)}),ae.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new zt(ke);return t.forEach(a=>{const l=new Xt(a,0),c=new Xt(a,Number.POSITIVE_INFINITY);this.zr.forEachInRange([l,c],d=>{i=i.add(d.Gr)})}),ae.resolve(this.Jr(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,a=i.length+1;let l=i;Ee.isDocumentKey(l)||(l=l.child(""));const c=new Xt(new Ee(l),0);let d=new zt(ke);return this.zr.forEachWhile(p=>{const g=p.key.path;return!!i.isPrefixOf(g)&&(g.length===a&&(d=d.add(p.Gr)),!0)},c),ae.resolve(this.Jr(d))}Jr(e){const t=[];return e.forEach(i=>{const a=this.jr(i);a!==null&&t.push(a)}),t}removeMutationBatch(e,t){Je(this.Yr(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.zr;return ae.forEach(t.mutations,a=>{const l=new Xt(a.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.zr=i})}Xn(e){}containsKey(e,t){const i=new Xt(t,0),a=this.zr.firstAfterOrEqual(i);return ae.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,ae.resolve()}Yr(e,t){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const t=this.Hr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rV{constructor(e){this.Zr=e,this.docs=function(){return new vt(Ee.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,a=this.docs.get(i),l=a?a.size:0,c=this.Zr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return ae.resolve(i?i.document.mutableCopy():_n.newInvalidDocument(t))}getEntries(e,t){let i=$i();return t.forEach(a=>{const l=this.docs.get(a);i=i.insert(a,l?l.document.mutableCopy():_n.newInvalidDocument(a))}),ae.resolve(i)}getDocumentsMatchingQuery(e,t,i,a){let l=$i();const c=t.path,d=new Ee(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:g,value:{document:v}}=p.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||Dk(Nk(v),i)<=0||(a.has(v.key)||gd(t,v))&&(l=l.insert(v.key,v.mutableCopy()))}return ae.resolve(l)}getAllFromCollectionGroup(e,t,i,a){Se(9500)}Xr(e,t){return ae.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new iV(this)}getSize(e){return ae.resolve(this.size)}}class iV extends XM{constructor(e){super(),this.vr=e}applyChanges(e){const t=[];return this.changes.forEach((i,a)=>{a.isValidDocument()?t.push(this.vr.addEntry(e,a)):this.vr.removeEntry(i)}),ae.waitFor(t)}getFromCache(e,t){return this.vr.getEntry(e,t)}getAllFromCache(e,t){return this.vr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sV{constructor(e){this.persistence=e,this.ei=new qa(t=>gv(t),vv),this.lastRemoteSnapshotVersion=Ie.min(),this.highestTargetId=0,this.ti=0,this.ni=new Av,this.targetCount=0,this.ri=sl.rr()}forEachTarget(e,t){return this.ei.forEach((i,a)=>t(a)),ae.resolve()}getLastRemoteSnapshotVersion(e){return ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ae.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),ae.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.ti&&(this.ti=t),ae.resolve()}ar(e){this.ei.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ri=new sl(t),this.highestTargetId=t),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,t){return this.ar(t),this.targetCount+=1,ae.resolve()}updateTargetData(e,t){return this.ar(t),ae.resolve()}removeTargetData(e,t){return this.ei.delete(t.target),this.ni.Ur(t.targetId),this.targetCount-=1,ae.resolve()}removeTargets(e,t,i){let a=0;const l=[];return this.ei.forEach((c,d)=>{d.sequenceNumber<=t&&i.get(d.targetId)===null&&(this.ei.delete(c),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)}),ae.waitFor(l).next(()=>a)}getTargetCount(e){return ae.resolve(this.targetCount)}getTargetData(e,t){const i=this.ei.get(t)||null;return ae.resolve(i)}addMatchingKeys(e,t,i){return this.ni.qr(t,i),ae.resolve()}removeMatchingKeys(e,t,i){this.ni.$r(t,i);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach(c=>{l.push(a.markPotentiallyOrphaned(e,c))}),ae.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.ni.Ur(t),ae.resolve()}getMatchingKeysForTargetId(e,t){const i=this.ni.Wr(t);return ae.resolve(i)}containsKey(e,t){return ae.resolve(this.ni.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{constructor(e,t){this.ii={},this.overlays={},this.si=new fd(0),this.oi=!1,this.oi=!0,this._i=new tV,this.referenceDelegate=e(this),this.ai=new sV(this),this.indexManager=new FM,this.remoteDocumentCache=function(a){return new rV(a)}(i=>this.referenceDelegate.ui(i)),this.serializer=new zM(t),this.ci=new ZM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new eV,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ii[e.toKey()];return i||(i=new nV(t,this.referenceDelegate),this.ii[e.toKey()]=i),i}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,t,i){de("MemoryPersistence","Starting transaction:",e);const a=new aV(this.si.next());return this.referenceDelegate.li(),i(a).next(l=>this.referenceDelegate.hi(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}Pi(e,t){return ae.or(Object.values(this.ii).map(i=>()=>i.containsKey(e,t)))}}class aV extends kk{constructor(e){super(),this.currentSequenceNumber=e}}class wv{constructor(e){this.persistence=e,this.Ti=new Av,this.Ii=null}static Ei(e){return new wv(e)}get di(){if(this.Ii)return this.Ii;throw Se(60996)}addReference(e,t,i){return this.Ti.addReference(i,t),this.di.delete(i.toString()),ae.resolve()}removeReference(e,t,i){return this.Ti.removeReference(i,t),this.di.add(i.toString()),ae.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),ae.resolve()}removeTarget(e,t){this.Ti.Ur(t.targetId).forEach(a=>this.di.add(a.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(l=>this.di.add(l.toString()))}).next(()=>i.removeTargetData(e,t))}li(){this.Ii=new Set}hi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ae.forEach(this.di,i=>{const a=Ee.fromPath(i);return this.Ai(e,a).next(l=>{l||t.removeEntry(a,Ie.min())})}).next(()=>(this.Ii=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ai(e,t).next(i=>{i?this.di.delete(t.toString()):this.di.add(t.toString())})}ui(e){return 0}Ai(e,t){return ae.or([()=>ae.resolve(this.Ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Pi(e,t)])}}class Yf{constructor(e,t){this.persistence=e,this.Ri=new qa(i=>Lk(i.path),(i,a)=>i.isEqual(a)),this.garbageCollector=QM(this,t)}static Ei(e,t){return new Yf(e,t)}li(){}hi(e){return ae.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(a=>i+a))}Vr(e){let t=0;return this.Ar(e,i=>{t++}).next(()=>t)}Ar(e,t){return ae.forEach(this.Ri,(i,a)=>this.gr(e,i,a).next(l=>l?ae.resolve():t(a)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.Xr(e,c=>this.gr(e,c,t).next(d=>{d||(i++,l.removeEntry(c,Ie.min()))})).next(()=>l.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.Ri.set(t,e.currentSequenceNumber),ae.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.Ri.set(i,e.currentSequenceNumber),ae.resolve()}removeReference(e,t,i){return this.Ri.set(i,e.currentSequenceNumber),ae.resolve()}updateLimboDocument(e,t){return this.Ri.set(t,e.currentSequenceNumber),ae.resolve()}ui(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=wf(e.data.value)),t}gr(e,t,i){return ae.or([()=>this.persistence.Pi(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.Ri.get(t);return ae.resolve(a!==void 0&&a>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sv{constructor(e,t,i,a){this.targetId=e,this.fromCache=t,this.ls=i,this.hs=a}static Ps(e,t){let i=Be(),a=Be();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Sv(e,t.fromCache,i,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lV{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return LN()?8:Mk(En())>0?6:4}()}initialize(e,t){this.As=e,this.indexManager=t,this.Ts=!0}getDocumentsMatchingQuery(e,t,i,a){const l={result:null};return this.Rs(e,t).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.Vs(e,t,a,i).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new oV;return this.fs(e,t,c).next(d=>{if(l.result=d,this.Is)return this.gs(e,t,c,d.size)})}).next(()=>l.result)}gs(e,t,i,a){return i.documentReadCount<this.Es?(Uo()<=je.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",jo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),ae.resolve()):(Uo()<=je.DEBUG&&de("QueryEngine","Query:",jo(t),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.ds*a?(Uo()<=je.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",jo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ri(t))):ae.resolve())}Rs(e,t){if(sT(t))return ae.resolve(null);let i=ri(t);return this.indexManager.getIndexType(e,i).next(a=>a===0?null:(t.limit!==null&&a===1&&(t=_g(t,null,"F"),i=ri(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(l=>{const c=Be(...l);return this.As.getDocuments(e,c).next(d=>this.indexManager.getMinOffset(e,i).next(p=>{const g=this.ps(t,d);return this.ys(t,g,c,p.readTime)?this.Rs(e,_g(t,null,"F")):this.ws(e,g,t,p)}))})))}Vs(e,t,i,a){return sT(t)||a.isEqual(Ie.min())?ae.resolve(null):this.As.getDocuments(e,i).next(l=>{const c=this.ps(t,l);return this.ys(t,c,i,a)?ae.resolve(null):(Uo()<=je.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),jo(t)),this.ws(e,c,t,Ok(a,rc)).next(d=>d))})}ps(e,t){let i=new zt(oS(e));return t.forEach((a,l)=>{gd(e,l)&&(i=i.add(l))}),i}ys(e,t,i,a){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}fs(e,t,i){return Uo()<=je.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",jo(t)),this.As.getDocumentsMatchingQuery(e,t,Ms.min(),i)}ws(e,t,i,a){return this.As.getDocumentsMatchingQuery(e,i,a).next(l=>(t.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rv="LocalStore",uV=3e8;class cV{constructor(e,t,i,a){this.persistence=e,this.bs=t,this.serializer=a,this.Ss=new vt(ke),this.Ds=new qa(l=>gv(l),vv),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(i)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new JM(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ss))}}function hV(n,e,t,i){return new cV(n,e,t,i)}async function NS(n,e){const t=xe(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let a;return t.mutationQueue.getAllMutationBatches(i).next(l=>(a=l,t.Fs(e),t.mutationQueue.getAllMutationBatches(i))).next(l=>{const c=[],d=[];let p=Be();for(const g of a){c.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}for(const g of l){d.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}return t.localDocuments.getDocuments(i,p).next(g=>({Ms:g,removedBatchIds:c,addedBatchIds:d}))})})}function fV(n,e){const t=xe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const a=e.batch.keys(),l=t.Cs.newChangeBuffer({trackRemovals:!0});return function(d,p,g,v){const b=g.batch,w=b.keys();let O=ae.resolve();return w.forEach(C=>{O=O.next(()=>v.getEntry(p,C)).next(M=>{const N=g.docVersions.get(C);Je(N!==null,48541),M.version.compareTo(N)<0&&(b.applyToRemoteDocument(M,g),M.isValidDocument()&&(M.setReadTime(g.commitVersion),v.addEntry(M)))})}),O.next(()=>d.mutationQueue.removeMutationBatch(p,b))}(t,i,e,l).next(()=>l.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(d){let p=Be();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(p=p.add(d.batch.mutations[g].key));return p}(e))).next(()=>t.localDocuments.getDocuments(i,a))})}function DS(n){const e=xe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ai.getLastRemoteSnapshotVersion(t))}function dV(n,e){const t=xe(n),i=e.snapshotVersion;let a=t.Ss;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=t.Cs.newChangeBuffer({trackRemovals:!0});a=t.Ss;const d=[];e.targetChanges.forEach((v,b)=>{const w=a.get(b);if(!w)return;d.push(t.ai.removeMatchingKeys(l,v.removedDocuments,b).next(()=>t.ai.addMatchingKeys(l,v.addedDocuments,b)));let O=w.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(b)!==null?O=O.withResumeToken(ln.EMPTY_BYTE_STRING,Ie.min()).withLastLimboFreeSnapshotVersion(Ie.min()):v.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(v.resumeToken,i)),a=a.insert(b,O),function(M,N,z){return M.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=uV?!0:z.addedDocuments.size+z.modifiedDocuments.size+z.removedDocuments.size>0}(w,O,v)&&d.push(t.ai.updateTargetData(l,O))});let p=$i(),g=Be();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(l,v))}),d.push(pV(l,c,e.documentUpdates).next(v=>{p=v.xs,g=v.Os})),!i.isEqual(Ie.min())){const v=t.ai.getLastRemoteSnapshotVersion(l).next(b=>t.ai.setTargetsMetadata(l,l.currentSequenceNumber,i));d.push(v)}return ae.waitFor(d).next(()=>c.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,p,g)).next(()=>p)}).then(l=>(t.Ss=a,l))}function pV(n,e,t){let i=Be(),a=Be();return t.forEach(l=>i=i.add(l)),e.getEntries(n,i).next(l=>{let c=$i();return t.forEach((d,p)=>{const g=l.get(d);p.isFoundDocument()!==g.isFoundDocument()&&(a=a.add(d)),p.isNoDocument()&&p.version.isEqual(Ie.min())?(e.removeEntry(d,p.readTime),c=c.insert(d,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),c=c.insert(d,p)):de(Rv,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",p.version)}),{xs:c,Os:a}})}function mV(n,e){const t=xe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=dv),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function gV(n,e){const t=xe(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let a;return t.ai.getTargetData(i,e).next(l=>l?(a=l,ae.resolve(a)):t.ai.allocateTargetId(i).next(c=>(a=new Cs(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.ai.addTargetData(i,a).next(()=>a))))}).then(i=>{const a=t.Ss.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ss=t.Ss.insert(i.targetId,i),t.Ds.set(e,i.targetId)),i})}async function wg(n,e,t){const i=xe(n),a=i.Ss.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,c=>i.persistence.referenceDelegate.removeTarget(c,a))}catch(c){if(!vl(c))throw c;de(Rv,`Failed to update sequence numbers for target ${e}: ${c}`)}i.Ss=i.Ss.remove(e),i.Ds.delete(a.target)}function yT(n,e,t){const i=xe(n);let a=Ie.min(),l=Be();return i.persistence.runTransaction("Execute query","readwrite",c=>function(p,g,v){const b=xe(p),w=b.Ds.get(v);return w!==void 0?ae.resolve(b.Ss.get(w)):b.ai.getTargetData(g,v)}(i,c,ri(e)).next(d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,i.ai.getMatchingKeysForTargetId(c,d.targetId).next(p=>{l=p})}).next(()=>i.bs.getDocumentsMatchingQuery(c,e,t?a:Ie.min(),t?l:Be())).next(d=>(vV(i,nM(e),d),{documents:d,Ns:l})))}function vV(n,e,t){let i=n.vs.get(e)||Ie.min();t.forEach((a,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)}),n.vs.set(e,i)}class _T{constructor(){this.activeTargetIds=lM()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class yV{constructor(){this.So=new _T,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,t,i){this.Do[e]=t}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new _T,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _V{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ET="ConnectivityMonitor";class bT{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){de(ET,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){de(ET,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uf=null;function Sg(){return uf===null?uf=function(){return 268435456+Math.round(2147483648*Math.random())}():uf++,"0x"+uf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hm="RestConnection",EV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class bV{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Lo=t+"://"+e.host,this.ko=`projects/${i}/databases/${a}`,this.qo=this.databaseId.database===Ff?`project_id=${i}`:`project_id=${i}&database_id=${a}`}Qo(e,t,i,a,l){const c=Sg(),d=this.$o(e,t.toUriEncodedString());de(Hm,`Sending RPC '${e}' ${c}:`,d,i);const p={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};this.Uo(p,a,l);const{host:g}=new URL(d),v=fl(g);return this.Ko(e,d,p,i,v).then(b=>(de(Hm,`Received RPC '${e}' ${c}: `,b),b),b=>{throw tl(Hm,`RPC '${e}' ${c} failed with error: `,b,"url: ",d,"request:",i),b})}Wo(e,t,i,a,l,c){return this.Qo(e,t,i,a,l)}Uo(e,t,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ml}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,l)=>e[l]=a),i&&i.headers.forEach((a,l)=>e[l]=a)}$o(e,t){const i=EV[e];return`${this.Lo}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TV{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gn="WebChannelConnection";class AV extends bV{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,t,i,a,l){const c=Sg();return new Promise((d,p)=>{const g=new kw;g.setWithCredentials(!0),g.listenOnce(Mw.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case Af.NO_ERROR:const b=g.getResponseJson();de(gn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(b)),d(b);break;case Af.TIMEOUT:de(gn,`RPC '${e}' ${c} timed out`),p(new pe(se.DEADLINE_EXCEEDED,"Request time out"));break;case Af.HTTP_ERROR:const w=g.getStatus();if(de(gn,`RPC '${e}' ${c} failed with status:`,w,"response text:",g.getResponseText()),w>0){let O=g.getResponseJson();Array.isArray(O)&&(O=O[0]);const C=O==null?void 0:O.error;if(C&&C.status&&C.message){const M=function(z){const q=z.toLowerCase().replace(/_/g,"-");return Object.values(se).indexOf(q)>=0?q:se.UNKNOWN}(C.status);p(new pe(M,C.message))}else p(new pe(se.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new pe(se.UNAVAILABLE,"Connection failed."));break;default:Se(9055,{s_:e,streamId:c,o_:g.getLastErrorCode(),__:g.getLastError()})}}finally{de(gn,`RPC '${e}' ${c} completed.`)}});const v=JSON.stringify(a);de(gn,`RPC '${e}' ${c} sending request:`,a),g.send(t,"POST",v,i,15)})}a_(e,t,i){const a=Sg(),l=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=Uw(),d=Lw(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Uo(p.initMessageHeaders,t,i),p.encodeInitMessageHeaders=!0;const v=l.join("");de(gn,`Creating RPC '${e}' stream ${a}: ${v}`,p);const b=c.createWebChannel(v,p);let w=!1,O=!1;const C=new TV({Go:N=>{O?de(gn,`Not sending because RPC '${e}' stream ${a} is closed:`,N):(w||(de(gn,`Opening RPC '${e}' stream ${a} transport.`),b.open(),w=!0),de(gn,`RPC '${e}' stream ${a} sending:`,N),b.send(N))},zo:()=>b.close()}),M=(N,z,q)=>{N.listen(z,j=>{try{q(j)}catch(G){setTimeout(()=>{throw G},0)}})};return M(b,Vu.EventType.OPEN,()=>{O||(de(gn,`RPC '${e}' stream ${a} transport opened.`),C.t_())}),M(b,Vu.EventType.CLOSE,()=>{O||(O=!0,de(gn,`RPC '${e}' stream ${a} transport closed`),C.r_())}),M(b,Vu.EventType.ERROR,N=>{O||(O=!0,tl(gn,`RPC '${e}' stream ${a} transport errored. Name:`,N.name,"Message:",N.message),C.r_(new pe(se.UNAVAILABLE,"The operation could not be completed")))}),M(b,Vu.EventType.MESSAGE,N=>{var z;if(!O){const q=N.data[0];Je(!!q,16349);const j=q,G=(j==null?void 0:j.error)||((z=j[0])===null||z===void 0?void 0:z.error);if(G){de(gn,`RPC '${e}' stream ${a} received error:`,G);const Q=G.status;let J=function(I){const D=Nt[I];if(D!==void 0)return _S(D)}(Q),x=G.message;J===void 0&&(J=se.INTERNAL,x="Unknown error status: "+Q+" with message "+G.message),O=!0,C.r_(new pe(J,x)),b.close()}else de(gn,`RPC '${e}' stream ${a} received:`,q),C.i_(q)}}),M(d,Vw.STAT_EVENT,N=>{N.stat===fg.PROXY?de(gn,`RPC '${e}' stream ${a} detected buffering proxy`):N.stat===fg.NOPROXY&&de(gn,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{C.n_()},0),C}}function Gm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ed(n){return new CM(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(e,t,i=1e3,a=1.5,l=6e4){this.bi=e,this.timerId=t,this.u_=i,this.c_=a,this.l_=l,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const t=Math.floor(this.h_+this.d_()),i=Math.max(0,Date.now()-this.T_),a=Math.max(0,t-i);a>0&&de("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.h_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,a,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TT="PersistentStream";class kS{constructor(e,t,i,a,l,c,d,p){this.bi=e,this.R_=i,this.V_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new PS(e,t)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,t){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():t&&t.code===se.RESOURCE_EXHAUSTED?(Gi(t.toString()),Gi("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):t&&t.code===se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(t)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),t=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,a])=>{this.m_===t&&this.B_(i,a)},i=>{e(()=>{const a=new pe(se.UNKNOWN,"Fetching auth token failed: "+i.message);return this.L_(a)})})}B_(e,t){const i=this.N_(this.m_);this.stream=this.k_(e,t),this.stream.jo(()=>{i(()=>this.listener.jo())}),this.stream.Jo(()=>{i(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(a=>{i(()=>this.L_(a))}),this.stream.onMessage(a=>{i(()=>++this.p_==1?this.q_(a):this.onNext(a))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return de(TT,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return t=>{this.bi.enqueueAndForget(()=>this.m_===e?t():(de(TT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class wV extends kS{constructor(e,t,i,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,a,c),this.serializer=l}k_(e,t){return this.connection.a_("Listen",e,t)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const t=OM(this.serializer,e),i=function(l){if(!("targetChange"in l))return Ie.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Ie.min():c.readTime?si(c.readTime):Ie.min()}(e);return this.listener.Q_(t,i)}U_(e){const t={};t.database=Ag(this.serializer),t.addTarget=function(l,c){let d;const p=c.target;if(d=vg(p)?{documents:PM(l,p)}:{query:kM(l,p).gt},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=TS(l,c.resumeToken);const g=Eg(l,c.expectedCount);g!==null&&(d.expectedCount=g)}else if(c.snapshotVersion.compareTo(Ie.min())>0){d.readTime=Kf(l,c.snapshotVersion.toTimestamp());const g=Eg(l,c.expectedCount);g!==null&&(d.expectedCount=g)}return d}(this.serializer,e);const i=VM(this.serializer,e);i&&(t.labels=i),this.F_(t)}K_(e){const t={};t.database=Ag(this.serializer),t.removeTarget=e,this.F_(t)}}class SV extends kS{constructor(e,t,i,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,a,c),this.serializer=l}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,t){return this.connection.a_("Write",e,t)}q_(e){return Je(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Je(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){Je(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const t=DM(e.writeResults,e.commitTime),i=si(e.commitTime);return this.listener.j_(i,t)}H_(){const e={};e.database=Ag(this.serializer),this.F_(e)}G_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>NM(this.serializer,i))};this.F_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RV{}class CV extends RV{constructor(e,t,i,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=a,this.J_=!1}Y_(){if(this.J_)throw new pe(se.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,t,i,a){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Qo(e,bg(t,i),a,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new pe(se.UNKNOWN,l.toString())})}Wo(e,t,i,a,l){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Wo(e,bg(t,i),a,c,d,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new pe(se.UNKNOWN,c.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class IV{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(Gi(t),this.ea=!1):de("OnlineStateTracker",t)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ma="RemoteStore";class xV{constructor(e,t,i,a,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=l,this.ca.vo(c=>{i.enqueueAndForget(async()=>{Ha(this)&&(de(Ma,"Restarting streams for network reachability change."),await async function(p){const g=xe(p);g.aa.add(4),await Rc(g),g.la.set("Unknown"),g.aa.delete(4),await bd(g)}(this))})}),this.la=new IV(i,a)}}async function bd(n){if(Ha(n))for(const e of n.ua)await e(!0)}async function Rc(n){for(const e of n.ua)await e(!1)}function MS(n,e){const t=xe(n);t._a.has(e.targetId)||(t._a.set(e.targetId,e),Ov(t)?xv(t):_l(t).b_()&&Iv(t,e))}function Cv(n,e){const t=xe(n),i=_l(t);t._a.delete(e),i.b_()&&VS(t,e),t._a.size===0&&(i.b_()?i.v_():Ha(t)&&t.la.set("Unknown"))}function Iv(n,e){if(n.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ie.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}_l(n).U_(e)}function VS(n,e){n.ha.Ke(e),_l(n).K_(e)}function xv(n){n.ha=new AM({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n._a.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),_l(n).start(),n.la.ta()}function Ov(n){return Ha(n)&&!_l(n).w_()&&n._a.size>0}function Ha(n){return xe(n).aa.size===0}function LS(n){n.ha=void 0}async function OV(n){n.la.set("Online")}async function NV(n){n._a.forEach((e,t)=>{Iv(n,e)})}async function DV(n,e){LS(n),Ov(n)?(n.la.ia(e),xv(n)):n.la.set("Unknown")}async function PV(n,e,t){if(n.la.set("Online"),e instanceof bS&&e.state===2&&e.cause)try{await async function(a,l){const c=l.cause;for(const d of l.targetIds)a._a.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a._a.delete(d),a.ha.removeTarget(d))}(n,e)}catch(i){de(Ma,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Qf(n,i)}else if(e instanceof Cf?n.ha.Xe(e):e instanceof ES?n.ha.ot(e):n.ha.nt(e),!t.isEqual(Ie.min()))try{const i=await DS(n.localStore);t.compareTo(i)>=0&&await function(l,c){const d=l.ha.It(c);return d.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const v=l._a.get(g);v&&l._a.set(g,v.withResumeToken(p.resumeToken,c))}}),d.targetMismatches.forEach((p,g)=>{const v=l._a.get(p);if(!v)return;l._a.set(p,v.withResumeToken(ln.EMPTY_BYTE_STRING,v.snapshotVersion)),VS(l,p);const b=new Cs(v.target,p,g,v.sequenceNumber);Iv(l,b)}),l.remoteSyncer.applyRemoteEvent(d)}(n,t)}catch(i){de(Ma,"Failed to raise snapshot:",i),await Qf(n,i)}}async function Qf(n,e,t){if(!vl(e))throw e;n.aa.add(1),await Rc(n),n.la.set("Offline"),t||(t=()=>DS(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{de(Ma,"Retrying IndexedDB access"),await t(),n.aa.delete(1),await bd(n)})}function US(n,e){return e().catch(t=>Qf(n,t,e))}async function Td(n){const e=xe(n),t=js(e);let i=e.oa.length>0?e.oa[e.oa.length-1].batchId:dv;for(;kV(e);)try{const a=await mV(e.localStore,i);if(a===null){e.oa.length===0&&t.v_();break}i=a.batchId,MV(e,a)}catch(a){await Qf(e,a)}jS(e)&&BS(e)}function kV(n){return Ha(n)&&n.oa.length<10}function MV(n,e){n.oa.push(e);const t=js(n);t.b_()&&t.W_&&t.G_(e.mutations)}function jS(n){return Ha(n)&&!js(n).w_()&&n.oa.length>0}function BS(n){js(n).start()}async function VV(n){js(n).H_()}async function LV(n){const e=js(n);for(const t of n.oa)e.G_(t.mutations)}async function UV(n,e,t){const i=n.oa.shift(),a=Ev.from(i,e,t);await US(n,()=>n.remoteSyncer.applySuccessfulWrite(a)),await Td(n)}async function jV(n,e){e&&js(n).W_&&await async function(i,a){if(function(c){return bM(c)&&c!==se.ABORTED}(a.code)){const l=i.oa.shift();js(i).D_(),await US(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,a)),await Td(i)}}(n,e),jS(n)&&BS(n)}async function AT(n,e){const t=xe(n);t.asyncQueue.verifyOperationInProgress(),de(Ma,"RemoteStore received new credentials");const i=Ha(t);t.aa.add(3),await Rc(t),i&&t.la.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.aa.delete(3),await bd(t)}async function BV(n,e){const t=xe(n);e?(t.aa.delete(2),await bd(t)):e||(t.aa.add(2),await Rc(t),t.la.set("Unknown"))}function _l(n){return n.Pa||(n.Pa=function(t,i,a){const l=xe(t);return l.Y_(),new wV(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(n.datastore,n.asyncQueue,{jo:OV.bind(null,n),Jo:NV.bind(null,n),Zo:DV.bind(null,n),Q_:PV.bind(null,n)}),n.ua.push(async e=>{e?(n.Pa.D_(),Ov(n)?xv(n):n.la.set("Unknown")):(await n.Pa.stop(),LS(n))})),n.Pa}function js(n){return n.Ta||(n.Ta=function(t,i,a){const l=xe(t);return l.Y_(),new SV(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(n.datastore,n.asyncQueue,{jo:()=>Promise.resolve(),Jo:VV.bind(null,n),Zo:jV.bind(null,n),z_:LV.bind(null,n),j_:UV.bind(null,n)}),n.ua.push(async e=>{e?(n.Ta.D_(),await Td(n)):(await n.Ta.stop(),n.oa.length>0&&(de(Ma,`Stopping write stream with ${n.oa.length} pending writes`),n.oa=[]))})),n.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv{constructor(e,t,i,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=a,this.removalCallback=l,this.deferred=new ji,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,a,l){const c=Date.now()+i,d=new Nv(e,t,c,a,l);return d.start(i),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pe(se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Dv(n,e){if(Gi("AsyncQueue",`${e}: ${n}`),vl(n))return new pe(se.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{static emptySet(e){return new Yo(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||Ee.comparator(t.key,i.key):(t,i)=>Ee.comparator(t.key,i.key),this.keyedMap=Lu(),this.sortedSet=new vt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Yo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=i.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new Yo;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(){this.Ia=new vt(Ee.comparator)}track(e){const t=e.doc.key,i=this.Ia.get(t);i?e.type!==0&&i.type===3?this.Ia=this.Ia.insert(t,e):e.type===3&&i.type!==1?this.Ia=this.Ia.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.Ia=this.Ia.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.Ia=this.Ia.remove(t):e.type===1&&i.type===2?this.Ia=this.Ia.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):Se(63341,{Vt:e,Ea:i}):this.Ia=this.Ia.insert(t,e)}da(){const e=[];return this.Ia.inorderTraversal((t,i)=>{e.push(i)}),e}}class al{constructor(e,t,i,a,l,c,d,p,g){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,t,i,a,l){const c=[];return t.forEach(d=>{c.push({type:0,doc:d})}),new al(e,t,Yo.emptySet(t),c,i,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&md(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==i[a].type||!t[a].doc.isEqual(i[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zV{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class qV{constructor(){this.queries=ST(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(t,i){const a=xe(t),l=a.queries;a.queries=ST(),l.forEach((c,d)=>{for(const p of d.Ra)p.onError(i)})})(this,new pe(se.ABORTED,"Firestore shutting down"))}}function ST(){return new qa(n=>aS(n),md)}async function zS(n,e){const t=xe(n);let i=3;const a=e.query;let l=t.queries.get(a);l?!l.Va()&&e.ma()&&(i=2):(l=new zV,i=e.ma()?0:1);try{switch(i){case 0:l.Aa=await t.onListen(a,!0);break;case 1:l.Aa=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(c){const d=Dv(c,`Initialization of query '${jo(e.query)}' failed`);return void e.onError(d)}t.queries.set(a,l),l.Ra.push(e),e.ga(t.onlineState),l.Aa&&e.pa(l.Aa)&&Pv(t)}async function qS(n,e){const t=xe(n),i=e.query;let a=3;const l=t.queries.get(i);if(l){const c=l.Ra.indexOf(e);c>=0&&(l.Ra.splice(c,1),l.Ra.length===0?a=e.ma()?0:1:!l.Va()&&e.ma()&&(a=2))}switch(a){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function FV(n,e){const t=xe(n);let i=!1;for(const a of e){const l=a.query,c=t.queries.get(l);if(c){for(const d of c.Ra)d.pa(a)&&(i=!0);c.Aa=a}}i&&Pv(t)}function HV(n,e,t){const i=xe(n),a=i.queries.get(e);if(a)for(const l of a.Ra)l.onError(t);i.queries.delete(e)}function Pv(n){n.fa.forEach(e=>{e.next()})}var Rg,RT;(RT=Rg||(Rg={})).ya="default",RT.Cache="cache";class FS{constructor(e,t,i){this.query=e,this.wa=t,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=i||{}}pa(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)a.type!==3&&i.push(a);e=new al(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ba?this.Da(e)&&(this.wa.next(e),t=!0):this.va(e,this.onlineState)&&(this.Ca(e),t=!0),this.Sa=e,t}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let t=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),t=!0),t}va(e,t){if(!e.fromCache||!this.ma())return!0;const i=t!=="Offline";return(!this.options.Fa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const t=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Ca(e){e=al.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==Rg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{constructor(e){this.key=e}}class GS{constructor(e){this.key=e}}class GV{constructor(e,t){this.query=e,this.qa=t,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=Be(),this.mutatedKeys=Be(),this.Ua=oS(e),this.Ka=new Yo(this.Ua)}get Wa(){return this.qa}Ga(e,t){const i=t?t.za:new wT,a=t?t.Ka:this.Ka;let l=t?t.mutatedKeys:this.mutatedKeys,c=a,d=!1;const p=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,g=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((v,b)=>{const w=a.get(v),O=gd(this.query,b)?b:null,C=!!w&&this.mutatedKeys.has(w.key),M=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let N=!1;w&&O?w.data.isEqual(O.data)?C!==M&&(i.track({type:3,doc:O}),N=!0):this.ja(w,O)||(i.track({type:2,doc:O}),N=!0,(p&&this.Ua(O,p)>0||g&&this.Ua(O,g)<0)&&(d=!0)):!w&&O?(i.track({type:0,doc:O}),N=!0):w&&!O&&(i.track({type:1,doc:w}),N=!0,(p||g)&&(d=!0)),N&&(O?(c=c.add(O),l=M?l.add(v):l.delete(v)):(c=c.delete(v),l=l.delete(v)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),l=l.delete(v.key),i.track({type:1,doc:v})}return{Ka:c,za:i,ys:d,mutatedKeys:l}}ja(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,a){const l=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const c=e.za.da();c.sort((v,b)=>function(O,C){const M=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se(20277,{Vt:N})}};return M(O)-M(C)}(v.type,b.type)||this.Ua(v.doc,b.doc)),this.Ha(i),a=a!=null&&a;const d=t&&!a?this.Ja():[],p=this.$a.size===0&&this.current&&!a?1:0,g=p!==this.Qa;return this.Qa=p,c.length!==0||g?{snapshot:new al(this.query,e.Ka,l,c,e.mutatedKeys,p===0,g,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ya:d}:{Ya:d}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new wT,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(t=>this.qa=this.qa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qa=this.qa.delete(t)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=Be(),this.Ka.forEach(i=>{this.Za(i.key)&&(this.$a=this.$a.add(i.key))});const t=[];return e.forEach(i=>{this.$a.has(i)||t.push(new GS(i))}),this.$a.forEach(i=>{e.has(i)||t.push(new HS(i))}),t}Xa(e){this.qa=e.Ns,this.$a=Be();const t=this.Ga(e.documents);return this.applyChanges(t,!0)}eu(){return al.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const kv="SyncEngine";class $V{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class KV{constructor(e){this.key=e,this.tu=!1}}class YV{constructor(e,t,i,a,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.nu={},this.ru=new qa(d=>aS(d),md),this.iu=new Map,this.su=new Set,this.ou=new vt(Ee.comparator),this._u=new Map,this.au=new Av,this.uu={},this.cu=new Map,this.lu=sl.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function QV(n,e,t=!0){const i=WS(n);let a;const l=i.ru.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.eu()):a=await $S(i,e,t,!0),a}async function XV(n,e){const t=WS(n);await $S(t,e,!0,!1)}async function $S(n,e,t,i){const a=await gV(n.localStore,ri(e)),l=a.targetId,c=n.sharedClientState.addLocalQueryTarget(l,t);let d;return i&&(d=await WV(n,e,l,c==="current",a.resumeToken)),n.isPrimaryClient&&t&&MS(n.remoteStore,a),d}async function WV(n,e,t,i,a){n.Pu=(b,w,O)=>async function(M,N,z,q){let j=N.view.Ga(z);j.ys&&(j=await yT(M.localStore,N.query,!1).then(({documents:x})=>N.view.Ga(x,j)));const G=q&&q.targetChanges.get(N.targetId),Q=q&&q.targetMismatches.get(N.targetId)!=null,J=N.view.applyChanges(j,M.isPrimaryClient,G,Q);return IT(M,N.targetId,J.Ya),J.snapshot}(n,b,w,O);const l=await yT(n.localStore,e,!0),c=new GV(e,l.Ns),d=c.Ga(l.documents),p=Sc.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",a),g=c.applyChanges(d,n.isPrimaryClient,p);IT(n,t,g.Ya);const v=new $V(e,t,c);return n.ru.set(e,v),n.iu.has(t)?n.iu.get(t).push(e):n.iu.set(t,[e]),g.snapshot}async function JV(n,e,t){const i=xe(n),a=i.ru.get(e),l=i.iu.get(a.targetId);if(l.length>1)return i.iu.set(a.targetId,l.filter(c=>!md(c,e))),void i.ru.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await wg(i.localStore,a.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(a.targetId),t&&Cv(i.remoteStore,a.targetId),Cg(i,a.targetId)}).catch(gl)):(Cg(i,a.targetId),await wg(i.localStore,a.targetId,!0))}async function ZV(n,e){const t=xe(n),i=t.ru.get(e),a=t.iu.get(i.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),Cv(t.remoteStore,i.targetId))}async function eL(n,e,t){const i=oL(n);try{const a=await function(c,d){const p=xe(c),g=Bt.now(),v=d.reduce((O,C)=>O.add(C.key),Be());let b,w;return p.persistence.runTransaction("Locally write mutations","readwrite",O=>{let C=$i(),M=Be();return p.Cs.getEntries(O,v).next(N=>{C=N,C.forEach((z,q)=>{q.isValidDocument()||(M=M.add(z))})}).next(()=>p.localDocuments.getOverlayedDocuments(O,C)).next(N=>{b=N;const z=[];for(const q of d){const j=gM(q,b.get(q.key).overlayedDocument);j!=null&&z.push(new Fa(q.key,j,Jw(j.value.mapValue),ii.exists(!0)))}return p.mutationQueue.addMutationBatch(O,g,z,d)}).next(N=>{w=N;const z=N.applyToLocalDocumentSet(b,M);return p.documentOverlayCache.saveOverlays(O,N.batchId,z)})}).then(()=>({batchId:w.batchId,changes:uS(b)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),function(c,d,p){let g=c.uu[c.currentUser.toKey()];g||(g=new vt(ke)),g=g.insert(d,p),c.uu[c.currentUser.toKey()]=g}(i,a.batchId,t),await Cc(i,a.changes),await Td(i.remoteStore)}catch(a){const l=Dv(a,"Failed to persist write");t.reject(l)}}async function KS(n,e){const t=xe(n);try{const i=await dV(t.localStore,e);e.targetChanges.forEach((a,l)=>{const c=t._u.get(l);c&&(Je(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.tu=!0:a.modifiedDocuments.size>0?Je(c.tu,14607):a.removedDocuments.size>0&&(Je(c.tu,42227),c.tu=!1))}),await Cc(t,i,e)}catch(i){await gl(i)}}function CT(n,e,t){const i=xe(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const a=[];i.ru.forEach((l,c)=>{const d=c.view.ga(e);d.snapshot&&a.push(d.snapshot)}),function(c,d){const p=xe(c);p.onlineState=d;let g=!1;p.queries.forEach((v,b)=>{for(const w of b.Ra)w.ga(d)&&(g=!0)}),g&&Pv(p)}(i.eventManager,e),a.length&&i.nu.Q_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function tL(n,e,t){const i=xe(n);i.sharedClientState.updateQueryState(e,"rejected",t);const a=i._u.get(e),l=a&&a.key;if(l){let c=new vt(Ee.comparator);c=c.insert(l,_n.newNoDocument(l,Ie.min()));const d=Be().add(l),p=new _d(Ie.min(),new Map,new vt(ke),c,d);await KS(i,p),i.ou=i.ou.remove(l),i._u.delete(e),Mv(i)}else await wg(i.localStore,e,!1).then(()=>Cg(i,e,t)).catch(gl)}async function nL(n,e){const t=xe(n),i=e.batch.batchId;try{const a=await fV(t.localStore,e);QS(t,i,null),YS(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await Cc(t,a)}catch(a){await gl(a)}}async function rL(n,e,t){const i=xe(n);try{const a=await function(c,d){const p=xe(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let v;return p.mutationQueue.lookupMutationBatch(g,d).next(b=>(Je(b!==null,37113),v=b.keys(),p.mutationQueue.removeMutationBatch(g,b))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,v,d)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v)).next(()=>p.localDocuments.getDocuments(g,v))})}(i.localStore,e);QS(i,e,t),YS(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await Cc(i,a)}catch(a){await gl(a)}}function YS(n,e){(n.cu.get(e)||[]).forEach(t=>{t.resolve()}),n.cu.delete(e)}function QS(n,e,t){const i=xe(n);let a=i.uu[i.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),i.uu[i.currentUser.toKey()]=a}}function Cg(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.iu.get(e))n.ru.delete(i),t&&n.nu.Tu(i,t);n.iu.delete(e),n.isPrimaryClient&&n.au.Ur(e).forEach(i=>{n.au.containsKey(i)||XS(n,i)})}function XS(n,e){n.su.delete(e.path.canonicalString());const t=n.ou.get(e);t!==null&&(Cv(n.remoteStore,t),n.ou=n.ou.remove(e),n._u.delete(t),Mv(n))}function IT(n,e,t){for(const i of t)i instanceof HS?(n.au.addReference(i.key,e),iL(n,i)):i instanceof GS?(de(kv,"Document no longer in limbo: "+i.key),n.au.removeReference(i.key,e),n.au.containsKey(i.key)||XS(n,i.key)):Se(19791,{Iu:i})}function iL(n,e){const t=e.key,i=t.path.canonicalString();n.ou.get(t)||n.su.has(i)||(de(kv,"New document in limbo: "+t),n.su.add(i),Mv(n))}function Mv(n){for(;n.su.size>0&&n.ou.size<n.maxConcurrentLimboResolutions;){const e=n.su.values().next().value;n.su.delete(e);const t=new Ee(ht.fromString(e)),i=n.lu.next();n._u.set(i,new KV(t)),n.ou=n.ou.insert(t,i),MS(n.remoteStore,new Cs(ri(yv(t.path)),i,"TargetPurposeLimboResolution",fd.le))}}async function Cc(n,e,t){const i=xe(n),a=[],l=[],c=[];i.ru.isEmpty()||(i.ru.forEach((d,p)=>{c.push(i.Pu(p,e,t).then(g=>{var v;if((g||t)&&i.isPrimaryClient){const b=g?!g.fromCache:(v=t==null?void 0:t.targetChanges.get(p.targetId))===null||v===void 0?void 0:v.current;i.sharedClientState.updateQueryState(p.targetId,b?"current":"not-current")}if(g){a.push(g);const b=Sv.Ps(p.targetId,g);l.push(b)}}))}),await Promise.all(c),i.nu.Q_(a),await async function(p,g){const v=xe(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>ae.forEach(g,w=>ae.forEach(w.ls,O=>v.persistence.referenceDelegate.addReference(b,w.targetId,O)).next(()=>ae.forEach(w.hs,O=>v.persistence.referenceDelegate.removeReference(b,w.targetId,O)))))}catch(b){if(!vl(b))throw b;de(Rv,"Failed to update sequence numbers: "+b)}for(const b of g){const w=b.targetId;if(!b.fromCache){const O=v.Ss.get(w),C=O.snapshotVersion,M=O.withLastLimboFreeSnapshotVersion(C);v.Ss=v.Ss.insert(w,M)}}}(i.localStore,l))}async function sL(n,e){const t=xe(n);if(!t.currentUser.isEqual(e)){de(kv,"User change. New user:",e.toKey());const i=await NS(t.localStore,e);t.currentUser=e,function(l,c){l.cu.forEach(d=>{d.forEach(p=>{p.reject(new pe(se.CANCELLED,c))})}),l.cu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Cc(t,i.Ms)}}function aL(n,e){const t=xe(n),i=t._u.get(e);if(i&&i.tu)return Be().add(i.key);{let a=Be();const l=t.iu.get(e);if(!l)return a;for(const c of l){const d=t.ru.get(c);a=a.unionWith(d.view.Wa)}return a}}function WS(n){const e=xe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=KS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=aL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=tL.bind(null,e),e.nu.Q_=FV.bind(null,e.eventManager),e.nu.Tu=HV.bind(null,e.eventManager),e}function oL(n){const e=xe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=nL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=rL.bind(null,e),e}class Xf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ed(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,t){return null}fu(e,t){return null}Vu(e){return hV(this.persistence,new lV,e.initialUser,this.serializer)}Ru(e){return new OS(wv.Ei,this.serializer)}Au(e){return new yV}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Xf.provider={build:()=>new Xf};class lL extends Xf{constructor(e){super(),this.cacheSizeBytes=e}mu(e,t){Je(this.persistence.referenceDelegate instanceof Yf,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new KM(i,e.asyncQueue,t)}Ru(e){const t=this.cacheSizeBytes!==void 0?Dn.withCacheSize(this.cacheSizeBytes):Dn.DEFAULT;return new OS(i=>Yf.Ei(i,t),this.serializer)}}class Ig{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>CT(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=sL.bind(null,this.syncEngine),await BV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new qV}()}createDatastore(e){const t=Ed(e.databaseInfo.databaseId),i=function(l){return new AV(l)}(e.databaseInfo);return function(l,c,d,p){return new CV(l,c,d,p)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,a,l,c,d){return new xV(i,a,l,c,d)}(this.localStore,this.datastore,e.asyncQueue,t=>CT(this.syncEngine,t,0),function(){return bT.C()?new bT:new _V}())}createSyncEngine(e,t){return function(a,l,c,d,p,g,v){const b=new YV(a,l,c,d,p,g);return v&&(b.hu=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(a){const l=xe(a);de(Ma,"RemoteStore shutting down."),l.aa.add(5),await Rc(l),l.ca.shutdown(),l.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Ig.provider={build:()=>new Ig};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):Gi("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bs="FirestoreClient";class uL{constructor(e,t,i,a,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=a,this.user=yn.UNAUTHENTICATED,this.clientId=qw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,async c=>{de(Bs,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(i,c=>(de(Bs,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ji;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=Dv(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function $m(n,e){n.asyncQueue.verifyOperationInProgress(),de(Bs,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async a=>{i.isEqual(a)||(await NS(e.localStore,a),i=a)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function xT(n,e){n.asyncQueue.verifyOperationInProgress();const t=await cL(n);de(Bs,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>AT(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,a)=>AT(e.remoteStore,a)),n._onlineComponents=e}async function cL(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){de(Bs,"Using user provided OfflineComponentProvider");try{await $m(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(a){return a.name==="FirebaseError"?a.code===se.FAILED_PRECONDITION||a.code===se.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(t))throw t;tl("Error using user provided cache. Falling back to memory cache: "+t),await $m(n,new Xf)}}else de(Bs,"Using default OfflineComponentProvider"),await $m(n,new lL(void 0));return n._offlineComponents}async function ZS(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(de(Bs,"Using user provided OnlineComponentProvider"),await xT(n,n._uninitializedComponentsProvider._online)):(de(Bs,"Using default OnlineComponentProvider"),await xT(n,new Ig))),n._onlineComponents}function hL(n){return ZS(n).then(e=>e.syncEngine)}async function eR(n){const e=await ZS(n),t=e.eventManager;return t.onListen=QV.bind(null,e.syncEngine),t.onUnlisten=JV.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=XV.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=ZV.bind(null,e.syncEngine),t}function fL(n,e,t={}){const i=new ji;return n.asyncQueue.enqueueAndForget(async()=>function(l,c,d,p,g){const v=new JS({next:w=>{v.yu(),c.enqueueAndForget(()=>qS(l,b));const O=w.docs.has(d);!O&&w.fromCache?g.reject(new pe(se.UNAVAILABLE,"Failed to get document because the client is offline.")):O&&w.fromCache&&p&&p.source==="server"?g.reject(new pe(se.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(w)},error:w=>g.reject(w)}),b=new FS(yv(d.path),v,{includeMetadataChanges:!0,Fa:!0});return zS(l,b)}(await eR(n),n.asyncQueue,e,t,i)),i.promise}function dL(n,e,t={}){const i=new ji;return n.asyncQueue.enqueueAndForget(async()=>function(l,c,d,p,g){const v=new JS({next:w=>{v.yu(),c.enqueueAndForget(()=>qS(l,b)),w.fromCache&&p.source==="server"?g.reject(new pe(se.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(w)},error:w=>g.reject(w)}),b=new FS(d,v,{includeMetadataChanges:!0,Fa:!0});return zS(l,b)}(await eR(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tR(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nR(n,e,t){if(!t)throw new pe(se.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function pL(n,e,t,i){if(e===!0&&i===!0)throw new pe(se.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function NT(n){if(!Ee.isDocumentKey(n))throw new pe(se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function DT(n){if(Ee.isDocumentKey(n))throw new pe(se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Ad(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Se(12329,{type:typeof n})}function zs(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new pe(se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Ad(n);throw new pe(se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rR="firestore.googleapis.com",PT=!0;class kT{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new pe(se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=rR,this.ssl=PT}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:PT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=xS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<GM)throw new pe(se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}pL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=tR((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new pe(se.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new pe(se.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new pe(se.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,a){return i.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class wd{constructor(e,t,i,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new kT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pe(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new pe(se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new kT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new bk;switch(i.type){case"firstParty":return new Sk(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new pe(se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=OT.get(t);i&&(de("ComponentProvider","Removing Datastore"),OT.delete(t),i.terminate())}(this),Promise.resolve()}}function mL(n,e,t,i={}){var a;n=zs(n,wd);const l=fl(e),c=n._getSettings(),d=Object.assign(Object.assign({},c),{emulatorOptions:n._getEmulatorOptions()}),p=`${e}:${t}`;l&&Jg(`https://${p}`),c.host!==rR&&c.host!==p&&tl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},c),{host:p,ssl:l,emulatorOptions:i});if(!Na(g,d)&&(n._setSettings(g),i.mockUserToken)){let v,b;if(typeof i.mockUserToken=="string")v=i.mockUserToken,b=yn.MOCK_USER;else{v=KA(i.mockUserToken,(a=n._app)===null||a===void 0?void 0:a.options.projectId);const w=i.mockUserToken.sub||i.mockUserToken.user_id;if(!w)throw new pe(se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new yn(w)}n._authCredentials=new Tk(new Bw(v,b))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Ga(this.firestore,e,this._query)}}class Vn{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ds(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Vn(this.firestore,e,this._key)}}class Ds extends Ga{constructor(e,t,i){super(e,t,yv(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Vn(this.firestore,null,new Ee(e))}withConverter(e){return new Ds(this.firestore,e,this._path)}}function Va(n,e,...t){if(n=qt(n),nR("collection","path",e),n instanceof wd){const i=ht.fromString(e,...t);return DT(i),new Ds(n,null,i)}{if(!(n instanceof Vn||n instanceof Ds))throw new pe(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ht.fromString(e,...t));return DT(i),new Ds(n.firestore,null,i)}}function Sd(n,e,...t){if(n=qt(n),arguments.length===1&&(e=qw.newId()),nR("doc","path",e),n instanceof wd){const i=ht.fromString(e,...t);return NT(i),new Vn(n,null,new Ee(i))}{if(!(n instanceof Vn||n instanceof Ds))throw new pe(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ht.fromString(e,...t));return NT(i),new Vn(n.firestore,n instanceof Ds?n.converter:null,new Ee(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MT="AsyncQueue";class VT{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new PS(this,"async_queue_retry"),this.ju=()=>{const i=Gm();i&&de(MT,"Visibility state changed to "+i.visibilityState),this.y_.A_()},this.Hu=e;const t=Gm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const t=Gm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const t=new ji;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!vl(e))throw e;de(MT,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const t=this.Hu.then(()=>(this.Wu=!0,e().catch(i=>{throw this.Ku=i,this.Wu=!1,Gi("INTERNAL UNHANDLED ERROR: ",LT(i)),i}).then(i=>(this.Wu=!1,i))));return this.Hu=t,t}enqueueAfterDelay(e,t,i){this.Ju(),this.zu.indexOf(e)>-1&&(t=0);const a=Nv.createAndSchedule(this,e,t,i,l=>this.Xu(l));return this.Uu.push(a),a}Ju(){this.Ku&&Se(47125,{ec:LT(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const t of this.Uu)if(t.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.Uu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const t=this.Uu.indexOf(e);this.Uu.splice(t,1)}}function LT(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class Ic extends wd{constructor(e,t,i,a){super(e,t,i,a),this.type="firestore",this._queue=new VT,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new VT(e),this._firestoreClient=void 0,await e}}}function gL(n,e){const t=typeof n=="object"?n:tv(),i=typeof n=="string"?n:Ff,a=od(t,"firestore").getImmediate({identifier:i});if(!a._initialized){const l=HA("firestore");l&&mL(a,...l)}return a}function Vv(n){if(n._terminated)throw new pe(se.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||vL(n),n._firestoreClient}function vL(n){var e,t,i;const a=n._freezeSettings(),l=function(d,p,g,v){return new Bk(d,p,g,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,tR(v.experimentalLongPollingOptions),v.useFetchStreams,v.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,a);n._componentsProvider||!((t=a.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=a.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),n._firestoreClient=new uL(n._authCredentials,n._appCheckCredentials,n._queue,l,n._componentsProvider&&function(d){const p=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(p),_online:p}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ol(ln.fromBase64String(e))}catch(t){throw new pe(se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ol(ln.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lv{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new pe(se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new on(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jv{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new pe(se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new pe(se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ke(this._lat,e._lat)||ke(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bv{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,a){if(i.length!==a.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==a[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yL=/^__.*__$/;class _L{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new Fa(e,this.data,this.fieldMask,t,this.fieldTransforms):new wc(e,this.data,t,this.fieldTransforms)}}function iR(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se(40011,{oc:n})}}class zv{constructor(e,t,i,a,l,c){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=a,l===void 0&&this._c(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new zv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.ac({path:i,cc:!1});return a.lc(e),a}hc(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.ac({path:i,cc:!1});return a._c(),a}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return Wf(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(iR(this.oc)&&yL.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class EL{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Ed(e)}dc(e,t,i,a=!1){return new zv({oc:e,methodName:t,Ec:i,path:on.emptyPath(),cc:!1,Ic:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function qv(n){const e=n._freezeSettings(),t=Ed(n._databaseId);return new EL(n._databaseId,!!e.ignoreUndefinedProperties,t)}function sR(n,e,t,i,a,l={}){const c=n.dc(l.merge||l.mergeFields?2:0,e,t,a);lR("Data must be an object, but it was:",c,i);const d=aR(i,c);let p,g;if(l.merge)p=new Rr(c.fieldMask),g=c.fieldTransforms;else if(l.mergeFields){const v=[];for(const b of l.mergeFields){const w=TL(e,b,t);if(!c.contains(w))throw new pe(se.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);wL(v,w)||v.push(w)}p=new Rr(v),g=c.fieldTransforms.filter(b=>p.covers(b.field))}else p=null,g=c.fieldTransforms;return new _L(new fr(d),p,g)}class Fv extends Uv{_toFieldTransform(e){return new fM(e.path,new lc)}isEqual(e){return e instanceof Fv}}function bL(n,e,t,i=!1){return Hv(t,n.dc(i?4:3,e))}function Hv(n,e){if(oR(n=qt(n)))return lR("Unsupported field value:",e,n),aR(n,e);if(n instanceof Uv)return function(i,a){if(!iR(a.oc))throw a.Tc(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Tc(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(a);l&&a.fieldTransforms.push(l)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(i,a){const l=[];let c=0;for(const d of i){let p=Hv(d,a.Pc(c));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),c++}return{arrayValue:{values:l}}}(n,e)}return function(i,a){if((i=qt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return uM(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=Bt.fromDate(i);return{timestampValue:Kf(a.serializer,l)}}if(i instanceof Bt){const l=new Bt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Kf(a.serializer,l)}}if(i instanceof jv)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof ol)return{bytesValue:TS(a.serializer,i._byteString)};if(i instanceof Vn){const l=a.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw a.Tc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Tv(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof Bv)return function(c,d){return{mapValue:{fields:{[Xw]:{stringValue:Ww},[Hf]:{arrayValue:{values:c.toArray().map(g=>{if(typeof g!="number")throw d.Tc("VectorValues must only contain numeric values.");return _v(d.serializer,g)})}}}}}}(i,a);throw a.Tc(`Unsupported field value: ${Ad(i)}`)}(n,e)}function aR(n,e){const t={};return Hw(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):za(n,(i,a)=>{const l=Hv(a,e.uc(i));l!=null&&(t[i]=l)}),{mapValue:{fields:t}}}function oR(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Bt||n instanceof jv||n instanceof ol||n instanceof Vn||n instanceof Uv||n instanceof Bv)}function lR(n,e,t){if(!oR(t)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(t)){const i=Ad(t);throw i==="an object"?e.Tc(n+" a custom object"):e.Tc(n+" "+i)}}function TL(n,e,t){if((e=qt(e))instanceof Lv)return e._internalPath;if(typeof e=="string")return uR(n,e);throw Wf("Field path arguments must be of type string or ",n,!1,void 0,t)}const AL=new RegExp("[~\\*/\\[\\]]");function uR(n,e,t){if(e.search(AL)>=0)throw Wf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Lv(...e.split("."))._internalPath}catch{throw Wf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Wf(n,e,t,i,a){const l=i&&!i.isEmpty(),c=a!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(l||c)&&(p+=" (found",l&&(p+=` in field ${i}`),c&&(p+=` in document ${a}`),p+=")"),new pe(se.INVALID_ARGUMENT,d+n+p)}function wL(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{constructor(e,t,i,a,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Vn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new SL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Rd("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class SL extends cR{data(){return super.data()}}function Rd(n,e){return typeof e=="string"?uR(n,e):e instanceof Lv?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RL(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new pe(se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Gv{}class hR extends Gv{}function hc(n,e,...t){let i=[];e instanceof Gv&&i.push(e),i=i.concat(t),function(l){const c=l.filter(p=>p instanceof $v).length,d=l.filter(p=>p instanceof Cd).length;if(c>1||c>0&&d>0)throw new pe(se.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const a of i)n=a._apply(n);return n}class Cd extends hR{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new Cd(e,t,i)}_apply(e){const t=this._parse(e);return fR(e._query,t),new Ga(e.firestore,e.converter,yg(e._query,t))}_parse(e){const t=qv(e.firestore);return function(l,c,d,p,g,v,b){let w;if(g.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new pe(se.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){BT(b,v);const C=[];for(const M of b)C.push(jT(p,l,M));w={arrayValue:{values:C}}}else w=jT(p,l,b)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||BT(b,v),w=bL(d,c,b,v==="in"||v==="not-in");return Pt.create(g,v,w)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function UT(n,e,t){const i=e,a=Rd("where",n);return Cd._create(a,i,t)}class $v extends Gv{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new $v(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:xr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(a,l){let c=a;const d=l.getFlattenedFilters();for(const p of d)fR(c,p),c=yg(c,p)}(e._query,t),new Ga(e.firestore,e.converter,yg(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Kv extends hR{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Kv(e,t)}_apply(e){const t=function(a,l,c){if(a.startAt!==null)throw new pe(se.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new pe(se.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new oc(l,c)}(e._query,this._field,this._direction);return new Ga(e.firestore,e.converter,function(a,l){const c=a.explicitOrderBy.concat([l]);return new yl(a.path,a.collectionGroup,c,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(e._query,t))}}function fc(n,e="asc"){const t=e,i=Rd("orderBy",n);return Kv._create(i,t)}function jT(n,e,t){if(typeof(t=qt(t))=="string"){if(t==="")throw new pe(se.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!sS(e)&&t.indexOf("/")!==-1)throw new pe(se.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(ht.fromString(t));if(!Ee.isDocumentKey(i))throw new pe(se.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Zb(n,new Ee(i))}if(t instanceof Vn)return Zb(n,t._key);throw new pe(se.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ad(t)}.`)}function BT(n,e){if(!Array.isArray(n)||n.length===0)throw new pe(se.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function fR(n,e){const t=function(a,l){for(const c of a)for(const d of c.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null}(n.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new pe(se.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new pe(se.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class CL{convertValue(e,t="none"){switch(Us(e)){case 0:return null;case 1:return e.booleanValue;case 2:return St(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ls(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Se(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return za(e,(a,l)=>{i[a]=this.convertValue(l,t)}),i}convertVectorValue(e){var t,i,a;const l=(a=(i=(t=e.fields)===null||t===void 0?void 0:t[Hf].arrayValue)===null||i===void 0?void 0:i.values)===null||a===void 0?void 0:a.map(c=>St(c.doubleValue));return new Bv(l)}convertGeoPoint(e){return new jv(St(e.latitude),St(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=pd(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(ic(e));default:return null}}convertTimestamp(e){const t=Vs(e);return new Bt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=ht.fromString(e);Je(IS(i),9688,{name:e});const a=new sc(i.get(1),i.get(3)),l=new Ee(i.popFirst(5));return a.isEqual(t)||Gi(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dR(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class pR extends cR{constructor(e,t,i,a,l,c){super(e,t,i,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new If(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(Rd("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class If extends pR{data(e={}){return super.data(e)}}class IL{constructor(e,t,i,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new ju(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new If(this._firestore,this._userDataWriter,i.key,i,new ju(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new pe(se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map(d=>{const p=new If(a._firestore,a._userDataWriter,d.doc.key,d.doc,new ju(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}})}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(d=>l||d.type!==3).map(d=>{const p=new If(a._firestore,a._userDataWriter,d.doc.key,d.doc,new ju(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let g=-1,v=-1;return d.type!==0&&(g=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),v=c.indexOf(d.doc.key)),{type:xL(d.type),doc:p,oldIndex:g,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function xL(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OL(n){n=zs(n,Vn);const e=zs(n.firestore,Ic);return fL(Vv(e),n._key).then(t=>NL(e,n,t))}class mR extends CL{constructor(e){super(),this.firestore=e}convertBytes(e){return new ol(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Vn(this.firestore,null,t)}}function dc(n){n=zs(n,Ga);const e=zs(n.firestore,Ic),t=Vv(e),i=new mR(e);return RL(n._query),dL(t,n._query).then(a=>new IL(e,i,n,a))}function gR(n,e,t){n=zs(n,Vn);const i=zs(n.firestore,Ic),a=dR(n.converter,e,t);return yR(i,[sR(qv(i),"setDoc",n._key,a,n.converter!==null,t).toMutation(n._key,ii.none())])}function vR(n,e){const t=zs(n.firestore,Ic),i=Sd(n),a=dR(n.converter,e);return yR(t,[sR(qv(n.firestore),"addDoc",i._key,a,n.converter!==null,{}).toMutation(i._key,ii.exists(!1))]).then(()=>i)}function yR(n,e){return function(i,a){const l=new ji;return i.asyncQueue.enqueueAndForget(async()=>eL(await hL(i),a,l)),l.promise}(Vv(n),e)}function NL(n,e,t){const i=t.docs.get(e._key),a=new mR(n);return new pR(n,a,e._key,i,new ju(t.hasPendingWrites,t.fromCache),e.converter)}function _R(){return new Fv("serverTimestamp")}(function(e,t=!0){(function(a){ml=a})(ja),Da(new ks("firestore",(i,{instanceIdentifier:a,options:l})=>{const c=i.getProvider("app").getImmediate(),d=new Ic(new Ak(i.getProvider("auth-internal")),new Rk(c,i.getProvider("app-check-internal")),function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new pe(se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new sc(g.options.projectId,v)}(c,a),c);return l=Object.assign({useFetchStreams:t},l),d._setSettings(l),d},"PUBLIC").setMultipleInstances(!0)),ei(zb,qb,e),ei(zb,qb,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ER="firebasestorage.googleapis.com",bR="storageBucket",DL=2*60*1e3,PL=10*60*1e3,kL=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt extends ci{constructor(e,t,i=0){super(Km(e),`Firebase Storage: ${t} (${Km(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,yt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Km(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ft;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ft||(ft={}));function Km(n){return"storage/"+n}function Yv(){const n="An unknown error occurred, please check the error payload for server response.";return new yt(ft.UNKNOWN,n)}function ML(n){return new yt(ft.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function VL(n){return new yt(ft.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function LL(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new yt(ft.UNAUTHENTICATED,n)}function UL(){return new yt(ft.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function jL(n){return new yt(ft.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function TR(){return new yt(ft.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function AR(){return new yt(ft.CANCELED,"User canceled the upload/download.")}function BL(n){return new yt(ft.INVALID_URL,"Invalid URL '"+n+"'.")}function zL(n){return new yt(ft.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function qL(){return new yt(ft.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+bR+"' property when initializing the app?")}function wR(){return new yt(ft.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function FL(){return new yt(ft.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function HL(){return new yt(ft.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function GL(n){return new yt(ft.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function xg(n){return new yt(ft.INVALID_ARGUMENT,n)}function SR(){return new yt(ft.APP_DELETED,"The Firebase app was deleted.")}function $L(n){return new yt(ft.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Ku(n,e){return new yt(ft.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function Pu(n){throw new yt(ft.INTERNAL_ERROR,"Internal error: "+n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=Qn.makeFromUrl(e,t)}catch{return new Qn(e,"")}if(i.path==="")return i;throw zL(e)}static makeFromUrl(e,t){let i=null;const a="([A-Za-z0-9.\\-_]+)";function l(G){G.path.charAt(G.path.length-1)==="/"&&(G.path_=G.path_.slice(0,-1))}const c="(/(.*))?$",d=new RegExp("^gs://"+a+c,"i"),p={bucket:1,path:3};function g(G){G.path_=decodeURIComponent(G.path)}const v="v[A-Za-z0-9_]+",b=t.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",O=new RegExp(`^https?://${b}/${v}/b/${a}/o${w}`,"i"),C={bucket:1,path:3},M=t===ER?"(?:storage.googleapis.com|storage.cloud.google.com)":t,N="([^?#]*)",z=new RegExp(`^https?://${M}/${a}/${N}`,"i"),j=[{regex:d,indices:p,postModify:l},{regex:O,indices:C,postModify:g},{regex:z,indices:{bucket:1,path:2},postModify:g}];for(let G=0;G<j.length;G++){const Q=j[G],J=Q.regex.exec(e);if(J){const x=J[Q.indices.bucket];let S=J[Q.indices.path];S||(S=""),i=new Qn(x,S),Q.postModify(i);break}}if(i==null)throw BL(e);return i}}class KL{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YL(n,e,t){let i=1,a=null,l=null,c=!1,d=0;function p(){return d===2}let g=!1;function v(...N){g||(g=!0,e.apply(null,N))}function b(N){a=setTimeout(()=>{a=null,n(O,p())},N)}function w(){l&&clearTimeout(l)}function O(N,...z){if(g){w();return}if(N){w(),v.call(null,N,...z);return}if(p()||c){w(),v.call(null,N,...z);return}i<64&&(i*=2);let j;d===1?(d=2,j=0):j=(i+Math.random())*1e3,b(j)}let C=!1;function M(N){C||(C=!0,w(),!g&&(a!==null?(N||(d=2),clearTimeout(a),b(0)):N||(d=1)))}return b(0),l=setTimeout(()=>{c=!0,M(!0)},t),M}function QL(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XL(n){return n!==void 0}function WL(n){return typeof n=="function"}function JL(n){return typeof n=="object"&&!Array.isArray(n)}function Id(n){return typeof n=="string"||n instanceof String}function zT(n){return Qv()&&n instanceof Blob}function Qv(){return typeof Blob<"u"}function qT(n,e,t,i){if(i<e)throw xg(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw xg(`Invalid value for '${n}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xc(n,e,t){let i=e;return t==null&&(i=`https://${e}`),`${t}://${i}/v0${n}`}function RR(n){const e=encodeURIComponent;let t="?";for(const i in n)if(n.hasOwnProperty(i)){const a=e(i)+"="+e(n[i]);t=t+a+"&"}return t=t.slice(0,-1),t}var Ia;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Ia||(Ia={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CR(n,e){const t=n>=500&&n<600,a=[408,429].indexOf(n)!==-1,l=e.indexOf(n)!==-1;return t||a||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZL{constructor(e,t,i,a,l,c,d,p,g,v,b,w=!0,O=!1){this.url_=e,this.method_=t,this.headers_=i,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=c,this.callback_=d,this.errorCallback_=p,this.timeout_=g,this.progressCallback_=v,this.connectionFactory_=b,this.retry=w,this.isUsingEmulator=O,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((C,M)=>{this.resolve_=C,this.reject_=M,this.start_()})}start_(){const e=(i,a)=>{if(a){i(!1,new cf(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const c=d=>{const p=d.loaded,g=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,g)};this.progressCallback_!==null&&l.addUploadProgressListener(c),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(c),this.pendingConnection_=null;const d=l.getErrorCode()===Ia.NO_ERROR,p=l.getStatus();if(!d||CR(p,this.additionalRetryCodes_)&&this.retry){const v=l.getErrorCode()===Ia.ABORT;i(!1,new cf(!1,null,v));return}const g=this.successCodes_.indexOf(p)!==-1;i(!0,new cf(g,l))})},t=(i,a)=>{const l=this.resolve_,c=this.reject_,d=a.connection;if(a.wasSuccessCode)try{const p=this.callback_(d,d.getResponse());XL(p)?l(p):l()}catch(p){c(p)}else if(d!==null){const p=Yv();p.serverResponse=d.getErrorText(),this.errorCallback_?c(this.errorCallback_(d,p)):c(p)}else if(a.canceled){const p=this.appDelete_?SR():AR();c(p)}else{const p=TR();c(p)}};this.canceled_?t(!1,new cf(!1,null,!0)):this.backoffId_=YL(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&QL(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class cf{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function eU(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function tU(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function nU(n,e){e&&(n["X-Firebase-GMPID"]=e)}function rU(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function iU(n,e,t,i,a,l,c=!0,d=!1){const p=RR(n.urlParams),g=n.url+p,v=Object.assign({},n.headers);return nU(v,e),eU(v,t),tU(v,l),rU(v,i),new ZL(g,n.method,v,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,a,c,d)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sU(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function aU(...n){const e=sU();if(e!==void 0){const t=new e;for(let i=0;i<n.length;i++)t.append(n[i]);return t.getBlob()}else{if(Qv())return new Blob(n);throw new yt(ft.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function oU(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lU(n){if(typeof atob>"u")throw GL("base-64");return atob(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Ym{constructor(e,t){this.data=e,this.contentType=t||null}}function uU(n,e){switch(n){case Wr.RAW:return new Ym(IR(e));case Wr.BASE64:case Wr.BASE64URL:return new Ym(xR(n,e));case Wr.DATA_URL:return new Ym(hU(e),fU(e))}throw Yv()}function IR(n){const e=[];for(let t=0;t<n.length;t++){let i=n.charCodeAt(t);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const l=i,c=n.charCodeAt(++t);i=65536|(l&1023)<<10|c&1023,e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(e)}function cU(n){let e;try{e=decodeURIComponent(n)}catch{throw Ku(Wr.DATA_URL,"Malformed data URL.")}return IR(e)}function xR(n,e){switch(n){case Wr.BASE64:{const a=e.indexOf("-")!==-1,l=e.indexOf("_")!==-1;if(a||l)throw Ku(n,"Invalid character '"+(a?"-":"_")+"' found: is it base64url encoded?");break}case Wr.BASE64URL:{const a=e.indexOf("+")!==-1,l=e.indexOf("/")!==-1;if(a||l)throw Ku(n,"Invalid character '"+(a?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=lU(e)}catch(a){throw a.message.includes("polyfill")?a:Ku(n,"Invalid character found")}const i=new Uint8Array(t.length);for(let a=0;a<t.length;a++)i[a]=t.charCodeAt(a);return i}class OR{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw Ku(Wr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=t[1]||null;i!=null&&(this.base64=dU(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}function hU(n){const e=new OR(n);return e.base64?xR(Wr.BASE64,e.rest):cU(e.rest)}function fU(n){return new OR(n).contentType}function dU(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(e,t){let i=0,a="";zT(e)?(this.data_=e,i=e.size,a=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=a}size(){return this.size_}type(){return this.type_}slice(e,t){if(zT(this.data_)){const i=this.data_,a=oU(i,e,t);return a===null?null:new Rs(a)}else{const i=new Uint8Array(this.data_.buffer,e,t-e);return new Rs(i,!0)}}static getBlob(...e){if(Qv()){const t=e.map(i=>i instanceof Rs?i.data_:i);return new Rs(aU.apply(null,t))}else{const t=e.map(c=>Id(c)?uU(Wr.RAW,c).data:c.data_);let i=0;t.forEach(c=>{i+=c.byteLength});const a=new Uint8Array(i);let l=0;return t.forEach(c=>{for(let d=0;d<c.length;d++)a[l++]=c[d]}),new Rs(a,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NR(n){let e;try{e=JSON.parse(n)}catch{return null}return JL(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pU(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function mU(n,e){const t=e.split("/").filter(i=>i.length>0).join("/");return n.length===0?t:n+"/"+t}function DR(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gU(n,e){return e}class Rn{constructor(e,t,i,a){this.server=e,this.local=t||e,this.writable=!!i,this.xform=a||gU}}let hf=null;function vU(n){return!Id(n)||n.length<2?n:DR(n)}function PR(){if(hf)return hf;const n=[];n.push(new Rn("bucket")),n.push(new Rn("generation")),n.push(new Rn("metageneration")),n.push(new Rn("name","fullPath",!0));function e(l,c){return vU(c)}const t=new Rn("name");t.xform=e,n.push(t);function i(l,c){return c!==void 0?Number(c):c}const a=new Rn("size");return a.xform=i,n.push(a),n.push(new Rn("timeCreated")),n.push(new Rn("updated")),n.push(new Rn("md5Hash",null,!0)),n.push(new Rn("cacheControl",null,!0)),n.push(new Rn("contentDisposition",null,!0)),n.push(new Rn("contentEncoding",null,!0)),n.push(new Rn("contentLanguage",null,!0)),n.push(new Rn("contentType",null,!0)),n.push(new Rn("metadata","customMetadata",!0)),hf=n,hf}function yU(n,e){function t(){const i=n.bucket,a=n.fullPath,l=new Qn(i,a);return e._makeStorageReference(l)}Object.defineProperty(n,"ref",{get:t})}function _U(n,e,t){const i={};i.type="file";const a=t.length;for(let l=0;l<a;l++){const c=t[l];i[c.local]=c.xform(i,e[c.server])}return yU(i,n),i}function kR(n,e,t){const i=NR(e);return i===null?null:_U(n,i,t)}function EU(n,e,t,i){const a=NR(e);if(a===null||!Id(a.downloadTokens))return null;const l=a.downloadTokens;if(l.length===0)return null;const c=encodeURIComponent;return l.split(",").map(g=>{const v=n.bucket,b=n.fullPath,w="/b/"+c(v)+"/o/"+c(b),O=xc(w,t,i),C=RR({alt:"media",token:g});return O+C})[0]}function MR(n,e){const t={},i=e.length;for(let a=0;a<i;a++){const l=e[a];l.writable&&(t[l.server]=n[l.local])}return JSON.stringify(t)}class El{constructor(e,t,i,a){this.url=e,this.method=t,this.handler=i,this.timeout=a,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bi(n){if(!n)throw Yv()}function Xv(n,e){function t(i,a){const l=kR(n,a,e);return Bi(l!==null),l}return t}function bU(n,e){function t(i,a){const l=kR(n,a,e);return Bi(l!==null),EU(l,a,n.host,n._protocol)}return t}function Oc(n){function e(t,i){let a;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?a=UL():a=LL():t.getStatus()===402?a=VL(n.bucket):t.getStatus()===403?a=jL(n.path):a=i,a.status=t.getStatus(),a.serverResponse=i.serverResponse,a}return e}function VR(n){const e=Oc(n);function t(i,a){let l=e(i,a);return i.getStatus()===404&&(l=ML(n.path)),l.serverResponse=a.serverResponse,l}return t}function TU(n,e,t){const i=e.fullServerUrl(),a=xc(i,n.host,n._protocol),l="GET",c=n.maxOperationRetryTime,d=new El(a,l,Xv(n,t),c);return d.errorHandler=VR(e),d}function AU(n,e,t){const i=e.fullServerUrl(),a=xc(i,n.host,n._protocol),l="GET",c=n.maxOperationRetryTime,d=new El(a,l,bU(n,t),c);return d.errorHandler=VR(e),d}function wU(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function LR(n,e,t){const i=Object.assign({},t);return i.fullPath=n.path,i.size=e.size(),i.contentType||(i.contentType=wU(null,e)),i}function SU(n,e,t,i,a){const l=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"};function d(){let j="";for(let G=0;G<2;G++)j=j+Math.random().toString().slice(2);return j}const p=d();c["Content-Type"]="multipart/related; boundary="+p;const g=LR(e,i,a),v=MR(g,t),b="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+v+`\r
--`+p+`\r
Content-Type: `+g.contentType+`\r
\r
`,w=`\r
--`+p+"--",O=Rs.getBlob(b,i,w);if(O===null)throw wR();const C={name:g.fullPath},M=xc(l,n.host,n._protocol),N="POST",z=n.maxUploadRetryTime,q=new El(M,N,Xv(n,t),z);return q.urlParams=C,q.headers=c,q.body=O.uploadData(),q.errorHandler=Oc(e),q}class Jf{constructor(e,t,i,a){this.current=e,this.total=t,this.finalized=!!i,this.metadata=a||null}}function Wv(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch{Bi(!1)}return Bi(!!t&&(e||["active"]).indexOf(t)!==-1),t}function RU(n,e,t,i,a){const l=e.bucketOnlyServerUrl(),c=LR(e,i,a),d={name:c.fullPath},p=xc(l,n.host,n._protocol),g="POST",v={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":c.contentType,"Content-Type":"application/json; charset=utf-8"},b=MR(c,t),w=n.maxUploadRetryTime;function O(M){Wv(M);let N;try{N=M.getResponseHeader("X-Goog-Upload-URL")}catch{Bi(!1)}return Bi(Id(N)),N}const C=new El(p,g,O,w);return C.urlParams=d,C.headers=v,C.body=b,C.errorHandler=Oc(e),C}function CU(n,e,t,i){const a={"X-Goog-Upload-Command":"query"};function l(g){const v=Wv(g,["active","final"]);let b=null;try{b=g.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Bi(!1)}b||Bi(!1);const w=Number(b);return Bi(!isNaN(w)),new Jf(w,i.size(),v==="final")}const c="POST",d=n.maxUploadRetryTime,p=new El(t,c,l,d);return p.headers=a,p.errorHandler=Oc(e),p}const FT=256*1024;function IU(n,e,t,i,a,l,c,d){const p=new Jf(0,0);if(c?(p.current=c.current,p.total=c.total):(p.current=0,p.total=i.size()),i.size()!==p.total)throw FL();const g=p.total-p.current;let v=g;a>0&&(v=Math.min(v,a));const b=p.current,w=b+v;let O="";v===0?O="finalize":g===v?O="upload, finalize":O="upload";const C={"X-Goog-Upload-Command":O,"X-Goog-Upload-Offset":`${p.current}`},M=i.slice(b,w);if(M===null)throw wR();function N(G,Q){const J=Wv(G,["active","final"]),x=p.current+v,S=i.size();let I;return J==="final"?I=Xv(e,l)(G,Q):I=null,new Jf(x,S,J==="final",I)}const z="POST",q=e.maxUploadRetryTime,j=new El(t,z,N,q);return j.headers=C,j.body=M.uploadData(),j.progressCallback=d||null,j.errorHandler=Oc(n),j}const Pn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Qm(n){switch(n){case"running":case"pausing":case"canceling":return Pn.RUNNING;case"paused":return Pn.PAUSED;case"success":return Pn.SUCCESS;case"canceled":return Pn.CANCELED;case"error":return Pn.ERROR;default:return Pn.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xU{constructor(e,t,i){if(WL(e)||t!=null||i!=null)this.next=e,this.error=t??void 0,this.complete=i??void 0;else{const l=e;this.next=l.next,this.error=l.error,this.complete=l.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lo(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}class OU{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ia.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ia.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ia.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,i,a,l){if(this.sent_)throw Pu("cannot .send() more than once");if(fl(e)&&i&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),l!==void 0)for(const c in l)l.hasOwnProperty(c)&&this.xhr_.setRequestHeader(c,l[c].toString());return a!==void 0?this.xhr_.send(a):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Pu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Pu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Pu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Pu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class NU extends OU{initXhr(){this.xhr_.responseType="text"}}function qo(){return new NU}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DU{isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}constructor(e,t,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=i,this._mappings=PR(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=a=>{if(this._request=void 0,this._chunkMultiplier=1,a._codeEquals(ft.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const l=this.isExponentialBackoffExpired();if(CR(a.status,[]))if(l)a=TR();else{this.sleepTime=Math.max(this.sleepTime*2,kL),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=a,this._transition("error")}},this._metadataErrorHandler=a=>{this._request=void 0,a._codeEquals(ft.CANCELED)?this.completeTransitions_():(this._error=a,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((a,l)=>{this._resolve=a,this._reject=l,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,i])=>{switch(this._state){case"running":e(t,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,t)=>{const i=RU(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),a=this._ref.storage._makeRequest(i,qo,e,t);this._request=a,a.getPromise().then(l=>{this._request=void 0,this._uploadUrl=l,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,i)=>{const a=CU(this._ref.storage,this._ref._location,e,this._blob),l=this._ref.storage._makeRequest(a,qo,t,i);this._request=l,l.getPromise().then(c=>{c=c,this._request=void 0,this._updateProgress(c.current),this._needToFetchStatus=!1,c.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=FT*this._chunkMultiplier,t=new Jf(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((a,l)=>{let c;try{c=IU(this._ref._location,this._ref.storage,i,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(p){this._error=p,this._transition("error");return}const d=this._ref.storage._makeRequest(c,qo,a,l,!1);this._request=d,d.getPromise().then(p=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(p.current),p.finalized?(this._metadata=p.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){FT*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const i=TU(this._ref.storage,this._ref._location,this._mappings),a=this._ref.storage._makeRequest(i,qo,e,t);this._request=a,a.getPromise().then(l=>{this._request=void 0,this._metadata=l,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const i=SU(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),a=this._ref.storage._makeRequest(i,qo,e,t);this._request=a,a.getPromise().then(l=>{this._request=void 0,this._metadata=l,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t=this._state==="paused";this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=AR(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=Qm(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,i,a){const l=new xU(t||void 0,i||void 0,a||void 0);return this._addObserver(l),()=>{this._removeObserver(l)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);t!==-1&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(Qm(this._state)){case Pn.SUCCESS:Lo(this._resolve.bind(null,this.snapshot))();break;case Pn.CANCELED:case Pn.ERROR:const t=this._reject;Lo(t.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(Qm(this._state)){case Pn.RUNNING:case Pn.PAUSED:e.next&&Lo(e.next.bind(e,this.snapshot))();break;case Pn.SUCCESS:e.complete&&Lo(e.complete.bind(e))();break;case Pn.CANCELED:case Pn.ERROR:e.error&&Lo(e.error.bind(e,this._error))();break;default:e.error&&Lo(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(e,t){this._service=e,t instanceof Qn?this._location=t:this._location=Qn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new La(e,t)}get root(){const e=new Qn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return DR(this._location.path)}get storage(){return this._service}get parent(){const e=pU(this._location.path);if(e===null)return null;const t=new Qn(this._location.bucket,e);return new La(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw $L(e)}}function PU(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new DU(n,new Rs(e),t)}function kU(n){n._throwIfRoot("getDownloadURL");const e=AU(n.storage,n._location,PR());return n.storage.makeRequestWithTokens(e,qo).then(t=>{if(t===null)throw HL();return t})}function MU(n,e){const t=mU(n._location.path,e),i=new Qn(n._location.bucket,t);return new La(n.storage,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VU(n){return/^[A-Za-z]+:\/\//.test(n)}function LU(n,e){return new La(n,e)}function UR(n,e){if(n instanceof Jv){const t=n;if(t._bucket==null)throw qL();const i=new La(t,t._bucket);return e!=null?UR(i,e):i}else return e!==void 0?MU(n,e):n}function UU(n,e){if(e&&VU(e)){if(n instanceof Jv)return LU(n,e);throw xg("To use ref(service, url), the first argument must be a Storage instance.")}else return UR(n,e)}function HT(n,e){const t=e==null?void 0:e[bR];return t==null?null:Qn.makeFromBucketSpec(t,n)}function jU(n,e,t,i={}){n.host=`${e}:${t}`;const a=fl(e);a&&Jg(`https://${n.host}`),n._isUsingEmulator=!0,n._protocol=a?"https":"http";const{mockUserToken:l}=i;l&&(n._overrideAuthToken=typeof l=="string"?l:KA(l,n.app.options.projectId))}class Jv{constructor(e,t,i,a,l,c=!1){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=a,this._firebaseVersion=l,this._isUsingEmulator=c,this._bucket=null,this._host=ER,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=DL,this._maxUploadRetryTime=PL,this._requests=new Set,a!=null?this._bucket=Qn.makeFromBucketSpec(a,this._host):this._bucket=HT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Qn.makeFromBucketSpec(this._url,e):this._bucket=HT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){qT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){qT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(hr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new La(this,e)}_makeRequest(e,t,i,a,l=!0){if(this._deleted)return new KL(SR());{const c=iU(e,this._appId,i,a,t,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,t){const[i,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,i,a).getPromise()}}const GT="@firebase/storage",$T="0.13.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jR="storage";function BU(n,e,t){return n=qt(n),PU(n,e,t)}function zU(n){return n=qt(n),kU(n)}function qU(n,e){return n=qt(n),UU(n,e)}function FU(n=tv(),e){n=qt(n);const i=od(n,jR).getImmediate({identifier:e}),a=HA("storage");return a&&HU(i,...a),i}function HU(n,e,t,i={}){jU(n,e,t,i)}function GU(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),a=n.getProvider("app-check-internal");return new Jv(t,i,a,e,ja)}function $U(){Da(new ks(jR,GU,"PUBLIC").setMultipleInstances(!0)),ei(GT,$T,""),ei(GT,$T,"esm2017")}$U();const KU={apiKey:"AIzaSyCgbYenPNn6g3lAXkEBj_aku7RdGk8ISto",authDomain:"concurso-interno-violino-d5d15.firebaseapp.com",projectId:"concurso-interno-violino-d5d15",storageBucket:"concurso-interno-violino-d5d15.firebasestorage.app",messagingSenderId:"881864008632",appId:"1:881864008632:web:9ddd51de89135d7278654d",measurementId:"G-4L141V2ZVM"},Zv=XA(KU),ai=gL(Zv),Nc=dk(Zv),YU=FU(Zv),BR="/concurso-interno-violino/assets/logo2025-CERF_oj1.png";function QU({user:n}){const e=Ua(),t=ui(),i=async()=>{try{await nP(Nc),e("/")}catch(p){console.error("Error signing out: ",p)}},a=()=>{e("/avaliar")},l=()=>{e("/resultados-juri")},c=t.pathname==="/avaliar",d=t.pathname==="/resultados-juri";return T.jsxs("nav",{className:"navbar",children:[T.jsxs("div",{className:"navbar-brand",children:[T.jsx("img",{src:Xg,alt:"Calouste Gulbenkian Logo",className:"navbar-logo-cmacg"}),T.jsx("img",{src:Wg,alt:"Repblica Portuguesa Logo",className:"navbar-logo"}),T.jsx("img",{src:BR,alt:"Logo",className:"navbar-logo2025"})]}),n&&T.jsxs("div",{className:"navbar-user-info",children:[T.jsxs("span",{className:"navbar-email",children:["Jri: ",n.email]}),!c&&T.jsx("button",{onClick:a,className:"navbar-button",children:"Participantes"}),!d&&T.jsx("button",{onClick:l,className:"navbar-button",children:"Resultados Finais"}),T.jsx("button",{onClick:i,className:"navbar-button",children:"Logout"})]})]})}function XU(){const[n,e]=hv(Nc);return e?T.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:T.jsx("p",{children:"Verificando autenticao..."})}):n?T.jsxs("div",{className:"jury-layout-container",children:[" ",T.jsx(QU,{user:n})," ",T.jsxs("div",{className:"jury-page-content-wrapper",children:[" ",T.jsx(sA,{})," "]})]}):T.jsx(pI,{to:"/jurylogin",replace:!0})}function WU(){return T.jsxs("div",{className:"public-main-page",children:[T.jsxs("header",{className:"hero-section",children:[T.jsx("img",{src:BR,alt:"V Concurso Interno de Violino 2025",className:"hero-logo"}),T.jsx("p",{className:"hero-tagline",children:"Bem-vindo  pgina oficial do nosso concurso! Descubra talentos, consulte o regulamento e acompanhe os resultados."})]}),T.jsxs("section",{className:"contest-info",children:[T.jsx("h2",{children:"Sobre o Concurso"}),T.jsx("p",{children:"Este  um espao dedicado  celebrao da msica e do talento jovem no violino. Organizado pela Escola Artstica do Conservatrio de Msica Calouste Gulbenkian de Aveiro..."})]}),T.jsxs("section",{className:"key-dates",children:[T.jsx("h2",{children:"Datas Importantes"}),T.jsxs("ul",{children:[T.jsxs("li",{children:[T.jsx("strong",{children:"Inscries:"})," DD/MM/AAAA - DD/MM/AAAA"]}),T.jsxs("li",{children:[T.jsx("strong",{children:"Concurso:"})," 15 de Junho de 2024"]}),T.jsxs("li",{children:[T.jsx("strong",{children:"Divulgao de Resultados:"})," DD/MM/AAAA (aps o trmino)"]})]})]})]})}const JU="/concurso-interno-violino/assets/side-C33sxMpG.png";function zR({isOpen:n,onClose:e,title:t,children:i}){return n?T.jsx("div",{className:"modal-overlay-sp",onClick:e,children:T.jsxs("div",{className:"modal-content-sp",onClick:a=>a.stopPropagation(),children:[T.jsxs("div",{className:"modal-header-sp",children:[t&&T.jsx("h3",{className:"modal-title-sp",children:t}),T.jsx("button",{className:"modal-close-btn-sp",onClick:e,children:""})]}),T.jsx("div",{className:"modal-body-sp",children:i}),T.jsx("div",{className:"modal-footer-sp",children:T.jsx("button",{className:"modal-ok-btn-sp",onClick:e,children:"OK"})})]})}):null}const ZU=["A - 2 ano de iniciao","B - 3 e 4 ano de iniciao","C - 1 e 2 Grau","D - 3 e 4 Grau","E - 5 e 6 Grau","F - 7 e 8 Grau"],e4=["2 ano de iniciao","3 ano de iniciao","4 ano de iniciao","1 Grau","2 Grau","3 Grau","4 Grau","5 Grau","6 Grau","7 Grau","8 Grau"];function t4(){const[n,e]=F.useState({nome:"",email:"",categoria:"",grau:"",nomeProfessor:"",peca1:"",peca2:"",partitura1File:null,partitura2File:null,fotoFile:null,comprovativoFile:null}),[t,i]=F.useState(!1),[a,l]=F.useState({}),[c,d]=F.useState(!1),[p,g]=F.useState({title:"",message:""}),v=C=>{const{name:M,value:N,type:z,files:q}=C.target;e(z==="file"?j=>({...j,[M]:q&&q.length>0?q[0]:null}):j=>({...j,[M]:N}))},b=async(C,M,N)=>{if(!C)return null;const q=`inscricoes/${M.replace(/[^a-zA-Z0-9_]/g,"_").toLowerCase()||"participante_desconhecido"}/${N}/${C.name}`,j=qU(YU,q),G=BU(j,C);return new Promise((Q,J)=>{G.on("state_changed",x=>{const S=x.bytesTransferred/x.totalBytes*100;l(I=>({...I,[`${N}_${C.name}`]:Math.round(S)}))},x=>{console.error(`Upload failed for ${C.name} in ${N}:`,x),l(S=>({...S,[`${N}_${C.name}`]:"Erro no Upload!"})),J(x)},async()=>{try{const x=await zU(G.snapshot.ref);l(S=>({...S,[`${N}_${C.name}`]:100})),Q(x)}catch(x){console.error(`Failed to get download URL for ${C.name} in ${N}:`,x),J(x)}})})},w=async C=>{if(C.preventDefault(),i(!0),l({}),!n.nome||!n.email||!n.categoria||!n.grau||!n.nomeProfessor||!n.peca1){g({title:"Campos Obrigatrios",message:"Por favor, preencha todos os campos obrigatrios (Nome, E-mail, Categoria, Grau, Professor, Pea 1)."}),d(!0),i(!1);return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n.email)){g({title:"E-mail Invlido",message:"Por favor, insira um endereo de e-mail vlido."}),d(!0),i(!1);return}if(!n.partitura1File||!n.fotoFile||!n.comprovativoFile){g({title:"Ficheiros Obrigatrios",message:"Partitura da Pea 1, Foto do Participante e Comprovativo de Inscrio so obrigatrios."}),d(!0),i(!1);return}try{const N=n.nome,z=await b(n.partitura1File,N,"partituraPeca1");let q=n.partitura2File?await b(n.partitura2File,N,"partituraPeca2"):null;const j=await b(n.fotoFile,N,"fotoParticipante"),G=await b(n.comprovativoFile,N,"comprovativoInscricao");if(!z||!j||!G)throw new Error("Falha no upload de um ou mais ficheiros obrigatrios. Verifique o progresso individual dos ficheiros.");const Q={nome:n.nome,email:n.email,categoria:n.categoria,grau:n.grau,nomeProfessor:n.nomeProfessor,peca1:n.peca1,peca2:n.peca2||"",partitura1Url:z,partitura2Url:q||"",fotoUrl:j,comprovativoInscricaoUrl:G,dataInscricao:_R(),status:"Pendente"};await vR(Va(ai,"inscricoes"),Q),g({title:"Sucesso!",message:"Inscrio submetida com sucesso! Obrigado pela sua participao."}),d(!0),e({nome:"",email:"",categoria:"",grau:"",nomeProfessor:"",peca1:"",peca2:"",partitura1File:null,partitura2File:null,fotoFile:null,comprovativoFile:null}),C.target&&typeof C.target.reset=="function"&&C.target.reset(),l({})}catch(N){console.error("Erro ao submeter inscrio:",N),g({title:"Erro na Submisso",message:`Ocorreu um erro ao enviar a sua inscrio: ${N.message||"Por favor, tente novamente ou contacte o suporte."}`}),d(!0)}finally{i(!1)}},O=()=>{d(!1)};return T.jsxs("div",{className:"submission-page-container",children:[T.jsx(zR,{isOpen:c,onClose:O,title:p.title,children:T.jsx("p",{children:p.message})}),T.jsxs("header",{className:"page-header-submission",children:[T.jsx("h1",{children:"Formulrio de Inscrio"}),T.jsx("p",{children:"V Concurso Interno de Violino"})]}),T.jsxs("div",{className:"submission-layout-grid",children:[T.jsx("div",{className:"submission-form-container",children:T.jsxs("form",{onSubmit:w,className:"submission-form-content",children:[T.jsxs("div",{className:"form-section",children:[T.jsx("h3",{children:"Dados do Participante"}),T.jsxs("div",{className:"form-group",children:[T.jsx("label",{htmlFor:"nome",children:"Nome Completo:"}),T.jsx("input",{type:"text",id:"nome",name:"nome",value:n.nome,onChange:v,required:!0})]}),T.jsxs("div",{className:"form-group",children:[T.jsx("label",{htmlFor:"email",children:"E-mail de Contacto:"}),T.jsx("input",{type:"email",id:"email",name:"email",value:n.email,onChange:v,required:!0,placeholder:"exemplo@dominio.com"})]}),T.jsxs("div",{className:"form-group",children:[T.jsx("label",{htmlFor:"categoria",children:"Categoria:"}),T.jsxs("select",{id:"categoria",name:"categoria",value:n.categoria,onChange:v,required:!0,children:[T.jsx("option",{value:"",children:"Selecione a Categoria..."}),ZU.map(C=>T.jsx("option",{value:C,children:C},C))]})]}),T.jsxs("div",{className:"form-group",children:[T.jsx("label",{htmlFor:"grau",children:"Grau de Ensino Artstico:"}),T.jsxs("select",{id:"grau",name:"grau",value:n.grau,onChange:v,required:!0,children:[T.jsx("option",{value:"",children:"Selecione o Grau..."}),e4.map(C=>T.jsx("option",{value:C,children:C},C))]})]}),T.jsxs("div",{className:"form-group",children:[T.jsx("label",{htmlFor:"nomeProfessor",children:"Nome do Professor:"}),T.jsx("input",{type:"text",id:"nomeProfessor",name:"nomeProfessor",value:n.nomeProfessor,onChange:v,required:!0})]})]}),T.jsxs("div",{className:"form-section",children:[T.jsx("h3",{children:"Repertrio"}),T.jsxs("div",{className:"form-group",children:[T.jsx("label",{htmlFor:"peca1",children:"Pea 1 (Ttulo e Compositor):"}),T.jsx("input",{type:"text",id:"peca1",name:"peca1",value:n.peca1,onChange:v,required:!0})]}),T.jsxs("div",{className:"form-group",children:[T.jsx("label",{htmlFor:"peca2",children:"Pea 2 (Ttulo e Compositor - Opcional):"}),T.jsx("input",{type:"text",id:"peca2",name:"peca2",value:n.peca2,onChange:v})]})]}),T.jsxs("div",{className:"form-section",children:[T.jsx("h3",{children:"Documentos (PDF ou Imagem)"}),T.jsxs("div",{className:"form-group file-group",children:[T.jsx("label",{htmlFor:"partitura1File",children:"Partitura Pea 1:"}),T.jsx("input",{type:"file",id:"partitura1File",name:"partitura1File",onChange:v,accept:".pdf,.jpg,.jpeg,.png",required:!0}),n.partitura1File&&T.jsx("span",{className:"file-name-display",children:n.partitura1File.name})]}),T.jsxs("div",{className:"form-group file-group",children:[T.jsx("label",{htmlFor:"partitura2File",children:"Partitura Pea 2 (Opcional):"}),T.jsx("input",{type:"file",id:"partitura2File",name:"partitura2File",onChange:v,accept:".pdf,.jpg,.jpeg,.png"}),n.partitura2File&&T.jsx("span",{className:"file-name-display",children:n.partitura2File.name})]}),T.jsxs("div",{className:"form-group file-group",children:[T.jsx("label",{htmlFor:"fotoFile",children:"Fotografia do Participante:"}),T.jsx("input",{type:"file",id:"fotoFile",name:"fotoFile",onChange:v,accept:".jpg,.jpeg,.png",required:!0}),n.fotoFile&&T.jsx("span",{className:"file-name-display",children:n.fotoFile.name})]}),T.jsxs("div",{className:"form-group file-group",children:[T.jsx("label",{htmlFor:"comprovativoFile",children:"Comprovativo Inscrio:"}),T.jsx("input",{type:"file",id:"comprovativoFile",name:"comprovativoFile",onChange:v,accept:".pdf,.jpg,.jpeg,.png",required:!0}),n.comprovativoFile&&T.jsx("span",{className:"file-name-display",children:n.comprovativoFile.name})]})]}),t&&Object.keys(a).length>0&&T.jsxs("div",{className:"form-section upload-progress-display",children:[T.jsx("h4",{children:"Progresso do Upload:"}),Object.entries(a).map(([C,M])=>T.jsxs("div",{className:"progress-item",children:[T.jsxs("span",{className:"file-name-progress",children:[C.length>40?"..."+C.slice(-37):C,":"]}),T.jsx("div",{className:"progress-bar-container",children:T.jsx("div",{className:"progress-bar",style:{width:`${typeof M=="number"?M:0}%`},children:typeof M=="number"&&M>5||typeof M=="string"?typeof M=="number"?`${M}%`:M:""})})]},C))]}),T.jsx("button",{type:"submit",className:"submit-btn-submission",disabled:t,children:t?"A Enviar Inscrio...":"Submeter Inscrio"})]})}),T.jsx("div",{className:"submission-image-container",children:T.jsx("img",{src:JU,alt:"Concurso de Violino",className:"submission-side-image"})})]})]})}function n4(){return T.jsxs("div",{className:"regulamento-page-container",children:[T.jsx("header",{className:"page-header-rg",children:T.jsx("h1",{children:"Regulamento do V Concurso Interno de Violino"})}),T.jsxs("section",{className:"regulamento-section",children:[T.jsx("h2",{children:"Artigo 1  Objetivos"}),T.jsx("p",{children:"O V Concurso Interno de Violino, promovido pela Escola Artstica do Conservatrio de Msica Calouste Gulbenkian de Aveiro, visa:"}),T.jsxs("ul",{children:[T.jsx("li",{children:"Estimular o estudo do violino entre os alunos da instituio."}),T.jsx("li",{children:"Proporcionar uma plataforma para a apresentao pblica do trabalho desenvolvido."}),T.jsx("li",{children:"Promover o intercmbio de experincias musicais entre os participantes."}),T.jsx("li",{children:"Identificar e valorizar jovens talentos."})]})]}),T.jsxs("section",{className:"regulamento-section",children:[T.jsx("h2",{children:"Artigo 2  Elegibilidade e Categorias"}),T.jsxs("ol",{children:[T.jsxs("li",{children:[T.jsx("strong",{children:"Elegibilidade:"})," Podem concorrer todos os alunos regularmente matriculados na disciplina de Violino da Escola Artstica do Conservatrio de Msica Calouste Gulbenkian de Aveiro no presente ano letivo."]}),T.jsxs("li",{children:[T.jsx("strong",{children:"Categorias:"})," O concurso est dividido nas seguintes categorias, de acordo com o nvel de proficincia e idade (exemplos):",T.jsxs("ul",{children:[T.jsx("li",{children:"Categoria A: Iniciantes (at X anos de estudo / Y idade)"}),T.jsx("li",{children:"Categoria B: Intermdios Nvel 1 (at X anos de estudo / Y idade)"}),T.jsx("li",{children:"Categoria C: Intermdios Nvel 2 (at X anos de estudo / Y idade)"}),T.jsx("li",{children:"Categoria D: Avanados (mais de X anos de estudo / Y idade)"})]}),T.jsx("p",{children:T.jsx("em",{children:"Nota: A definio exata das categorias ser detalhada pela organizao."})})]})]})]}),T.jsxs("section",{className:"regulamento-section",children:[T.jsx("h2",{children:"Artigo 3  Inscries"}),T.jsx("p",{children:"As inscries devero ser efetuadas online atravs do formulrio disponvel na pgina do concurso, dentro do prazo estipulado. Ser necessrio submeter:"}),T.jsxs("ul",{children:[T.jsx("li",{children:"Ficha de inscrio devidamente preenchida."}),T.jsx("li",{children:"Indicao das peas a apresentar (conforme Artigo 4)."}),T.jsx("li",{children:"Comprovativo de pagamento da taxa de inscrio (se aplicvel)."}),T.jsx("li",{children:"Partituras das peas (em formato PDF)."}),T.jsx("li",{children:"Fotografia tipo passe do participante."})]}),T.jsx("p",{children:T.jsx("em",{children:"A no submisso de todos os elementos dentro do prazo poder invalidar a inscrio."})})]}),T.jsxs("section",{className:"regulamento-section",children:[T.jsx("h2",{children:"Artigo 4  Repertrio"}),T.jsx("p",{children:"Cada participante dever apresentar X peas de estilos contrastantes, sendo uma delas obrigatoriamente de compositor portugus (ou outra especificao). A durao total da apresentao no dever exceder:"}),T.jsxs("ul",{children:[T.jsx("li",{children:"Categoria A: Y minutos"}),T.jsx("li",{children:"Categoria B: Z minutos"})]}),T.jsx("p",{children:"As peas devem ser executadas de memria (ou indicar se  opcional/obrigatrio)."})]}),T.jsxs("section",{className:"regulamento-section",children:[T.jsx("h2",{children:"Artigo 5  Jri"}),T.jsx("p",{children:"O jri ser constitudo por personalidades de reconhecido mrito no panorama musical e pedaggico. A composio do jri ser divulgada na pgina oficial do concurso. As decises do jri so soberanas e irrecorrveis."})]}),T.jsxs("section",{className:"regulamento-section",children:[T.jsx("h2",{children:"Artigo 6  Avaliao e Classificao"}),T.jsx("p",{children:"Os critrios de avaliao incluiro, mas  se limitaro a:"}),T.jsxs("ul",{children:[T.jsx("li",{children:"Afinacao"}),T.jsx("li",{children:"Rigor ritmico e metrico"}),T.jsx("li",{children:"Qualidade sonora (Timbre, Projecao, Articulacao)"}),T.jsx("li",{children:"Tecnica instrumental (Posicao, Arcos, Dedilhacao)"}),T.jsx("li",{children:"Interpretacao (Expressividade, Fraseado, Dinamicas, Caracter)"}),T.jsx("li",{children:"Presenca em palco e adequacao postural"})]}),T.jsx("p",{children:"Sero atribudos prmios aos primeiros classificados de cada categoria. Podero ser atribudas menes honrosas a critrio do jri."})]}),T.jsxs("section",{className:"regulamento-section",children:[T.jsx("h2",{children:"Artigo 7  Disposies Finais"}),T.jsx("p",{children:"Casos omissos neste regulamento sero resolvidos pela comisso organizadora do concurso. A participao no concurso implica a aceitao integral do presente regulamento."})]}),T.jsxs("footer",{className:"page-footer-rg",children:[T.jsx("p",{children:"Escola Artstica do Conservatrio de Msica Calouste Gulbenkian de Aveiro"}),T.jsx("p",{children:"Data da ltima atualizao do regulamento: DD/MM/AAAA"})]})]})}function r4(){return T.jsxs("div",{children:[T.jsx("h2",{children:"Participantes - V Edio"}),T.jsx("p",{children:"Lista de participantes inscritos..."})]})}const i4="/concurso-interno-violino/assets/juri-placeholder-1-D9XpZcmu.jpeg",s4="/concurso-interno-violino/assets/juri-placeholder-2-CJz401Mb.jpeg",a4="/concurso-interno-violino/assets/juri-placeholder-3-CzcGkZLP.jpeg";function o4(){return T.jsxs("div",{className:"juri-info-page-container",children:[T.jsx("header",{className:"page-header-ji",children:T.jsx("h1",{children:"Membros do Jri"})}),T.jsxs("div",{className:"jury-members-grid",children:[T.jsxs("div",{className:"jury-member-card",children:[T.jsx("div",{className:"jury-member-image-container",children:T.jsx("img",{src:i4,alt:"David Bento",className:"jury-member-image"})}),T.jsxs("div",{className:"jury-member-info",children:[T.jsx("h3",{children:"David Bento"}),T.jsx("h4",{children:"Jovem promessa do violino portugus"}),T.jsx("p",{className:"jury-member-bio",children:"David Bento conta-se entre os violinistas portugueses mais activos da sua gerao, e tem atuado regularmente em recital e a solo com orquestra, tanto na sua terra natal como no estrangeiro. Como entusiasta apaixonado de msica de cmara, atua regularmente em festivais internacionais de destaque tais como Stockholm Kammermusik Festival, ProMusica Carynthia, Attergau Kulturtage, Styriarte Festival, Steirische Kammermusikfestival, Marvo International Music Festival entre outros. David Bento colabora com msicos proeminentes e msicos jovens, tais como Tero Latvala, Varoujan Bartikian, Alexander Zemtsov, Franz Bartholomey, Eszter Haffner, Jevgnijs epoveckis, Markus Schirmer, Reinhard Latzko, Benjamin Herzl. Nos ltimos anos tem vindo a apresentar-se em alguns dos mais prestigiados sales internacionais, tais como, Salzburg Festspielhaus, Paris Philarmonie, Palau de la Musica Catalana, Wien Musikverein e Graz Musikverein."})]})]}),T.jsxs("div",{className:"jury-member-card",children:[T.jsx("div",{className:"jury-member-image-container",children:T.jsx("img",{src:s4,alt:"Judit Bnk",className:"jury-member-image"})}),T.jsxs("div",{className:"jury-member-info",children:[T.jsx("h3",{children:"Judit Bnk"}),T.jsx("h4",{children:"Chefe de Naipe de Viola da Orquestra Filarmonia das Beiras"}),T.jsx("p",{className:"jury-member-bio",children:"Judit Bnk estudou violino e viola de arco na Hungria e na ustria, tendo concludo diplomas de solista e de ensino. Foi bolseira ERASMUS na Escola Superior de Msica e Artes do Espetculo do Instituto Politcnico do Porto, onde estudou com o professor Ryszard Woycicki e a professora Amandine Beyer.  viola solista da Orquestra Filarmonia das Beiras desde 2009 e j se apresentou com vrias orquestras internacionais. Mantm intensa atividade na msica de cmara, colaborando com diversas formaes de cordas, incluindo o Trio Atlntico."})]})]}),T.jsxs("div",{className:"jury-member-card",children:[T.jsx("div",{className:"jury-member-image-container",children:T.jsx("img",{src:a4,alt:"Elitza Mladenova",className:"jury-member-image"})}),T.jsxs("div",{className:"jury-member-info",children:[T.jsx("h3",{children:"Elitza Mladenova"}),T.jsx("h4",{children:"1 violino da Orquestra Filarmonia das Beiras"}),T.jsx("p",{className:"jury-member-bio"})]})]})]})]})}const KT=["Iniciante","Intermdio","Avanado"];function l4(){const[n,e]=F.useState({}),[t,i]=F.useState(!0),[a,l]=F.useState(""),[c,d]=F.useState(!1);F.useEffect(()=>{(async()=>{i(!0);try{const v=Sd(ai,"contestConfig","vConcurso2025"),b=await OL(v);b.exists()&&b.data().resultsLive===!0?d(!0):d(!1)}catch(v){console.error("Error fetching contest config:",v),d(!1),l("No foi possvel verificar o estado da publicao dos resultados.")}})()},[]),F.useEffect(()=>{if(!c){i(!1),e({});return}(async()=>{l("");try{const v=hc(Va(ai,"publishedScores_v2025"),fc("category"),fc("place")),O=(await dc(v)).docs.map(C=>({id:C.id,...C.data()})).reduce((C,M)=>{const N=M.category||"Sem Categoria";return C[N]||(C[N]=[]),C[N].push(M),C},{});e(O)}catch(v){console.error("Error fetching published scores:",v),l("No foi possvel carregar os resultados publicados. Por favor, tente mais tarde.")}finally{i(!1)}})()},[c]);const p=F.useMemo(()=>Object.keys(n).sort((g,v)=>{const b=KT.indexOf(g),w=KT.indexOf(v);return b===-1&&w===-1?g.localeCompare(v):b===-1?1:w===-1?-1:b-w}),[n]);return t?T.jsxs("div",{className:"public-final-scores-page",children:[T.jsx("header",{className:"page-header-pfs",children:T.jsx("h1",{children:"Resultados Finais do Concurso"})}),T.jsx("p",{className:"loading-text-pfs",children:"A verificar e carregar resultados..."})]}):c?T.jsxs("div",{className:"public-final-scores-page",children:[T.jsxs("header",{className:"page-header-pfs",children:[T.jsx("h1",{children:"Resultados Finais do Concurso"}),T.jsx("p",{className:"page-subtitle-pfs",children:"Classificao final por categoria."})]}),a&&T.jsx("p",{className:"error-message-pfs",children:a}),!a&&p.length===0&&!t&&T.jsx("p",{className:"no-results-message-pfs",children:"Ainda no h resultados disponveis para consulta."}),p.map(g=>n[g]&&n[g].length>0&&T.jsxs("div",{className:"category-section-pfs",children:[T.jsx("h2",{className:"category-title-pfs",children:g}),T.jsxs("table",{className:"scores-table-pfs",children:[T.jsx("thead",{children:T.jsxs("tr",{children:[T.jsx("th",{children:"Lugar"}),T.jsx("th",{children:"Participante"})]})}),T.jsx("tbody",{children:n[g].map(v=>T.jsxs("tr",{children:[" ",T.jsxs("td",{children:[v.place,""]})," ",T.jsx("td",{children:v.name})]},v.id||v.name))})]})]},g))]}):T.jsxs("div",{className:"public-final-scores-page",children:[T.jsx("header",{className:"page-header-pfs",children:T.jsx("h1",{children:"Resultados Finais do Concurso"})}),T.jsxs("div",{className:"results-pending-message",children:[T.jsx("p",{children:"Os resultados finais sero divulgados aps a concluso e apuramento do concurso."}),T.jsx("p",{children:"Por favor, volte mais tarde!"})]})]})}function u4(){const[n,e]=F.useState(""),[t,i]=F.useState(""),[a,l]=F.useState(""),c=Ua(),d=async p=>{p.preventDefault(),l("");try{await J2(Nc,n,t),c("/avaliar")}catch{l("Email ou senha invlidos")}};return T.jsxs("div",{className:"login-container",children:[T.jsx("img",{src:Xg,alt:"Calouste Gulbenkian Logo",className:"login-logo-main"}),T.jsx("h1",{className:"title-title",children:"Concurso Interno Violino 2025"}),T.jsx("h3",{className:"login-title",children:"Login do Jri"}),T.jsxs("form",{onSubmit:d,className:"login-form",children:[T.jsx("input",{className:"login-input",type:"email",placeholder:"Email",value:n,onChange:p=>e(p.target.value),required:!0}),T.jsx("input",{className:"login-input",type:"password",placeholder:"Senha",value:t,onChange:p=>i(p.target.value),required:!0}),a&&T.jsx("p",{className:"login-error",children:a}),T.jsx("button",{className:"login-button",type:"submit",children:"Entrar"})]}),T.jsx("img",{src:Wg,alt:"Repblica Portuguesa Logo",className:"login-logo-footer"})]})}function c4({isOpen:n,onClose:e,pdfUrl:t,title:i}){if(!n||!t)return null;const a=`https://docs.google.com/gview?url=${encodeURIComponent(t)}&embedded=true`;return T.jsx("div",{className:"pdf-modal-overlay-pv",onClick:e,children:T.jsxs("div",{className:"pdf-modal-content-pv",onClick:l=>l.stopPropagation(),children:[T.jsxs("div",{className:"pdf-modal-header-pv",children:[T.jsx("h3",{className:"pdf-modal-title-pv",children:i||"Visualizador de Partitura"}),T.jsx("button",{className:"pdf-modal-close-btn-pv",onClick:e,children:""})]}),T.jsx("div",{className:"pdf-modal-body-pv",children:T.jsxs("iframe",{src:a,title:i||"Partitura PDF",width:"100%",height:"100%",style:{border:"none"},allowFullScreen:!0,children:["Seu browser no suporta iframes ou o PDF no pde ser carregado.",T.jsx("a",{href:t,target:"_blank",rel:"noopener noreferrer",children:"Abrir PDF numa nova aba."})]})})]})})}const h4=()=>T.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16",className:"view-score-icon",children:[T.jsx("path",{d:"M4 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H4zm0 1h8a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1z"}),T.jsx("path",{d:"M4.5 12.5A.5.5 0 0 1 5 12h3a.5.5 0 0 1 0 1H5a.5.5 0 0 1-.5-.5zm0-2A.5.5 0 0 1 5 10h6a.5.5 0 0 1 0 1H5a.5.5 0 0 1-.5-.5zm0-2A.5.5 0 0 1 5 8h6a.5.5 0 0 1 0 1H5a.5.5 0 0 1-.5-.5zm0-2A.5.5 0 0 1 5 6h6a.5.5 0 0 1 0 1H5a.5.5 0 0 1-.5-.5zm0-2A.5.5 0 0 1 5 4h6a.5.5 0 0 1 0 1H5a.5.5 0 0 1-.5-.5z"})]});function f4({participant:n,awardOptions:e,onSaveAward:t}){const[i,a]=F.useState(""),[l,c]=F.useState(!1),[d,p]=F.useState(""),[g,v]=F.useState("");F.useEffect(()=>{n&&n.finalOfficialAward!==void 0?a(n.finalOfficialAward):a(n&&e&&e.length>0?e[0].value:"")},[n,e]);const b=N=>{a(N.target.value)},w=()=>{n&&t&&t(n.id,i)},O=(N,z)=>{N&&typeof N=="string"&&N.trim()!==""?(p(N),v(z),c(!0)):(alert("Partitura no disponvel ou URL invlida."),console.warn("Attempted to open PDF with invalid URL:",N))},C=()=>{c(!1),p(""),v("")};if(!n)return T.jsxs("div",{className:"panel participant-info-panel",children:[T.jsx("h3",{className:"panel-title",children:"Informao do Participante"}),T.jsx("p",{children:"Selecione um participante na lista para ver os detalhes e atribuir classificao."})]});const M=N=>!n||!n.pecasData?null:n.pecas&&n.pecas[0]===N&&n.pecasData.partitura1Url?n.pecasData.partitura1Url:n.pecas&&n.pecas[1]===N&&n.pecasData.partitura2Url?n.pecasData.partitura2Url:null;return n&&(console.log("ParticipantInfoPanel - Participant Object:",JSON.parse(JSON.stringify(n))),console.log("ParticipantInfoPanel - Pecas Array:",n.pecas),n.pecas&&n.pecas.length>0&&n.pecas.forEach((N,z)=>console.log(`Piece ${z}:`,N,"URL:",N.url,"Type of URL:",typeof N.url))),T.jsxs(T.Fragment,{children:[" ",T.jsx(c4,{isOpen:l,onClose:C,pdfUrl:d,title:g}),T.jsxs("div",{className:"panel participant-info-panel",children:[T.jsx("h3",{className:"panel-title",children:"Informao do Participante"}),n.fotoUrl&&T.jsx("img",{src:n.fotoUrl,alt:`Foto de ${n.nome}`,className:"participant-photo-pip"}),T.jsxs("div",{className:"participant-details-pip",children:[T.jsxs("p",{children:[T.jsx("strong",{children:"Nome:"})," ",n.nome]}),T.jsxs("p",{children:[T.jsx("strong",{children:"Categoria:"})," ",n.categoria]}),n.grau&&T.jsxs("p",{children:[T.jsx("strong",{children:"Grau:"})," ",n.grau]}),n.pecas&&Array.isArray(n.pecas)&&n.pecas.length>0&&T.jsxs("div",{className:"pecas-section-pip",children:[T.jsx("p",{children:T.jsx("strong",{children:"Peas a Apresentar:"})}),T.jsx("ul",{children:n.pecas.map((N,z)=>{const q=typeof N=="object"&&N!==null?N.nome:N,j=typeof N=="object"&&N!==null?N.url:M(q);return q?T.jsxs("li",{className:"peca-item-pip",children:[T.jsx("span",{children:q}),j&&T.jsx("button",{type:"button",onClick:()=>O(j,q),className:"view-score-button-pip",title:`Ver partitura de ${q}`,children:T.jsx(h4,{})})]},z):null})})]})]}),T.jsxs("div",{className:"award-assignment-section-pip panel-section-pip",children:[T.jsx("h4",{children:"Modificar classificao atual"}),T.jsxs("div",{className:"form-group pip-form-group",children:[T.jsx("label",{htmlFor:`officialAwardSelect-${n.id}`,children:"Classificao Final:"}),T.jsx("select",{id:`officialAwardSelect-${n.id}`,value:i,onChange:b,className:"form-select pip-form-select",children:(e||[]).map(N=>T.jsx("option",{value:N.value,children:N.label},N.value))})]}),T.jsx("button",{type:"button",onClick:w,className:"button-pip-confirm-award",disabled:!n||n.finalOfficialAward===i&&i!=="",children:"Confirmar Classificao"}),n.finalOfficialAward&&n.finalOfficialAward!==""&&T.jsx("p",{className:"current-award-pip",children:T.jsxs("em",{children:["Classificao Oficial Atual: ",n.finalOfficialAward]})})]})]})]})}const d4=["afinacao","ritmo","som","postura","expressividade","presenca"];function p4({participant:n,juryEmail:e}){const t={afinacao:5,ritmo:5,som:5,postura:5,expressividade:5,presenca:5,pontoForte:"",sugestao:""},[i,a]=F.useState(t),[l,c]=F.useState(!1),[d,p]=F.useState(!1),[g,v]=F.useState(""),[b,w]=F.useState(""),[O,C]=F.useState(null);F.useEffect(()=>{(async()=>{var j,G,Q,J,x,S;if(!n||!e){a(t),C(null),v(""),w("");return}p(!0),v(""),w("");try{const I=hc(Va(ai,"avaliacoes"),UT("participantId","==",n.id),UT("juryEmail","==",e)),D=await dc(I);if(D.empty)a(t),C(null);else{const V=D.docs[0],U=V.data();a({afinacao:((j=U.scores)==null?void 0:j.afinacao)!==void 0?U.scores.afinacao:5,ritmo:((G=U.scores)==null?void 0:G.ritmo)!==void 0?U.scores.ritmo:5,som:((Q=U.scores)==null?void 0:Q.som)!==void 0?U.scores.som:5,postura:((J=U.scores)==null?void 0:J.postura)!==void 0?U.scores.postura:5,expressividade:((x=U.scores)==null?void 0:x.expressividade)!==void 0?U.scores.expressividade:5,presenca:((S=U.scores)==null?void 0:S.presenca)!==void 0?U.scores.presenca:5,pontoForte:U.pontoForte||"",sugestao:U.sugestao||""}),C(V.id)}}catch(I){console.error("Error fetching existing evaluation:",I),w("Erro ao carregar avaliao existente."),a(t),C(null)}finally{p(!1)}})()},[n,e]);const M=q=>{const{name:j,value:G}=q.target;a({...i,[j]:G})},N=q=>{const{name:j,value:G}=q.target;a({...i,[j]:parseInt(G)})},z=async q=>{if(q.preventDefault(),!n){w("Por favor, selecione um participante primeiro.");return}w(""),v(""),c(!0);const j={participantId:n.id,participantName:n.nome,participantCategoria:n.categoria,juryEmail:e,scores:{afinacao:i.afinacao,ritmo:i.ritmo,som:i.som,postura:i.postura,expressividade:i.expressividade,presenca:i.presenca},pontoForte:i.pontoForte,sugestao:i.sugestao,timestamp:_R()};try{if(O){const G=Sd(ai,"avaliacoes",O);await gR(G,j,{merge:!0}),v(" Avaliao atualizada com sucesso!")}else{const G=await vR(Va(ai,"avaliacoes"),j);C(G.id),v(" Avaliao enviada com sucesso!")}}catch(G){console.error("Erro ao salvar avaliao:",G),w("Erro ao enviar/atualizar. Tente novamente.")}finally{c(!1)}};return n?d?T.jsxs("div",{className:"panel scoring-panel",children:[T.jsxs("h3",{className:"panel-title",children:["Avaliar: ",n.nome," (",n.categoria,")"]}),T.jsx("p",{className:"loading-text-panel",children:"Carregando dados da avaliao..."})," "]}):T.jsxs("div",{className:"panel scoring-panel",children:[T.jsxs("h3",{className:"panel-title",children:["Avaliar: ",n.nome," (",n.categoria,")",O&&T.jsx("span",{className:"editing-indicator",children:" (Editando)"})," "]}),g&&T.jsx("div",{className:"message success-message",children:g}),b&&T.jsx("div",{className:"message error-message",children:b}),T.jsxs("form",{onSubmit:z,children:[d4.map(q=>T.jsxs("div",{className:"range-slider-container",children:[T.jsx("label",{htmlFor:q,className:"form-label",children:q.charAt(0).toUpperCase()+q.slice(1)}),T.jsxs("div",{className:"range-slider-wrapper",children:[T.jsx("input",{type:"range",id:q,name:q,min:"0",max:"10",value:i[q],onChange:N,className:"form-range"}),T.jsx("div",{className:"range-value",children:i[q]})]})]},q)),T.jsxs("div",{className:"form-group",children:[T.jsx("label",{htmlFor:"pontoForte",className:"form-label",children:"Ponto forte da atuao"}),T.jsx("textarea",{id:"pontoForte",name:"pontoForte",placeholder:"Descreva o principal ponto forte...",value:i.pontoForte,onChange:M,className:"form-textarea"})]}),T.jsxs("div",{className:"form-group",children:[T.jsx("label",{htmlFor:"sugestao",className:"form-label",children:"Sugesto para evoluo"}),T.jsx("textarea",{id:"sugestao",name:"sugestao",placeholder:"Sugestes construtivas...",value:i.sugestao,onChange:M,className:"form-textarea"})]}),T.jsx("button",{type:"submit",disabled:l||d||!n,className:"submit-button",children:l?O?"Atualizando...":"Enviando...":O?"Atualizar Avaliao":"Enviar Avaliao"})]})]}):T.jsxs("div",{className:"panel scoring-panel",children:[T.jsx("h3",{className:"panel-title",children:"Painel de Avaliao "}),T.jsx("p",{children:"Selecione um participante para iniciar a avaliao."})]})}const m4=[{value:"",label:"Mdia Calculada"},{value:"2 Prmio",label:"2 Prmio"},{value:"3 Prmio",label:"3 Prmio"},{value:"Meno Honrosa",label:"Meno Honrosa"},{value:"No Atribudo",label:"No Atribudo / Sem Prmio"}];function g4(){const[n,e,t]=hv(Nc),i=Ua(),[a,l]=F.useState([]),[c,d]=F.useState(!0),[p,g]=F.useState(""),[v,b]=F.useState(null),[w,O]=F.useState(!1),[C,M]=F.useState({title:"",message:""});F.useEffect(()=>{!e&&!n&&i("/jurylogin")},[n,e,i]),F.useEffect(()=>{(async()=>{if(n){d(!0),b(null);try{const G=hc(Va(ai,"inscricoes"),fc("dataInscricao","desc")),J=(await dc(G)).docs.map(x=>{const S=x.data(),I=[];return S.peca1&&I.push({nome:S.peca1,url:S.partitura1Url||null}),S.peca2&&I.push({nome:S.peca2,url:S.partitura2Url||null}),{id:x.id,nome:S.nome||"Nome Indisponvel",categoria:S.categoria||"Categoria Indisponvel",grau:S.grau||"Grau no especificado",fotoUrl:S.fotoUrl||"",pecas:[S.peca1?{nome:S.peca1,url:S.partitura1Url||null}:null,S.peca2?{nome:S.peca2,url:S.partitura2Url||null}:null].filter(D=>D&&D.nome),email:S.email||"",finalOfficialAward:S.finalOfficialAward||""}});l(J)}catch(G){console.error("Error fetching participants: ",G),b("Erro ao carregar lista de participantes.")}finally{d(!1)}}})()},[n]);const N=j=>{g(j.target.value)},z=a.find(j=>j.id===p),q=async(j,G)=>{if(!j){M({title:"Erro",message:"Nenhum participante selecionado para atribuir classificao."}),O(!0);return}const Q=a.find(x=>x.id===j),J=Q?Q.nome:"Participante desconhecido";try{const x=Sd(ai,"inscricoes",j);await gR(x,{finalOfficialAward:G},{merge:!0}),l(S=>S.map(I=>I.id===j?{...I,finalOfficialAward:G}:I)),M({title:"Sucesso!",message:`Classificao oficial para ${J} definida como: "${G||"Mdia Calculada"}".`}),O(!0)}catch(x){console.error("Error saving official award: ",x),M({title:"Erro ao Salvar",message:"Falha ao atualizar a classificao oficial."}),O(!0)}};return e?T.jsx("div",{className:"page-loading-full",children:T.jsx("p",{children:"Carregando autenticao..."})}):t?T.jsx("div",{className:"page-error-full",children:T.jsxs("p",{children:["Erro de autenticao: ",t.message]})}):n?T.jsxs("div",{className:"dashboard-page-container",children:[T.jsx(zR,{isOpen:w,onClose:()=>O(!1),title:C.title,children:T.jsx("p",{children:C.message})}),c?T.jsx("div",{className:"panel loading-panel-content",children:T.jsx("p",{children:"A carregar participantes..."})}):v?T.jsx("div",{className:"panel error-message-content",children:v}):T.jsxs("div",{className:"participant-selector panel",children:[T.jsx("label",{htmlFor:"participant-select",children:"Selecione o Participante:"}),T.jsxs("select",{id:"participant-select",value:p,onChange:N,className:"form-select",children:[T.jsx("option",{value:"",children:"-- Escolha um participante --"}),a.length>0?a.map(j=>T.jsxs("option",{value:j.id,children:[j.nome," (",j.categoria,")"]},j.id)):T.jsx("option",{value:"",disabled:!0,children:"Nenhum participante encontrado."})]})]}),T.jsxs("main",{className:"main-content",children:[T.jsx(f4,{participant:z,awardOptions:m4,onSaveAward:q}),T.jsx(p4,{participant:z,juryEmail:n==null?void 0:n.email})]})]}):null}const Ps=["afinacao","ritmo","som","postura","expressividade","presenca"],YT=["A - 2 ano de iniciao","B - 3 e 4 ano de iniciao","C - 1 e 2 Grau","D - 3 e 4 Grau","E - 5 e 6 Grau","F - 7 e 8 Grau"],QT=n=>{if(!n||n===""||n.toLowerCase().includes("calcular")||n.toLowerCase().includes("no definido"))return 999;if(n.toLowerCase().includes("meno honrosa"))return 99;if(n.toLowerCase().includes("no atribudo"))return 998;const e=n.match(/^(\d+)/);return e&&parseInt(e[1],10)===0?997:e?parseInt(e[1],10):996},v4=n=>{let e=999,t=n,i=!1;if(!n||n===""||n.toLowerCase().includes("calcular")||n.toLowerCase().includes("no definido"))e=999,t="";else if(n.toLowerCase().includes("meno honrosa"))e=99,t="Meno Honrosa",n.toLowerCase().includes("ex aequo")&&(i=!0);else if(n.toLowerCase().includes("no atribudo"))e=998,t="No Atribudo";else{const a=n.match(/^(\d+)/);a?(e=parseInt(a[1],10),e===0&&(e=997)):e=996,n.toLowerCase().includes("ex aequo")&&(i=!0)}return{numericalPlace:e,displayString:t,isExAequoByString:i}},y4=n=>{let e=0,t=0;return Ps.forEach(i=>{n&&n[i]!==void 0&&(e+=n[i],t++)}),t>0?parseFloat((e/t).toFixed(2)):0},_4=async()=>{const n=new Map,e=hc(Va(ai,"inscricoes"),fc("dataInscricao","desc"));(await dc(e)).docs.forEach(l=>{const c=l.data();n.set(l.id,{id:l.id,name:c.nome||"Nome Desconhecido",category:c.categoria||"Categoria Desconhecida",grau:c.grau||"Grau no especificado",finalOfficialAward:c.finalOfficialAward||"",juryScores:{},criteriaTotals:Ps.reduce((d,p)=>({...d,[p]:0}),{}),criteriaCounts:Ps.reduce((d,p)=>({...d,[p]:0}),{}),email:c.email||""})});const i=hc(Va(ai,"avaliacoes"),fc("timestamp","desc"));return(await dc(i)).docs.forEach(l=>{const c=l.data(),{participantId:d,juryEmail:p,scores:g}=c;if(n.has(d)&&g&&p){const v=n.get(d),b=y4(g);Object.keys(g).length>0&&b>=0&&(v.juryScores[p]=b),Ps.forEach(w=>{g[w]!==void 0&&(v.criteriaTotals[w]+=g[w],v.criteriaCounts[w]++)})}else d&&(!g||!p)&&console.warn("Skipping evaluation: missing scores/juryEmail for participantId:",d,c)}),Object.fromEntries(n)},E4=n=>{const e={};if(!n||typeof n!="object")return console.error("calculateAndGroupScores received invalid rawParticipantData:",n),e;Object.values(n).map(i=>{if(!i)return console.warn("Encountered undefined participant in rawParticipantData"),null;const a=i.juryScores&&typeof i.juryScores=="object"?Object.values(i.juryScores):[];let l=0;a.length>0&&(l=a.reduce((p,g)=>p+g,0)/a.length);const c={};i.criteriaCounts&&typeof i.criteriaCounts=="object"&&i.criteriaTotals&&typeof i.criteriaTotals=="object"?Ps.forEach(p=>{c[p]=i.criteriaCounts[p]>0?parseFloat((i.criteriaTotals[p]/i.criteriaCounts[p]).toFixed(2)):0}):Ps.forEach(p=>{c[p]=0});const d=v4(i.finalOfficialAward);return{...i,overallAverage:parseFloat(l.toFixed(2)),criteriaAveragesForDisplay:c,numberOfJuriesWhoScored:a.length,awardNumericalPlace:d.numericalPlace,awardDisplayStringFromJury:d.displayString,awardIsExAequoByJuryString:d.isExAequoByString}}).filter(i=>i!==null).forEach(i=>{if(!i||!i.category){console.warn("Skipping participant result due to missing data:",i);return}const a=i.category;e[a]||(e[a]=[]),e[a].push(i)});for(const i in e){const a=e[i];a.sort((d,p)=>{if(!d||!p)return 0;const g=d.awardNumericalPlace,v=p.awardNumericalPlace;return g!==v?g-v:p.overallAverage!==d.overallAverage?p.overallAverage-d.overallAverage:d.name.localeCompare(p.name)});let l=0,c=-1/0;a.forEach(d=>{d&&(d.awardNumericalPlace===999?(d.overallAverage!==c&&l++,d.scoreBasedNumericalRank=l,c=d.overallAverage):d.scoreBasedNumericalRank=d.awardNumericalPlace)}),a.forEach((d,p)=>{if(d){if(d.isExAequo=!1,d.awardNumericalPlace!==999){if(d.placeDisplayString=d.awardDisplayStringFromJury,d.isExAequo=d.awardIsExAequoByJuryString,!d.isExAequo&&p>0){const g=a[p-1];g&&d.awardDisplayStringFromJury===g.awardDisplayStringFromJury&&d.awardNumericalPlace<99&&g.awardNumericalPlace<99&&(d.isExAequo=!0,g.isExAequo=!0)}d.isExAequo&&!d.placeDisplayString.toLowerCase().includes("ex aequo")&&d.awardNumericalPlace<99&&(d.placeDisplayString+=" (Ex Aequo)")}else{d.placeDisplayString=`${d.scoreBasedNumericalRank}`,d.isExAequo=!1;const g=a[p-1],v=a[p+1],b=g&&g.awardNumericalPlace===999&&d.overallAverage===g.overallAverage&&d.scoreBasedNumericalRank===g.scoreBasedNumericalRank,w=v&&v.awardNumericalPlace===999&&d.overallAverage===v.overallAverage&&d.scoreBasedNumericalRank===v.scoreBasedNumericalRank;(b||w)&&(d.isExAequo=!0),d.isExAequo&&(b&&!g.placeDisplayString.toLowerCase().includes("ex aequo")&&(g.placeDisplayString=`${g.scoreBasedNumericalRank} (Ex Aequo)`),d.placeDisplayString.toLowerCase().includes("ex aequo")||(d.placeDisplayString+=" (Ex Aequo)")),d.scoreBasedNumericalRank>3&&(d.placeDisplayString="Meno Honrosa",d.isExAequo=!1)}d.placeDisplayString==="0"&&(d.placeDisplayString="No Atribudo"),(!d.placeDisplayString||["999","998","997","996"].includes(d.placeDisplayString)||d.placeDisplayString==="")&&(d.placeDisplayString="-")}}),a.sort((d,p)=>{if(!d||!p)return 0;const g=QT(d.placeDisplayString),v=QT(p.placeDisplayString);return g!==v?g-v:p.overallAverage!==d.overallAverage?p.overallAverage-d.overallAverage:d.name.localeCompare(p.name)})}return e};function b4(){const[n,e]=hv(Nc),t=Ua(),[i,a]=F.useState({}),[l,c]=F.useState(!0),[d,p]=F.useState("");F.useEffect(()=>{},[n,e,t]),F.useEffect(()=>{n?(async()=>{c(!0),p("");try{const b=await _4(),w=E4(b);a(w)}catch(b){console.error("Error fetching or processing evaluations:",b),p("Erro ao carregar as avaliaes. Tente novamente.")}finally{c(!1)}})():!e&&!n&&(c(!1),p("Autenticao necessria para ver esta pgina."))},[n,e]);const g=F.useMemo(()=>Object.keys(i).sort((v,b)=>{const w=YT.indexOf(v),O=YT.indexOf(b);return w===-1&&O===-1?v.localeCompare(b):w===-1?1:O===-1?-1:w-O}),[i]);return l?T.jsx("div",{className:"page-content-centered",children:T.jsx("p",{className:"loading-text",children:"Carregando resultados finais..."})}):T.jsx("div",{className:"jury-final-scores-content-area",children:T.jsxs("main",{className:"final-scores-content",children:[T.jsx("h1",{className:"page-title",children:"Resultados Finais do Concurso (Jri)"}),d&&T.jsx("p",{className:"error-message",children:d}),!d&&g.length===0&&!l&&T.jsx("p",{children:"Ainda no h dados de participantes ou avaliaes para exibir os resultados."}),g.map(v=>i[v]&&i[v].length>0&&T.jsxs("div",{className:"category-section",children:[T.jsx("h2",{className:"category-title",children:v}),T.jsx("div",{className:"scores-table-container",children:T.jsxs("table",{children:[T.jsx("thead",{children:T.jsxs("tr",{children:[T.jsx("th",{children:"Lugar"}),T.jsx("th",{children:"Participante"}),Ps.map(b=>T.jsx("th",{className:"criterion-header",children:b.charAt(0).toUpperCase()+b.slice(1)},b)),T.jsx("th",{children:"Jris (N)"}),T.jsx("th",{children:"Mdia Final"})]})}),T.jsx("tbody",{children:i[v].map(b=>{var w;return b?T.jsxs("tr",{children:[T.jsx("td",{children:b.placeDisplayString}),T.jsx("td",{children:b.name}),Ps.map(O=>T.jsx("td",{children:b.criteriaAveragesForDisplay&&b.criteriaAveragesForDisplay[O]!==void 0?b.criteriaAveragesForDisplay[O].toFixed(2):"N/A"},O)),T.jsx("td",{children:b.numberOfJuriesWhoScored}),T.jsx("td",{children:T.jsx("strong",{children:((w=b.overallAverage)==null?void 0:w.toFixed(2))??"N/A"})})]},b.id):null})})]})})]},v))]})})}function T4(){return T.jsx(BI,{basename:"/concurso-interno-violino",children:T.jsxs(gI,{children:[T.jsxs(cr,{element:T.jsx(bN,{}),children:[T.jsx(cr,{path:"/",element:T.jsx(WU,{})}),T.jsx(cr,{path:"/inscricao",element:T.jsx(t4,{})}),T.jsx(cr,{path:"/regulamento",element:T.jsx(n4,{})}),T.jsx(cr,{path:"/participantes",element:T.jsx(r4,{})}),T.jsx(cr,{path:"/juri",element:T.jsx(o4,{})}),T.jsx(cr,{path:"/resultados",element:T.jsx(l4,{})})]}),T.jsx(cr,{path:"/jurylogin",element:T.jsx(u4,{})}),T.jsxs(cr,{element:T.jsx(XU,{}),children:[T.jsx(cr,{path:"/avaliar",element:T.jsx(g4,{})}),T.jsx(cr,{path:"/resultados-juri",element:T.jsx(b4,{})})]})]})})}TC.createRoot(document.getElementById("root")).render(T.jsx(F.StrictMode,{children:T.jsx(T4,{})}));
